<link href="../../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">User:Reqrefusion/FreeCAD-Ribbon/03‚Äê Ribbon design</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><p>When clicking on the button "Ribbon Design" in the Application menu, a Ribbon Design dialog will show up.  
Please be aware that in order to get all the commands per toolbar and per workbench, all workbenches need to be loaded. This will result in a loading time of the menu. It can take a minute or two.
</p><p>The dialog will modify the "RibbonStructure.json" file which is used to store the design of the ribbon UI.
</p>
<meta property="mw:PageProp/toc">
<h3><span class="mw-headline" id="The_UI">The UI</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_UI.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign UI.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign UI.png</span></a><figcaption></figcaption></figure>
<p>The Ui is divided in 5 main sections:
</p>
<ul><li>The button to generate or update the data file</li>
<li>The tab bar</li>
<li>Reset and restore buttons</li>
<li>Dialog buttons</li>
<li>Help button</li></ul>
<h4><span class="mw-headline" id="Create_or_update_the_data_file">Create or update the data file</span></h4>
<p>In previous versions of the FreeCAD Ribbon, every workbench had to be activated during opening of the Layout dialog. This resulted in a long loading time. Now the first time the Layout dialog is opened, a datafile is generated which stores all the information needed to show all the commands with their icons. With this datafile activating every workbench is no longer needed, which reduces the loading time of the dialog.
</p><p>Press the reload button when an update is needed.
</p>
<h4><span class="mw-headline" id="Tab_bar">Tab bar</span></h4>
<p>With the tab bar you can select the different tabs
</p>
<h4><span class="mw-headline" id="Reset_and_restore_buttons">Reset and restore buttons</span></h4>
<p>The restore button is used to restore the current "RibbonStructure.json" to a previous version. For this the backup function needs to be enabled.
With the reset button you can reset the ribbon to the initial design. For this the file "RibbonStructure_default.json" is used. See chapter "Scripts"on how to create your own "RibbonStructure_default.json" file.
</p>
<h4><span class="mw-headline" id="Dialog_buttons">Dialog buttons</span></h4>
<p>The update button updates the "RibbonStructure.json" without closing the dialog.  
The cancel button closes the dialog without updating "RibbonStructure.json".  
The close button updates the "RibbonStructure.json" and closes the dialog. When changes are made, a dialog will be shown to ask you to restart FreeCAD.  
This is the same dialog used with the addon manager.  
</p>
<h4><span class="mw-headline" id="Help_button">Help button</span></h4>
<p>This button opens the home page of this wiki in your default browser.
</p>
<h3><span class="mw-headline" id="The_initial_setup">The initial setup</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_InitialSetup.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign InitialSetup.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign InitialSetup.png</span></a><figcaption></figcaption></figure>
<h4><span id="Import.2FExport_functions"></span><span class="mw-headline" id="Import/Export_functions">Import/Export functions</span></h4>
<p>On the top left you find the functions to import and export the ribbon design file. This is the file "RibbonStructure.json". There are currently 5 functions:
- Import an entire layout.
- Export the current layout.
- Import custom panels.
- Import dropdown buttons
- Import layouts for specific workbenches
</p><p>The file from which the import is done, can be either a complete RibbonStructure.json file or a json file that contains only the data that needs to be added or updated.
</p>
<h4><span class="mw-headline" id="Set_the_initial_position_of_custom_panels">Set the initial position of custom panels</span></h4>
<p>When you create a custom panel, its position is initially put at the end (right side) of the ribbon. Here you can set the position to the left if desired. 
</p><p><i>Note: This is only the initial position. After you have changed its position in the ribbon design tab, you have to change its position from the design tab always.</i>
</p>
<h4><span class="mw-headline" id="Set_the_default_size_of_the_buttons">Set the default size of the buttons</span></h4>
<p>You can set the button size for the buttons for:
- Every workbench
- Specific workbenches
- Specific panels.
The section in the middle is used to set the icon for the workbenches. Select any workbench or "All". On the top set the dropdown button to the desired size and press generate.
</p><p>On the right you can select any panel, select the desired size in the dropdown button and press generate.
</p>
<h3><span class="mw-headline" id="The_quick_access_toolbar">The quick access toolbar</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_QAT.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign QAT.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign QAT.png</span></a><figcaption></figcaption></figure>
<h4><span class="mw-headline" id="Filter_area">Filter area</span></h4>
<p>The filter area can be used to shorten the list of commands. This can be helpful when searching for a command.  
</p>
<h4><span class="mw-headline" id="Add_commands_to_the_quick_access_toolbar">Add commands to the quick access toolbar</span></h4>
<p>On the left you will see all commands with an icon that are present in FreeCAD. You can select multiple commands and add them to the list on the right by clicking on the right arrow. If you select a command on the list on the right and click on the left arrow, you remove the command from the quick access toolbar.  
You can sort the commands on the quick access toolbar by select a command and click on the up and down arrows.
</p>
<h3><span class="mw-headline" id="Exclude_panels">Exclude panels</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_ExcludePanels.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign ExcludePanels.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign ExcludePanels.png</span></a><figcaption></figcaption></figure>
<p>It is important to understand that all panels are based on FreeCAD toolbars. (Except for custom panels)
This tab will show a list of panelss which can be excluded from being used for the ribbon.
</p>
<h4><span class="mw-headline" id="Filter_area_2">Filter area</span></h4>
<p>The filter area can be used to shorten the list of panelss. This can be helpful when searching for a command.  
</p>
<h4><span class="mw-headline" id="Exclude_panels_2">Exclude panels</span></h4>
<p>You can exclude panels by selecting one or more panels from the list on the left.  
Click on the right arrow, to exclude the selected panel(s).
Select an excluded panel and click on the left arrow, to include the toolbar again.
</p>
<h3><span class="mw-headline" id="Include_workbenches">Include workbenches</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_IncludeWorkbenches.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign IncludeWorkbenches.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign IncludeWorkbenches.png</span></a><figcaption></figcaption></figure>
<h4><span class="mw-headline" id="Include_workbenches_2">Include workbenches</span></h4>
<p>You can include workbenches by selecting one or more workbenches from the list on the left. Click on the right arrow, to include the selected workbench(s).
Select an included workbench and click on the left arrow, to exclude the workbench again.
</p>
<h3><span class="mw-headline" id="Combine_panels">Combine panels</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_CombinePanels.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign CombinePanels.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign CombinePanels.png</span></a><figcaption></figcaption></figure>
<p>This is one of two methods to create custom panels. With this method you can create your own custom panels by combining panels. This can be useful when a workbench has a few panels with only one or two buttons.  
Combined panels are workbench specific. It is not possible to mix panels from different workbenches into one panel.
However, custom made panels are included. So you can create a custom panel with the normal FreeCAD toolbar UI. This toolbar is then also included in the ribbon as a panel.  
</p>
<h4><span class="mw-headline" id="Combine_panels_2">Combine panels</span></h4>
<p>To combine panels, take the following steps:
</p>
<ol><li>In the top dropdown select "new". The left and right list will be cleared.</li>
<li>Select a workbench in the second dropdown. On the left the toolbars of this workbench well be shown.</li>
<li>Now select one or more panels and click on the arrow pointing to the right. On the right all the commands of these toolbar will be shown.</li>
<li>On the right you can select a command and use the up/down arrows to change the position of the command. (This can also be done in the Ribbon design tab)</li>
<li>In the input box, enter a name for your panel. Click on the "add" button to add your panel.</li></ol>
<p>The panels which are replaced by this combined will not be used by the ribbon.
</p>
<h4><span class="mw-headline" id="remove_a_panel">remove a panel</span></h4>
<p>You can remove a panel, by selecting it in the top dropdown and click on the "remove" button.
</p>
<h3><span class="mw-headline" id="Create_dropdown_buttons">Create dropdown buttons</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_DropdownButtons.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign DropdownButtons.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign DropdownButtons.png</span></a><figcaption></figcaption></figure>
<p>From version 1.5.0 onwards it is possible to create your own dropdown buttons.  
The dropdown buttons can be used with the quickaccess toolbar and with the custom panels based on commands
</p>
<h4><span class="mw-headline" id="Create_a_dropdown_button">Create a dropdown button</span></h4>
<p>To create dropdown button, take the following steps:
</p>
<ol><li>On the top right corner select "New". The list with commands for the dropdown command will be cleared.</li>
<li>Select any command from the left list and click on the arrow pointing to the right.</li></ol>
<pre>  On the right all the commands for the dropdown button will be shown.
</pre>
<ol><li>Enter a name for the dropdown command in the field above the list with the commands</li>
<li>Press "Create/update dropdown button". The dropdown button is now stored and added to every list with commands across the dialog.</li></ol>
<h4><span class="mw-headline" id="remove_a_dropdown_button">remove a dropdown button</span></h4>
<p>You can remove a dropdown button, by selecting it in the top right dropdown and click on the "remove" button.
</p>
<h3><span class="mw-headline" id="Create_new_panels">Create new panels</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_NewPanels.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign NewPanels.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign NewPanels.png</span></a><figcaption></figcaption></figure>
<p>This is the second method to create a custom panel. This method is very similar to the first method. Only instead of adding panels, you can add a command from a list of commands. These panels can mix command from any workbench and can be used globally.
</p>
<h4><span class="mw-headline" id="Combine_panels_3">Combine panels</span></h4>
<p>To create a panel, take the following steps:
</p>
<ol><li>In the top dropdown select "new". The right list will be cleared.</li>
<li>Select a workbench in the second dropdown. The panel will be added this workbench.</li></ol>
<pre>  If you select the global workbench, the panel will be added to all workbenches.
</pre>
<ol><li>Now select one or more commands and click on the arrow pointing to the right. On the right the commands will be shown.</li>
<li>On the right you can select a command and use the up/down arrows to change the position of the command.</li></ol>
<pre>  (This can also be done in the Ribbon design tab)
</pre>
<ol><li>In the input box, enter a name for your panel. Click on the "add" button to add your panel.</li></ol>
<h4><span class="mw-headline" id="remove_a_panel_2">remove a panel</span></h4>
<p>You can remove a panel, by selecting it in the top dropdown and click on the "remove" button.
</p>
<h3><span class="mw-headline" id="Ribbon_design">Ribbon design</span></h3>
<figure class="mw-default-size mw-halign-center" typeof="mw:Error mw:File/Thumb"><a href="../../index.php?title=Special;Upload&amp;wpDestFile=FreeCAD-Ribbon_RibbonDesign_Tab.png.html" class="new" title="File:FreeCAD-Ribbon RibbonDesign Tab.png"><span class="mw-file-element mw-broken-media" data-width="180">File:FreeCAD-Ribbon RibbonDesign Tab.png</span></a><figcaption></figcaption></figure>
<p>Here you can design your ribbon for each workbench that you have installed. On the left part of the dialog, you can change per panel the following:  
- Set the size of the command button to small, medium or large  
- Enable or disable a command button  
- Change the text for the command  
- change the position of the command  
- add separators to organize your commands  
</p><p>On the right part of the dialog, you can change the order of the panels.
When selecting a toolbar in the second dropdown, you can also check "Icon only". This toolbar/panel will then show commands with icons only. despite what setting is set in the preference dialog.  
Important to understand is that is function is based on the name of the toolbar/panel. This means that a panel with the same name in another workbench will also show commands with icons only.
</p>
<!-- 
NewPP limit report
Cached time: 20251115230051
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.023 seconds
Real time usage: 0.037 seconds
Preprocessor visited node count: 92/1000000
Post&#8208;expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:401471-0!canonical and timestamp 20251115230051 and revision id 1692751. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../../site.js"></script>