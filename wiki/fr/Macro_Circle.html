<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Macro Circle/fr</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="fr" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-Macro+Circle&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><a href="../Macro_Circle.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Macro Circle (100% translated)" lang="en" dir="ltr">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="fr" dir="ltr">fran&ccedil;ais</span></li>
<li><a href="../it/Macro_Circle.html" class="mw-pt-progress mw-pt-progress--complete" title="Macro Cerchio (100% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Macro_Circle.html" class="mw-pt-progress mw-pt-progress--low" title="Makrodefinicja: Okr&#261;g (6% translated)" lang="pl" dir="ltr">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" width="100%" style="float: right; width: 230px; margin-left: 10px;">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a href="../index.php?title=Macro_Circle.png&amp;filetimestamp=20190619091339&amp;.html" class="mw-file-description"><img src="../File/Macro_Circle.png" decoding="async" width="32" height="32" class="mw-file-element" data-file-width="64" data-file-height="64"></a></span><span> </span>
Macro Circle
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Cr&eacute;e un cercle en donnant diff&eacute;rents param&egrave;tres (sans interface graphique). Le nouveau cercle est cr&eacute;&eacute; dans les coordonn&eacute;es r&eacute;elles de l'objet et non dans celles du corps.<br><span style="background-color: #ffeeee">(Ligne de commande, collez cette macro compl&egrave;te dans la console Python)</span>.<br><br>Version macro&nbsp;: 0.4<br>Date derni&egrave;re modification&nbsp;: 2019-06-19<br>Version FreeCAD&nbsp;: Toutes<br>T&eacute;l&eacute;chargement&nbsp;: <a rel="nofollow" class="external text" href="https://www.freecad.org/wiki/images/9/9d/Macro_Circle.png">Ic&ocirc;ne de la barre d'outils</a><br>Auteur: mario52<br>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="../User;Mario52.html" title="User:Mario52">mario52</a>
</td></tr>
<tr>
<th class="ctOdd">T&eacute;l&eacute;chargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a rel="nofollow" class="external text" href="https://www.freecad.org/wiki/images/9/9d/Macro_Circle.png">Ic&ocirc;ne de la barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="../fr/Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br><a href="../fr/How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br><a href="../fr/Customize_Toolbars.html" title="Customize Toolbars/fr">Comment cr&eacute;er une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">0.4
</td></tr>
<tr>
<th class="ctOdd">Derni&egrave;re modification
</th></tr>
<tr>
<td class="ctEven macro-date">2019-06-19
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">Toutes
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><a href="../fr/Macro_CirclePlus.html" title="Macro CirclePlus/fr">Macro CirclePlus</a>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br><meta property="mw:PageProp/toc">
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Cette petite macro vous permet de cr&eacute;er un cercle en donnant comme argument diff&eacute;rents param&egrave;tres comme le rayon, le diam&egrave;tre, la circonf&eacute;rence, la surface, angle de d&eacute;part, angle de fin, arc, angle central, corde, fl&egrave;che, point au centre du cercle, placement de l'objet au choix. La nouveau cercle est cr&eacute;&eacute;e dans les coordonn&eacute;es r&eacute;elles de l'objet et non dans celles du corps.<br> <span style="background-color: #ffeeee">(Ligne de commande, collez cette macro compl&egrave;te dans la console Python)</span>.
</p><p>Le cercle fait toujours face &agrave; l'&eacute;cran (avec la commande getCameraOrientation) (ou donner le placement) 
</p><p><span id="Usage"></span>
</p>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Copier le code et le coller dans la console Python de FreeCAD la commande est utilis&eacute;e tout le temps &agrave; la disposition de FreeCAD ouvert
Donner le param&egrave;tre au choix&nbsp;: 
</p>
<ul><li><b>x y z</b>&nbsp;: coordonn&eacute;es du cercle s'il n'y a pas de coordonn&eacute;es, le cercle est cr&eacute;&eacute; aux coordonn&eacute;es 0,0,0</li>
<li><b>radius</b>&nbsp;: rayon du cercle</li>
<li><b>diameter</b>&nbsp;: diam&egrave;tre du cercle</li>
<li><b>circumference</b>&nbsp;: circonf&eacute;rence du cercle</li>
<li><b>area</b>&nbsp;: surface du cercle</li>
<li><b>startangle</b>&nbsp;: d&eacute;but de l'angle de l'arc &agrave; cr&eacute;er</li>
<li><b>endangle</b>&nbsp;: fin de l'angle de l'arc</li>
<li><b>arc</b> et <b>anglecenter</b>&nbsp;: longueur de l'arc arc en combinaison avec angle central
<ul><li><b>arc</b> =  longueur de l'arc</li>
<li><b>anglecenter</b> = angle central &agrave; partir du centre du cercle jusqu'aux deux extr&eacute;mit&eacute;s de l'arc (l'angle est donn&eacute; en degr&eacute;s)</li></ul></li>
<li><b>cord</b> et <b>arrow</b>&nbsp;: longueur de la corde en combinaison avec la longueur de la fl&egrave;che
<ul><li><b>cord</b>&nbsp;: longueur de la corde du cercle</li>
<li><b>arrow</b>&nbsp;: longueur de la fl&egrave;che du cercle</li></ul></li>
<li><b>center</b>&nbsp;: si "center" est diff&eacute;rent de 0 un point sera cr&eacute;&eacute; au centre du cercle</li>
<li><b>placemObject</b>&nbsp;: imposer le placement sous cette forme
<ul><li>exemple&nbsp;:</li>
<li>pl=FreeCAD.Placement()</li>
<li>pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)</li>
<li>pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)</li>
<li>et donner <b>placemObject = pl</b></li></ul></li></ul>
<p>S'il n'y a pas de param&egrave;tre ex: "<b>circle()</b>" la liste des fonctions disponibles est affich&eacute;e
<br><br>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Ic&ocirc;ne de la barre d'outils <span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Macro_Circle.png&amp;filetimestamp=20190619091339&amp;.html" class="mw-file-description"><img src="../File/Macro_Circle.png" decoding="async" width="64" height="64" class="mw-file-element" data-file-width="64" data-file-height="64"></a></span>
</p><p><b>Macro_circle.FCMacro</b>
</p>
<pre>#-*- coding: utf-8 -*-
#from math import sqrt, pi
# creer un cercle ou un arc entierement parametrabel en utilisant&nbsp;:
# create a circle or arc fully parametrabel using:
#
# paste the complete macro in the Python console
#
# x x x coordinates
#with radius
#with diameter
#with circumference
#with area
#with startangle
#with endangle
#with [arc and anglecenter]      in combination (angle in degrees)
#with [cord and arrow]           in combination
#with center (if center as different 0 one point is created on center of circle)
#give placemObject  
# ex :pl=FreeCAD.Placement()
#     pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)
#     pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)
#     placemObject = pl
# s'il n'y a pas de parametre "circle()" une liste des fonctions s'affiche dans la Vue rapport
# if there is no parameter "circle()" a list of functions is displayed in the report view

__title__   = "circle"
__author__  = "Mario52"
__version__ = "0.4"
__date__    = "19/06/2019"

import Draft #, Part
import FreeCAD
App = FreeCAD

def circle(x=0.0,y=0.0,z=0.0,radius=0.0,diameter=0.0,circumference=0.0,area=0.0,startangle=0.0,endangle=0.0,arc=0.0,anglecenter=0.0,cord=0.0,arrow=0.0,center=0,placemObject=""):
    from math import sqrt, pi
    if placemObject == "":
        pl = FreeCAD.Placement()
        pl.Rotation = FreeCADGui.ActiveDocument.ActiveView.getCameraOrientation()   
        pl.Base = FreeCAD.Vector(x,y,z)
    else:
        pl = FreeCAD.Placement()
        pl = placemObject                                  # placement imposted
    if diameter&nbsp;!= 0:                                      # with diameter
        radius = diameter / 2.0
    elif circumference&nbsp;!= 0:                               # with circumference
        radius = (circumference / pi) / 2.0
    elif area&nbsp;!= 0:                                        # with area
        radius =  sqrt((area / pi))
    elif (cord&nbsp;!= 0) and (arrow&nbsp;!= 0):                     # with cord and arrow
        radius = ((arrow**2) + (cord**2) / 4.0) / (arrow*2) 
    elif (arc&nbsp;!= 0) and (anglecenter&nbsp;!= 0):                # with arc and anglecenter central in degrees
        radius = ((360/anglecenter)*arc) / pi/2.0
        if endangle&nbsp;!= 0:
            startangle  = endangle - anglecenter
        endangle   = anglecenter + startangle
        startangle  = endangle - anglecenter
    if radius&nbsp;!= 0:
        try:
            Draft.makeCircle(radius,placement=pl,face=False,startangle=startangle,endangle=endangle,support=None)
            if center&nbsp;!= 0:
                x=pl.Base.x
                y=pl.Base.y
                z=pl.Base.z
                Draft.makePoint(x,y,z)
            
        except Exception:
            App.Console.PrintError("Unexpected keyword argument" + "\n")
        App.ActiveDocument.recompute()
    else:
        App.Console.PrintMessage("Unexpected keyword argument" + "\n")
        App.Console.PrintMessage("circle(x,y,z,radius,diameter,circumference,area,startangle,endangle,[arc,anglecenter],[cord,arrow],center,placemObject)" + "\n")
        App.Console.PrintMessage("circle(radius=10.0,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))" + "\n")
#example
#circle(arc=50,anglecenter=20,center=1)
#circle(x=10.0,y=10.0,z=10.0,radius=10.0)
#circle(radius=10.0,center=1,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))</pre>
<p><span id="Memo_of_circle"></span>
</p>
<h2><span class="mw-headline" id="Memo_sur_le_cercle">Memo sur le cercle</span></h2>
<p><b>Exemples de codes</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># example 1</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">diameter</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># example 2</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">circumference</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 3</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a href="../index.php?title=Macro_Circle_01.png&amp;filetimestamp=20150206095047&amp;.html" class="mw-file-description" title="examples 1, 2, 3"><img alt="examples 1, 2, 3" src="../File/Macro_Circle_01.png" decoding="async" width="640" height="293" class="mw-file-element" data-file-width="700" data-file-height="320"></a><figcaption>examples 1, 2, 3</figcaption></figure>
<div style="clear:both"></div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">area</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 4</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">endangle</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 5</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">cord</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">arrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 left</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">arc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span><span class="n">anglecenter</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 rigth</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a href="../index.php?title=Macro_Circle_02.png&amp;filetimestamp=20150206095146&amp;.html" class="mw-file-description" title="examples"><img alt="examples" src="../File/Macro_Circle_02.png" decoding="async" width="640" height="293" class="mw-file-element" data-file-width="700" data-file-height="320"></a><figcaption>examples</figcaption></figure>
<div style="clear:both"></div>
<h2><span class="mw-headline" id="Version">Version</span></h2>
<p>ver 0.4 19/06/2019&nbsp;: mise &agrave; jour version 0.19
</p><p>ver 0.3 10/06/2018&nbsp;: remplacement de /2 par /2.0 (flottant)
</p><p>ver 0.2 24/02/2015&nbsp;: ajout de la fonction "<b>placemObject</b>"
</p>
<!-- 
NewPP limit report
Cached time: 20251009171836
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.064 seconds
Real time usage: 0.081 seconds
Preprocessor visited node count: 160/1000000
Post&#8208;expand include size: 3246/2097152 bytes
Template argument size: 4666/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 7721/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.468      1 -total
 46.56%    6.271      1 Template:Macro/fr
 24.27%    3.269      1 Template:MacroCode
 18.67%    2.514      2 Template:ColoredText
 12.50%    1.684      2 Template:Code
 11.14%    1.500      2 Template:Clear
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:56365-0!canonical and timestamp 20251009171836 and revision id 1659639. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>