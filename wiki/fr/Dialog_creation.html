<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Dialog creation/fr</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../de/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--complete" title="Dialogerstellung (100% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="../Dialog_creation.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Dialog creation (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../tr/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--stub" title="Dialog creation (2% translated)" lang="tr" dir="ltr">T&uuml;rk&ccedil;e</a></li>
<li><a href="../es/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Dialog creation (38% translated)" lang="es" dir="ltr">espa&ntilde;ol</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="fr" dir="ltr">fran&ccedil;ais</span></li>
<li><a href="../it/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--complete" title="Creare delle finestre di dialogo (100% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--complete" title="Tworzenie dialogu (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../pt-br/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--stub" title="Cria&ccedil;&atilde;o de di&aacute;logo (2% translated)" lang="pt-BR" dir="ltr">portugu&ecirc;s do Brasil</a></li>
<li><a href="../ro/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--med" title="Crearea de ferestre de dialog (56% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../sv/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Dialog creation (38% translated)" lang="sv" dir="ltr">svenska</a></li>
<li><a href="../cs/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--stub" title="Dialog creation/cs (0% translated)" lang="cs" dir="ltr">&#269;e&scaron;tina</a></li>
<li><a href="../ru/Dialog_creation.html" class="mw-pt-progress mw-pt-progress--high" title="&#1056;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1072; &#1076;&#1080;&#1072;&#1083;&#1086;&#1075;&#1086;&#1074; (62% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="../fr/Interface_creation.html" title="Interface creation/fr">Cr&eacute;ation d'interface</a></div>
    <div style="margin: 4px 0; float: right;"><a href="../fr/License.html" title="License/fr">Licence</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="../fr/Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24"></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Construire_une_fen%C3%AAtre_de_dialogue"><span class="tocnumber">2</span> <span class="toctext">Construire une fen&ecirc;tre de dialogue</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Cr%C3%A9ation_de_la_fen%C3%AAtre_de_dialogue"><span class="tocnumber">3</span> <span class="toctext">Cr&eacute;ation de la fen&ecirc;tre de dialogue</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Convertir_notre_fen%C3%AAtre_de_dialogue_en_Python"><span class="tocnumber">4</span> <span class="toctext">Convertir notre fen&ecirc;tre de dialogue en Python</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Faire_quelque_chose_avec_notre_fen%C3%AAtre_de_dialogue"><span class="tocnumber">5</span> <span class="toctext">Faire quelque chose avec notre fen&ecirc;tre de dialogue</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Le_script_complet"><span class="tocnumber">6</span> <span class="toctext">Le script complet</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Plus_d'exemples"><span class="tocnumber">7</span> <span class="toctext">Plus d'exemples</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Liens_pertinents"><span class="tocnumber">8</span> <span class="toctext">Liens pertinents</span></a></li>
</ul>
</div>
</div>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>Dans cette page, nous allons montrer comment construire une interface graphique simple avec <a rel="nofollow" class="external text" href="http://qt-project.org/doc/qt-4.8/designer-manual.html">Qt Designer</a>, l'outil officiel de Qt pour concevoir des interfaces. La fen&ecirc;tre de dialogue sera convertie en code <a href="../fr/Python.html" title="Python/fr">Python</a> puis elle sera utilis&eacute;e dans FreeCAD. Nous supposerons que l'utilisateur sait comment &eacute;diter et ex&eacute;cuter <a href="../fr/Python.html" title="Python/fr">Python</a> en g&eacute;n&eacute;ral.
</p><p>Dans cet exemple, l'interface enti&egrave;re est d&eacute;finie en <a href="../fr/Python.html" title="Python/fr">Python</a>. Bien que cela soit possible pour les petites interfaces, pour les interfaces plus importantes, la recommandation est de charger les fichiers <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">.ui</span> cr&eacute;&eacute;s directement dans le programme.
</p><p><span typeof="mw:File"><a href="../File/FreeCAD_creating_interfaces.svg" class="mw-file-description"><img src="../File/FreeCAD_creating_interfaces.svg" decoding="async" width="600" height="247"></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">Deux m&eacute;thodes g&eacute;n&eacute;rales pour cr&eacute;er des interfaces, en incluant l'interface dans le fichier Python, ou en utilisant des fichiers <code>.ui</code>.</p>
<p><span id="Designing_the_dialog"></span>
</p>
<h2><span id="Construire_une_fen.C3.AAtre_de_dialogue"></span><span class="mw-headline" id="Construire_une_fen&ecirc;tre_de_dialogue">Construire une fen&ecirc;tre de dialogue</span></h2>
<p>Dans les applications de CAO, bien concevoir une <b>UI</b> (interface utilisateur) est tr&egrave;s important. Tout ce que l'utilisateur fera, se fera &agrave; travers un outil de l'interface&nbsp;: la lecture des fen&ecirc;tres de dialogue, appuyer sur les boutons, le choix entre les ic&ocirc;nes, etc. Il est donc tr&egrave;s important de r&eacute;fl&eacute;chir attentivement &agrave; la conception de votre fen&ecirc;tre de dialogue, comment vous voulez que l'utilisateur se comporte avec la fen&ecirc;tre et comment sera le flux de travail de votre action.
</p><p>Il y a une deux choses &agrave; savoir lors de la conception de l'interface&nbsp;:<br>
</p>
<ul><li>Fen&ecirc;tres de dialogue <a rel="nofollow" class="external text" href="http://fr.wikipedia.org/wiki/Fen%C3%AAtre_modale">modales ou non-modale</a>&nbsp;:
<ul><li>Une fen&ecirc;tre de dialogue <b>modale</b> appara&icirc;t en face de votre &eacute;cran et, arr&ecirc;te l'action de la fen&ecirc;tre principale, for&ccedil;ant l'utilisateur &agrave; r&eacute;pondre &agrave; la fen&ecirc;tre de dialogue.</li>
<li>Une fen&ecirc;tre de dialogue <b>non modale</b> ne vous emp&ecirc;che pas de travailler sur la fen&ecirc;tre principale, vous pouvez travailler sur les deux fen&ecirc;tres.<br></li></ul></li></ul>
<p>Dans certains cas, le premier est pr&eacute;f&eacute;rable, dans d'autres cas non.
</p>
<ul><li>Identifier ce qui est n&eacute;cessaire et ce qui est optionnel&nbsp;:<br>
<ul><li>Assurez-vous que l'utilisateur sait ce qu'il doit faire. Pr&eacute;voyez des &eacute;tiquettes avec des descriptions appropri&eacute;es, des info-bulles d'utilisation, etc...<br></li></ul></li>
<li>S&eacute;parez les commandes &agrave; partir de param&egrave;tres&nbsp;:<br>
<ul><li>Cela se fait habituellement avec des boutons et des champs de saisie de texte.<br></li>
<li>L'utilisateur sait que cliquer sur un bouton va produire une action, tout en changeant une valeur dans un champ de texte, va changer un param&egrave;tre quelque part. Cependant, aujourd'hui, les utilisateurs savent g&eacute;n&eacute;ralement bien ce qu'est un bouton, ce qu'est un champ de saisie, etc...<br></li></ul></li></ul>
<p>La bo&icirc;te &agrave; outils de l'interface <b>Qt</b> que nous utilisons, est une bo&icirc;te &agrave; outils <b>state-of-the-art</b> (interface graphique avanc&eacute;e), et nous n'aurons pas beaucoup d'inqui&eacute;tudes pour rendre les choses claires, car elles sont d&eacute;j&agrave; tr&egrave;s claires par elles-m&ecirc;mes.
</p><p>Donc, maintenant que nous avons bien d&eacute;fini ce que nous ferons, il est temps d'ouvrir <b>Qt Designer</b>.<br>
Nous allons concevoir tr&egrave;s facilement une simple fen&ecirc;tre de dialogue, comme ceci&nbsp;:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Qttestdialog.jpg" class="mw-file-description"><img src="../File/Qttestdialog.jpg" decoding="async" width="210" height="216"></a></span>
</p><p>Nous allons ensuite utiliser cette fen&ecirc;tre de dialogue dans FreeCAD pour produire une belle surface plane rectangulaire.<br>
Vous ne trouverez peut-&ecirc;tre pas tr&egrave;s utile de produire de beaux plans rectangulaires, mais il sera facile de le changer plus tard et de faire des choses plus complexes.<br> Lorsque vous l'ouvrez, Qt Designer ressemble &agrave; ceci:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Qtdesigner-screenshot.jpg" class="mw-file-description"><img src="../File/Qtdesigner-screenshot.jpg" decoding="async" width="800" height="486"></a></span>
</p>
<h2><span id="Cr.C3.A9ation_de_la_fen.C3.AAtre_de_dialogue"></span><span class="mw-headline" id="Cr&eacute;ation_de_la_fen&ecirc;tre_de_dialogue">Cr&eacute;ation de la fen&ecirc;tre de dialogue</span></h2>
<p>Qt Designer est tr&egrave;s simple &agrave; utiliser. Sur la barre de gauche, vous avez des &eacute;l&eacute;ments qui peuvent &ecirc;tre gliss&eacute;s sur votre widget. Sur le c&ocirc;t&eacute; droit, vous avez des panneaux de propri&eacute;t&eacute;s affichant toutes sortes de propri&eacute;t&eacute;s modifiables des &eacute;l&eacute;ments s&eacute;lectionn&eacute;s. Commencez donc par cr&eacute;er un nouveau widget.
</p>
<ol><li>S&eacute;lectionnez "Dialog without buttons" car nous ne voulons pas des boutons <span style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px;">OK</span>/<span style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px;">Cancel</span> par d&eacute;faut.</li>
<li>Nous avons besoin de <i>Labels</i>. Les &eacute;tiquettes sont de simples cha&icirc;nes de texte qui apparaissent sur votre widget pour informer l'utilisateur final. Si vous s&eacute;lectionnez une &eacute;tiquette, notez que sur le c&ocirc;t&eacute; droit appara&icirc;tront plusieurs propri&eacute;t&eacute;s que vous pouvez modifier telles que: le style de police, la hauteur, etc ... Permet donc de faire glisser 3 &eacute;tiquettes distinctes sur notre widget:
<ul><li>Une &eacute;tiquette pour le titre</li>
<li>Une autre &eacute;tiquette pour &eacute;crire "<b>Height</b>"</li>
<li>Une autre &eacute;tiquette pour &eacute;crire "<b>Width</b>"</li></ul></li>
<li>Nous avons maintenant besoin de LineEdits (2 d'entre eux en fait). Faites-en glisser deux sur le widget. <b>LineEdits</b> sont des champs de texte que l'utilisateur final peut remplir. Nous avons donc besoin d'un LineEdit pour la <i>Height</i> et un pour la <i>Width</i>. Ici aussi, nous pouvons &eacute;diter les propri&eacute;t&eacute;s. Par exemple, pourquoi ne pas d&eacute;finir une valeur par d&eacute;faut, par exemple: 1.00 pour chacun. De cette fa&ccedil;on, lorsque l'utilisateur verra la fen&ecirc;tre de dialogue, les deux valeurs seront d&eacute;j&agrave; remplies. Si l'utilisateur final est satisfait, il peut appuyer directement sur le bouton, ce qui lui fait gagner un temps pr&eacute;cieux.</li>
<li>Ensuite, ajoutons un <b>PushButton</b>. Il s'agit du bouton sur lequel l'utilisateur final devra appuyer apr&egrave;s avoir rempli les deux champs.</li></ol>
<p><b>Remarque:</b> nous avons choisi ici des commandes tr&egrave;s simples. Qt a beaucoup plus d'options, par exemple on pourrait utiliser <b>Spinboxes</b> au lieu de <i> <b>LineEdits</b> etc ... Jetez un &oelig;il &agrave; ce qui est disponible, explorez ... vous aurez s&ucirc;rement d'autres id&eacute;es .</i>
</p><p>C'est &agrave; peu pr&egrave;s tout ce que nous devons faire dans Qt Designer.<br>
Une derni&egrave;re chose, nous allons renommer tous nos &eacute;l&eacute;ments avec des noms faciles, de sorte qu'il sera plus facile de les identifier dans nos scripts:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Qtpropeditor.jpg" class="mw-file-description"><img src="../File/Qtpropeditor.jpg" decoding="async" width="348" height="321"></a></span>
</p><p><span id="Converting_our_dialog_to_python"></span>
</p>
<h2><span id="Convertir_notre_fen.C3.AAtre_de_dialogue_en_Python"></span><span class="mw-headline" id="Convertir_notre_fen&ecirc;tre_de_dialogue_en_Python">Convertir notre fen&ecirc;tre de dialogue en Python</span></h2>
<p>Maintenant, nous allons sauvegarder notre widget quelque part. Il sera sauvegard&eacute; dans un fichier <b>.Ui</b>, que nous allons facilement convertir en script Python avec <b>pyuic</b>.<br>
Dans windows, le programme est livr&eacute; avec <b>pyuic pyqt</b> (&agrave; v&eacute;rifier), sur Linux, vous aurez probablement besoin de l'installer s&eacute;par&eacute;ment &agrave; partir de votre gestionnaire de paquets (sur debian-syst&egrave;mes bas&eacute;s sur, il fait partie du paquet pyqt4-dev-tools).<br>
Pour faire la conversion, vous aurez besoin d'ouvrir une fen&ecirc;tre de terminal (ou une fen&ecirc;tre d'invite de commandes), acc&eacute;dez &agrave; l'endroit o&ugrave; vous avez enregistr&eacute; votre fichier <b>ui</b>&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">pyuic</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">ui</span> <span class="o">&gt;</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">py</span>
</pre></div>
<p>Dans Windows pyuic.py est pr&eacute;sent dans "C:\Python27\Lib\site-packages\PyQt4\uic\pyuic.py"
Cr&eacute;ez un fichier batch  "compQt4.bat" pour automatiser la t&acirc;che:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">@</span><span class="s2">"C:\Python27\python"</span> <span class="s2">"C:\Python27\Lib\site-packages\PyQt4\uic\pyuic.py"</span> <span class="o">-</span><span class="n">x</span> <span class="o">%</span><span class="mf">1.</span><span class="n">ui</span> <span class="o">&gt;</span> <span class="o">%</span><span class="mf">1.</span><span class="n">py</span>
</pre></div>
<p>Dans la console Dos tapez sans extension
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">compQt4</span> <span class="n">myUiFile</span>
</pre></div>
<p>Sous macOS, vous pouvez r&eacute;cup&eacute;rer la version appropri&eacute;e (celle qui est utilis&eacute;e en interne dans FreeCAD 0.19) de QT et Pyside avec les commandes suivantes (pip requis).
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pyqt5</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pySide2</span>
</pre></div>
<p>Cela va installer uic dans le dossier "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/PySide2/uic", et Designer dans "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/PySide2/Designer.app".
Pour plus de commodit&eacute;, vous pouvez cr&eacute;er un lien vers uic dans /usr/local/bin pour pouvoir l'appeler simplement avec uic -g python ... au lieu de taper le chemin complet du programme, et un lien vers Designer pour le r&eacute;cup&eacute;rer dans le dossier Applications du mac avec
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">PySide2</span><span class="o">/</span><span class="n">uic</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Frameworks</span><span class="o">/</span><span class="n">Python</span><span class="o">.</span><span class="n">framework</span><span class="o">/</span><span class="n">Versions</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">PySide2</span><span class="o">/</span><span class="n">Designer</span><span class="o">.</span><span class="n">app</span> <span class="o">/</span><span class="n">Applications</span>
</pre></div>
<p>Dans Linux&nbsp;: &agrave; venir
</p><p>Depuis la version 0.13, FreeCAD migre progressivement de PyQt  &agrave; <a rel="nofollow" class="external text" href="http://qt-project.org/wiki/PySide">PySide</a> (Choisissez votre installateur PySide suivant votre syst&egrave;me <a rel="nofollow" class="external text" href="http://pyside.readthedocs.org/en/latest/building/">building PySide</a>),
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">pyside</span><span class="o">-</span><span class="n">uic</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">ui</span> <span class="o">-</span><span class="n">o</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">py</span>
</pre></div>
<p>Dans Windows le fichier uic.py se trouve dans "C:\Python27\Lib\site-packages\PySide\scripts\uic.py"
Cr&eacute;ez un fichier batch  "compSide.bat"
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">@</span><span class="s2">"C:\Python27\python"</span> <span class="s2">"C:\Python27\Lib\site-packages\PySide\scripts\uic.py"</span> <span class="o">%</span><span class="mf">1.</span><span class="n">ui</span> <span class="o">&gt;</span> <span class="o">%</span><span class="mf">1.</span><span class="n">py</span>
</pre></div>
<p>Dans la console Python tapez sans extension:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">compSide</span> <span class="n">myUiFile</span>
</pre></div>
<p>Dans Linux: faites
</p><p>Sur certains syst&egrave;mes, le programme est appel&eacute; pyuic4 lieu de pyuic. Il sert uniquement de convertisseur du fichier .ui pour l'utiliser dans un script Python. Si nous ouvrons le fichier mywidget.py, son contenu est tr&egrave;s facile &agrave; comprendre:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span>

<span class="k">class</span> <span class="nc">Ui_Dialog</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dialog</span><span class="p">):</span>
        <span class="n">Dialog</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"Dialog"</span><span class="p">)</span>
        <span class="n">Dialog</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">187</span><span class="p">,</span> <span class="mi">178</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">271</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
        <span class="o">...</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">retranslateUi</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
        <span class="n">QtCore</span><span class="o">.</span><span class="n">QMetaObject</span><span class="o">.</span><span class="n">connectSlotsByName</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">retranslateUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dialog</span><span class="p">):</span>
        <span class="n">Dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s2">"Dialog"</span><span class="p">,</span> <span class="s2">"Dialog"</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s2">"Dialog"</span><span class="p">,</span> <span class="s2">"Plane-O-Matic"</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="o">.</span><span class="n">UnicodeUTF8</span><span class="p">))</span>
        <span class="o">...</span>
</pre></div>
<p>Comme vous voyez, il a une structure tr&egrave;s simple: une classe nomm&eacute;e <b>Ui_Dialog</b> est cr&eacute;&eacute;, qui stocke les &eacute;l&eacute;ments de l'interface de notre widget.<br>
Cette classe dispose de deux m&eacute;thodes, une pour la mise en place du widget, et l'autre pour traduire son contenu, qui fait partie du m&eacute;canisme g&eacute;n&eacute;ral de Qt pour la traduction des &eacute;l&eacute;ments d'interface. 
La m&eacute;thode de configuration, cr&eacute;e simplement, un par un, les widgets tels que nous les avons d&eacute;finis dans Qt Designer, et d&eacute;finit leurs options aussi comme nous avons d&eacute;cid&eacute; plus t&ocirc;t. 
Puis, toute l'interface est traduite, et enfin, les "slots" se connectent (nous en reparlerons plus tard).
</p><p>Nous pouvons maintenant cr&eacute;er un nouveau widget, et utiliser cette classe pour cr&eacute;er son interface. 
Nous pouvons d&eacute;j&agrave; voir notre widget en action, en mettant notre fichier mywidget.py dans un endroit o&ugrave; FreeCAD la trouvera (dans le r&eacute;pertoire bin FreeCAD, ou dans l'un des sous-r&eacute;pertoires Mod), et, dans l'interpr&eacute;teur Python de FreeCAD, faisons:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
<span class="kn">import</span> <span class="nn">mywidget</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">Ui_Dialog</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Et notre fen&ecirc;tre de dialogue appara&icirc;tra&nbsp;! Notez que notre interpr&eacute;teur Python fonctionne toujours, nous avons une fen&ecirc;tre de dialogue non modale.<br>
Donc, pour la fermer, nous pouvons (&agrave; part cliquer sur son ic&ocirc;ne, bien s&ucirc;r) faire&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
</pre></div>
<h2><span id="Faire_quelque_chose_avec_notre_fen.C3.AAtre_de_dialogue"></span><span class="mw-headline" id="Faire_quelque_chose_avec_notre_fen&ecirc;tre_de_dialogue">Faire quelque chose avec notre fen&ecirc;tre de dialogue</span></h2>
<p>Maintenant que nous pouvons afficher et masquer notre fen&ecirc;tre de dialogue, nous avons juste besoin d'ajouter la derni&egrave;re partie, pour en faire quelque chose&nbsp;!<br>
Si vous explorez un peu Qt Designer, vous d&eacute;couvrirez rapidement toute une section appel&eacute;e "<b>signaux et slots</b>".<br>
Fondamentalement, cela fonctionne comme ceci, ce sont les &eacute;l&eacute;ments sur vos widgets (dans la terminologie de Qt, ces &eacute;l&eacute;ments sont eux-m&ecirc;mes des widgets) qui peuvent envoyer des signaux.<br><br>
Ces signaux diff&egrave;rent selon le type de widget. Par exemple, un bouton peut envoyer un signal quand il est press&eacute; et quand il est rel&acirc;ch&eacute;.<br>
Ces signaux peuvent &ecirc;tre connect&eacute;s &agrave; des cr&eacute;neaux, qui peuvent &ecirc;tre des fonctionnalit&eacute;s sp&eacute;ciales d'autres widgets (par exemple une fen&ecirc;tre de dialogue a un bouton "Fermer" sur lequel vous pouvez connecter le signal &agrave; partir d'un autre bouton "Fermer"), ou, peuvent &ecirc;tre des fonctions personnalis&eacute;es.<br>
<a rel="nofollow" class="external text" href="http://www.riverbankcomputing.co.uk/static/Docs/PyQt4/html/classes.html">La documentation de r&eacute;f&eacute;rence PyQt</a> r&eacute;pertorie tous les widgets Qt, ce qu'ils peuvent faire, ce qu'ils signalent, ce qu'ils peuvent envoyer, etc...
</p><p>Ce que nous allons faire ici, c'est cr&eacute;er une nouvelle fonction qui permettra de cr&eacute;er une surface plane bas&eacute;e sur la hauteur et la largeur, et, relier cette fonction au bouton "Create!".<br>
Donc, nous allons commencer par importer nos modules FreeCAD, en mettant la ligne suivante en haut du script, o&ugrave; nous importons d&eacute;j&agrave; <b>QtCore</b> et <b>QtGui</b>&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">Part</span>
</pre></div>
<p>Ensuite, nous allons ajouter une nouvelle fonction &agrave; notre classe <b>Ui_Dialog</b>&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">createPlane</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># first we check if valid numbers have been entered</span>
        <span class="n">w</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="n">h</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! Width and Height values must be valid numbers!"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># create a face from 4 points</span>
        <span class="n">p1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">p3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">p4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">pointslist</span> <span class="o">=</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">p1</span><span class="p">]</span>
        <span class="n">mywire</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makePolygon</span><span class="p">(</span><span class="n">pointslist</span><span class="p">)</span>
        <span class="n">myface</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">mywire</span><span class="p">)</span>
        <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">myface</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
</pre></div>
<p>Puis, nous avons besoin d'informer Qt pour qu'il se connecte sur le bouton de la fonction, en pla&ccedil;ant la ligne suivante juste avant <b>QtCore.QMetaObject.connectSlotsByName(Dialog)</b>&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">"pressed()"</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">createPlane</span><span class="p">)</span>
</pre></div>
<p>Il s'agit, comme vous le voyez, de relier le signal du bouton enfonc&eacute; de l'objet a cr&eacute;er (bouton <b>"Create!"</b>), &agrave; un emplacement nomm&eacute; <b>createPlane</b>, dont nous venons de d&eacute;finir.<br>
&Ccedil;a y est&nbsp;! Maintenant, la touche finale, nous pouvons ajouter une petite fonction, pour cr&eacute;er la fen&ecirc;tre de dialogue, elle sera plus facile a appeler.<br>
En dehors de la classe <b>Ui_Dialog class</b>, nous allons ajouter le code suivant&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">plane</span><span class="p">():</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Dialog</span><span class="p">()</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>(Rappel sur Python&nbsp;: la m&eacute;thode <b>__init__</b> est une classe qui s'ex&eacute;cute automatiquement chaque fois qu'un nouvel objet est cr&eacute;&eacute;&nbsp;! ). Puis, &agrave; partir de FreeCAD, nous avons seulement besoin de faire&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">mywidget</span>
<span class="n">myDialog</span> <span class="o">=</span> <span class="n">mywidget</span><span class="o">.</span><span class="n">plane</span><span class="p">()</span>
</pre></div>
<p>Voil&agrave;, c'est tout ...<br>
Maintenant, vous pouvez essayer toutes sortes de choses, comme par exemple l'insertion de votre widget dans l'interface FreeCAD (voir la page <a href="../fr/Code_snippets.html" title="Code snippets/fr">Code snippets</a>), ou, faire des outils personnalis&eacute;s beaucoup plus avanc&eacute;s, en utilisant d'autres &eacute;l&eacute;ments dans votre widget.
</p>
<h2><span class="mw-headline" id="Le_script_complet">Le script complet</span></h2>
<p>Ceci est le script de r&eacute;f&eacute;rence complet:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Form implementation generated from reading ui file 'mywidget.ui'</span>
<span class="c1">#</span>
<span class="c1"># Created: Mon Jun  1 19:09:10 2009</span>
<span class="c1">#      by: PyQt4 UI code generator 4.4.4</span>
<span class="c1"># Modified for PySide 16:02:2015 </span>
<span class="c1"># WARNING! All changes made in this file will be lost!</span>

<span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">Part</span> 

<span class="k">class</span> <span class="nc">Ui_Dialog</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
   <span class="k">def</span> <span class="nf">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dialog</span><span class="p">):</span>
       <span class="n">Dialog</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"Dialog"</span><span class="p">)</span>
       <span class="n">Dialog</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">187</span><span class="p">,</span> <span class="mi">178</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">271</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"title"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"label_width"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_height</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_height</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_height</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"label_height"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">26</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"width"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">26</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"height"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">create</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span> <span class="mi">26</span><span class="p">))</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">"create"</span><span class="p">)</span>

       <span class="bp">self</span><span class="o">.</span><span class="n">retranslateUi</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>
       <span class="n">QtCore</span><span class="o">.</span><span class="n">QObject</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">"pressed()"</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">createPlane</span><span class="p">)</span>
       <span class="n">QtCore</span><span class="o">.</span><span class="n">QMetaObject</span><span class="o">.</span><span class="n">connectSlotsByName</span><span class="p">(</span><span class="n">Dialog</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">retranslateUi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Dialog</span><span class="p">):</span>
       <span class="n">Dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Dialog"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Plane-O-Matic"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Width"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">label_height</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Height"</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Create!"</span><span class="p">)</span>
       <span class="nb">print</span><span class="p">(</span><span class="s2">"tyty"</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">createPlane</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">try</span><span class="p">:</span>
           <span class="c1"># first we check if valid numbers have been entered</span>
           <span class="n">w</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
           <span class="n">h</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
       <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! Width and Height values must be valid numbers!"</span><span class="p">)</span>
       <span class="k">else</span><span class="p">:</span>
           <span class="c1"># create a face from 4 points</span>
           <span class="n">p1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
           <span class="n">p2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
           <span class="n">p3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
           <span class="n">p4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
           <span class="n">pointslist</span> <span class="o">=</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">p1</span><span class="p">]</span>
           <span class="n">mywire</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makePolygon</span><span class="p">(</span><span class="n">pointslist</span><span class="p">)</span>
           <span class="n">myface</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">mywire</span><span class="p">)</span>
           <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">myface</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">plane</span><span class="p">():</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Dialog</span><span class="p">()</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p><span id="More_examples"></span>
</p>
<h2><span id="Plus_d.27exemples"></span><span class="mw-headline" id="Plus_d'exemples">Plus d'exemples</span></h2>
<ul><li><a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">Cr&eacute;ation d'une bo&icirc;te de dialogues avec diff&eacute;rents widgets</a> avec <code>QPushButton</code>, <code>QLineEdit</code>, <code>QCheckBox</code>, <code>QRadioButton</code> et bien d'autres.</li>
<li><a href="../fr/Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/fr">Cr&eacute;ation d'une bo&icirc;te de dialogue lecture et &eacute;criture de fichiers</a> with <code>QFileDialog</code>.</li>
<li><a href="../fr/Dialog_creation_setting_colors.html" title="Dialog creation setting colors/fr">Cr&eacute;ation d'une bo&icirc;te de dialogue r&eacute;glage des couleurs</a> avec <code>QColorDialog</code>.</li>
<li><a href="../fr/Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/fr">Cr&eacute;ation d'une bo&icirc;te de dialogue pour image et GIF anim&eacute;</a> avec <code>QLabel</code> et <code>QMovie</code>.</li>
<li><a href="../fr/PySide_usage_snippets.html" title="PySide usage snippets/fr">Extraits d'utilisation de PySide</a>.</li>
<li><a href="../fr/Qt_Example.html" title="Qt Example/fr">Macro Qt Example</a></li></ul>
<p><span id="Relevant_links"></span>
</p>
<h2><span class="mw-headline" id="Liens_pertinents">Liens pertinents</span></h2>
<ul><li><a href="../fr/Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/fr">Outils de cr&eacute;ation d'interfaces</a></li></ul>
<p><br>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="../fr/Interface_creation.html" title="Interface creation/fr">Cr&eacute;ation d'interface</a></div>
    <div style="margin: 4px 0; float: right;"><a href="../fr/License.html" title="License/fr">Licence</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="../fr/Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a href="../File/Power_user_hub.png" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span> <a href="../fr/Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs exp&eacute;riment&eacute;s</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Scripts FreeCAD&nbsp;:</b> <a href="../fr/Python.html" title="Python/fr">Python</a>, <a href="../fr/Introduction_to_Python.html" title="Introduction to Python/fr">Introduction &agrave; Python</a>, <a href="../fr/Python_scripting_tutorial.html" title="Python scripting tutorial/fr">Tutoriel sur les scripts Python</a>, <a href="../fr/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/fr">D&eacute;buter avec les scripts</a></li></ul>
<hr>
<ul><li><b>Modules&nbsp;:</b> <a href="../fr/Builtin_modules.html" title="Builtin modules/fr">Modules int&eacute;gr&eacute;s</a>, <a href="../fr/Units.html" title="Units/fr">Unit&eacute;s</a>, <a href="../fr/Quantity.html" title="Quantity/fr">Quantity</a></li>
<li><b>Ateliers&nbsp;:</b> <a href="../fr/Workbench_creation.html" title="Workbench creation/fr">Cr&eacute;ation d'atelier</a>, <a href="../fr/Gui_Command.html" title="Gui Command/fr">Commands Gui</a>, <a href="../fr/Command.html" title="Command/fr">Les commandes</a>, <a href="../fr/Installing_more_workbenches.html" title="Installing more workbenches/fr">Installer des ateliers suppl&eacute;mentaires</a></li>
<li><b>Maillages et objets Parts&nbsp;:</b> <a href="../fr/Mesh_Scripting.html" title="Mesh Scripting/fr">Scripts Mesh</a>, <a href="../fr/Topological_data_scripting.html" title="Topological data scripting/fr">Script de donn&eacute;es topologiques</a>, <a href="../fr/Mesh_to_Part.html" title="Mesh to Part/fr">Conversion objet Mesh en Part</a>, <a href="../fr/PythonOCC.html" title="PythonOCC/fr">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Objets param&eacute;triques&nbsp;:</b> <a href="../fr/Scripted_objects.html" title="Scripted objects/fr">Objets cr&eacute;&eacute;s par script</a>, <a href="../fr/Viewprovider.html" title="Viewprovider/fr">Viewproviders</a> <small>(<a href="../fr/Custom_icon_in_tree_view.html" title="Custom icon in tree view/fr">Ic&ocirc;ne personnalis&eacute;e dans l'arborescence</a>)</small></li>
<li><b>Sc&eacute;nographie&nbsp;:</b> <a href="../fr/Scenegraph.html" title="Scenegraph/fr">Graphe de sc&egrave;ne Coin (Inventor)</a>, <a href="../fr/Pivy.html" title="Pivy/fr">Pivy</a></li>
<li><b>Interface graphique&nbsp;:</b> <a href="../fr/Interface_creation.html" title="Interface creation/fr">Cr&eacute;ation d'interface</a>, <a class="mw-selflink selflink">Cr&eacute;ation d'une boite de dialogue</a> <small>(<a href="../fr/Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/fr">1</a>, <a href="../fr/Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/fr">2</a>, <a href="../fr/Dialog_creation_setting_colors.html" title="Dialog creation setting colors/fr">3</a>, <a href="../fr/Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/fr">4</a>, <a href="../fr/PySide_usage_snippets.html" title="PySide usage snippets/fr">5</a>)</small>, <a href="../fr/PySide.html" title="PySide/fr">PySide</a>, Exemples PySide <a href="../fr/PySide_Beginner_Examples.html" title="PySide Beginner Examples/fr">d&eacute;butant</a>, <a href="../fr/PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/fr">interm&eacute;diaire</a>, <a href="../fr/PySide_Advanced_Examples.html" title="PySide Advanced Examples/fr">exp&eacute;riment&eacute;</a></li>
<li><b>Macros&nbsp;:</b> <a href="../fr/Macros.html" title="Macros/fr">Macros</a>, <a href="../fr/How_to_install_macros.html" title="How to install macros/fr">Comment installer des macros</a></li>
<li><b>Int&eacute;gration&nbsp;:</b> <a href="../fr/Embedding_FreeCAD.html" title="Embedding FreeCAD/fr">Int&eacute;grer FreeCAD</a>, <a href="../fr/Embedding_FreeCADGui.html" title="Embedding FreeCADGui/fr">Int&eacute;gration de FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Autre&nbsp;:</b> <a href="../fr/Expressions.html" title="Expressions/fr">Expressions</a>, <a href="../fr/Code_snippets.html" title="Code snippets/fr">Extraits de codes</a>, <a href="../fr/Line_drawing_function.html" title="Line drawing function/fr">Fonction - tracer une ligne</a>, <a href="../fr/FreeCAD_vector_math_library.html" title="FreeCAD vector math library/fr">Biblioth&egrave;que math&eacute;matique vectorielle de FreeCAD</a> <small>(d&eacute;pr&eacute;ci&eacute;)</small></li></ul>
<hr>
<ul><li><b>Hubs&nbsp;:</b> <a href="../fr/User_hub.html" title="User hub/fr">Hub utilisateurs</a>, <a href="../fr/Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs exp&eacute;riment&eacute;s</a>, <a href="../fr/Developer_hub.html" title="Developer hub/fr">Hub d&eacute;veloppeurs</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20250327120031
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.134 seconds
Real time usage: 0.169 seconds
Preprocessor visited node count: 492/1000000
Post&#8208;expand include size: 11005/2097152 bytes
Template argument size: 7785/2097152 bytes
Highest expansion depth: 6/100
Expensive parser function count: 17/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 33200/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   15.205      1 -total
 30.01%    4.562     17 Template:Code
 20.69%    3.146      1 Template:Powerdocnavi/fr
 12.41%    1.887      1 Template:Navigation_menu_2
 10.69%    1.625      2 Template:Docnav/fr
 10.21%    1.552      1 Template:Caption
  6.88%    1.046      1 Template:FileName
  5.64%    0.857      9 Template:Incode
  3.75%    0.570      2 Template:KEY
  3.58%    0.544      1 Template:TOCright
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2435-0!canonical and timestamp 20250327120031 and revision id 1565459. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>