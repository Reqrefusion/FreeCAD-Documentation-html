<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Macro Zoom1 1/fr</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../Macro_Zoom1_1.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Macro Zoom1 1 (100% translated)" lang="en" dir="ltr">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="fr" dir="ltr">fran&ccedil;ais</span></li>
<li><a href="../pl/Macro_Zoom1_1.html" class="mw-pt-progress mw-pt-progress--stub" title="Makrodefinicja: Zoom1 1 (7% translated)" lang="pl" dir="ltr">polski</a></li></ul></div>
<div class="mw-translate-fuzzy">
<table class="fcinfobox wikitable ct" width="100%" style="float: right; width: 230px; margin-left: 10px;">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a href="../index.php?title=Zoom1_1.svg&amp;filetimestamp=20211110015917&amp;.html" class="mw-file-description"><img src="../File/Zoom1_1.svg" decoding="async" width="32" height="32"></a></span><span> </span>
Zoom 1:1
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Zoom 1:1 pour que les objets apparaissent &agrave; leur taille r&eacute;elle sur l'&eacute;cran.<br><br>Version macro&nbsp;: 1.1<br>Date derni&egrave;re modification&nbsp;: 2025-03-05<br>Version FreeCAD&nbsp;: Python3+<br>T&eacute;l&eacute;chargement&nbsp;: <a rel="nofollow" class="external text" href="https://wiki.freecadweb.org/File:Zoom1_1.svg">Ic&ocirc;ne de la barre d'outils</a><br>Auteur: TheMarkster<br>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="../index.php?title=User;TheMarkster&amp;action=edit&amp;redlink=1.html" class="new" title="User:TheMarkster (page does not exist)">TheMarkster</a>
</td></tr>
<tr>
<th class="ctOdd">T&eacute;l&eacute;chargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a rel="nofollow" class="external text" href="https://wiki.freecadweb.org/File:Zoom1_1.svg">Ic&ocirc;ne de la barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="../fr/Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br><a href="../fr/How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br><a href="../fr/Customize_Toolbars.html" title="Customize Toolbars/fr">Comment cr&eacute;er une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">1.1
</td></tr>
<tr>
<th class="ctOdd">Derni&egrave;re modification
</th></tr>
<tr>
<td class="ctEven macro-date">2025-03-05
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">Python3+
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br><meta property="mw:PageProp/toc">
</td></tr>
</tbody></table>
</div>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Effectue un zoom pour que les objets apparaissent &agrave; leur taille r&eacute;elle sur votre &eacute;cran. Par exemple, vous devriez &ecirc;tre en mesure de mesurer un cube de 100 mm &agrave; l'aide d'une r&egrave;gle tenue devant votre &eacute;cran.
</p><p><span id="How_To_Use"></span>
</p>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Ex&eacute;cutez la macro pour zoomer &agrave; la taille r&eacute;elle de vos objets. Parfois, en raison des limitations de Qt, les informations mat&eacute;rielles fournies &agrave; la macro peuvent &ecirc;tre incorrectes, par exemple la largeur de l'&eacute;cran, en millim&egrave;tres, peut &ecirc;tre incorrecte. Dans ce cas, il existe une bo&icirc;te de dialogue de calibrage. Pour faire appara&icirc;tre cette fen&ecirc;tre de dialogue, appuyez sur la touche Ctrl pendant l'ex&eacute;cution de la macro. Un cube temporaire de 100 mm est cr&eacute;&eacute;. Mesurez le cube qui appara&icirc;t &agrave; l'&eacute;cran avec une r&egrave;gle ou un pied &agrave; coulisse et saisissez vos mesures (en MM) dans la fen&ecirc;tre de dialogue. Celle-ci calculera le param&egrave;tre d'ajustement appropri&eacute; &agrave; utiliser pour votre mat&eacute;riel.
</p><p>Ce param&egrave;tre d'ajustement est stock&eacute; dans les param&egrave;tres utilisateur &agrave; Plugins/Zoom1_1_Macro/Tweak.
</p><p><span id="How_it_works"></span>
</p>
<h2><span class="mw-headline" id="Fonctionnement">Fonctionnement</span></h2>
<p>La taille de l'&eacute;cran (de la vue MDI, c'est-&agrave;-dire la vue 3D) est r&eacute;cup&eacute;r&eacute;e de Qt en MM. La hauteur de la cam&eacute;ra est alors fix&eacute;e au plus petit de la largeur ou de la hauteur de l'&eacute;cran. Par exemple, si la largeur/hauteur de l'&eacute;cran est de 800, 600, la hauteur de la cam&eacute;ra est fix&eacute;e &agrave; 600 au-dessus de la sc&egrave;ne.
</p>
<h2><span class="mw-headline" id="Limitations">Limitations</span></h2>
<ol><li>Parfois, pour diverses raisons, les informations fournies &agrave; la macro par Qt concernant les dimensions du mat&eacute;riel peuvent &ecirc;tre incorrectes, auquel cas le param&egrave;tre Tweak est n&eacute;cessaire via la bo&icirc;te de dialogue de calibrage int&eacute;gr&eacute;e.</li>
<li>Ne fonctionne qu'avec les modes de cam&eacute;ra orthographique.</li>
<li>&Eacute;videmment, il y a une gamme limit&eacute;e de tailles o&ugrave; cela peut &ecirc;tre utilis&eacute;.</li></ol>
<p><span id="Precautions"></span>
</p>
<h2><span id="Pr.C3.A9cautions"></span><span class="mw-headline" id="Pr&eacute;cautions">Pr&eacute;cautions</span></h2>
<p>Il faut faire attention lorsque l'on tient des objets ou que l'on tente de mesurer des choses sur l'&eacute;cran, afin d'&eacute;viter de rayer l'&eacute;cran.
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>L'ic&ocirc;ne de la macro
<span typeof="mw:File"><a href="../index.php?title=Zoom1_1.svg&amp;filetimestamp=20211110015917&amp;.html" class="mw-file-description"><img src="../File/Zoom1_1.svg" decoding="async" width="48" height="48"></a></span>
</p><p><b>Zoom1_1.FCMacro</b>
</p>
<pre># -*- coding: utf-8 -*-
#Zoom 1:1 macro
#2021, by &lt;TheMarkster&gt;, based on work of kisolre
#Attempts to zoom 3D view such that objects on the screen
#appear to be their actual size
#For example, a 100mm cube should measure 100mm on your screen
#This relies on information provided by Qt about the underlying
#hardware, which Qt admits is not always reliable
#Thus we have a Tweak parameter to workaround such cases.
#Press Ctrl key while executing the macro to bring up the
#calibration dialog and set the tweak for your hardware.


import FreeCAD, FreeCADGui
from PySide import QtGui, QtCore
from pivy import coin

__version__ = "1.1"

def zoomActual(tweak=1.0):
    gv = av.graphicsView()
    height = gv.heightMM()
    width = gv.widthMM()
    node = av.getCameraNode()
    node.height.setValue(tweak*min(width,height))

doc = FreeCAD.ActiveDocument
if not doc:
    doc = FreeCAD.newDocument()
    FreeCAD.Console.PrintMessage("No document, creating one.\n")
av = FreeCADGui.activeView()
pg = FreeCAD.ParamGet("User parameter:Plugins/Zoom1_1_Macro")
tweak = pg.GetFloat("Tweak",1.0)
if hasattr(av,"graphicsView") and hasattr(av.getCameraNode(),"height"):
    zoomActual(tweak)
    modifiers = QtGui.QApplication.keyboardModifiers()
    if modifiers == QtCore.Qt.ControlModifier:
        visible = [obj for obj in doc.Objects if hasattr(obj,"ViewObject") and obj.ViewObject.Visibility == True]
        for obj in doc.Objects:
            if hasattr(obj,"ViewObject"):
                obj.ViewObject.Visibility = False
        cube = doc.addObject("Part::Box","TemporaryCalibrationCube")
        cube.Length = cube.Height = cube.Width = 100
        cube.ViewObject.DisplayMode = "Shaded"
        av.viewFront()
        doc.recompute()
        zoomActual(1.0)
        text = "\
Calibration dialog\n\
\n\
A temporary 100x100x100 mm cube has been created for this\n\
calibration. Measure this cube and enter your measurements.\n\
A tweak value will be calculated based on what you enter and \n\
will be stored in user parameters / Plugins / Zoom1_1_Macro\n\
\n\
You can move this dialog if necessary, but be sure not to zoom\n\
in or out before measuring the cube. If the cube does not fit\n\
cancel this dialog, resize the 3D view, and try again.\n\
\n\
Enter measured Cube Width or Height (in MM):\n"
        win = FreeCADGui.getMainWindow()
        title = "Zoom1_1 macro v"+__version__
        dlg = QtGui.QInputDialog()
        usertweak,ok = dlg.getDouble(win,title,text,100.0)
        doc.removeObject(cube.Name)
        for obj in visible:
            obj.ViewObject.Visibility = True
        if not ok:
            FreeCAD.Console.PrintMessage("Canceled, keeping current tweak value\n")
        else:
            tweak = usertweak/100.0
            pg.SetFloat("Tweak", tweak)
            zoomActual(tweak)
    FreeCAD.Console.PrintMessage("Zoom 1:1 macro -- Ctrl + execute to calibrate, if necessary\n")
    FreeCAD.Console.PrintMessage("Tweak = "+str(tweak)+"\n")
elif not hasattr(av.getCameraNode(),"height"):
    FreeCAD.Console.PrintError("Error: Only orthographic camera types are supported.\n")
else:
    FreeCAD.Console.PrintError("Error acquiring QGraphicsView. You might need to update your version of FreeCAD.\n")</pre>
<!-- 
NewPP limit report
Cached time: 20250705140645
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.033 seconds
Real time usage: 0.063 seconds
Preprocessor visited node count: 96/1000000
Post&#8208;expand include size: 2003/2097152 bytes
Template argument size: 3667/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 3862/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   12.816      1 -total
 62.36%    7.992      1 Template:Macro/fr
 36.52%    4.681      1 Template:MacroCode
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:272604-0!canonical and timestamp 20250705140645 and revision id 1603160. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>