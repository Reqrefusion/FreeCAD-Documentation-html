<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">IPython notebook integration</span></h1><div class="mw-parser-output"><p>This page is dedicated to the Google Summer of Code project regarding the interoperability between IPython and FreeCAD, mostly regarding visualisation.
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Outline"><span class="tocnumber">1</span> <span class="toctext">Outline</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Details"><span class="tocnumber">2</span> <span class="toctext">Details</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Expected_Outcome"><span class="tocnumber">3</span> <span class="toctext">Expected Outcome</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Future_Possibilities"><span class="tocnumber">4</span> <span class="toctext">Future Possibilities</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Project_Properties"><span class="tocnumber">5</span> <span class="toctext">Project Properties</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Skills"><span class="tocnumber">5.1</span> <span class="toctext">Skills</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Difficulty"><span class="tocnumber">5.2</span> <span class="toctext">Difficulty</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Additional_Information"><span class="tocnumber">5.3</span> <span class="toctext">Additional Information</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#GSoC_2020"><span class="tocnumber">6</span> <span class="toctext">GSoC 2020</span></a></li>
</ul>
</div>
<h2><span class="mw-headline" id="Outline">Outline</span></h2>
<p>FreeCAD is quite popular for its extensive Python API providing grounds for many advanced macros and extensions. The API, which exposes everything from the document structure, basic workbench specific types and even the whole GUI, offers large amounts of freedom for the user to create everything he wants. Python in itself has become increasingly popular in the scientific community over the last years, partially surpassing classical interpreted languages like Matlab in certain areas. Due to this increased interest in and usage of the language an ecosystem for scientific computation has evolved around Python, leading to advanced coding environments like IPython and its Jupyter notebook. As this scientific usage of the language fits very well into FreeCADs profile as a python driven CAx application it should be possible to tightly integrate it into the scientific workflow. This means less usage of a custom application GUI but good integration into multi-purpose computation environments like IPython. 
</p><p>FreeCAD's API in itself is solid and powerful enough to be used in IPython extensively, however, one main issue with CAx code is the visualisation. It is nearly impossible to develop 3D models without seeing them. It is therefore important to find a way to visualize FreeCAD's 3D scene in the IPython display system as supported by the IPython QTConsole and the Jupyter notebook. 
</p>
<h2><span class="mw-headline" id="Details">Details</span></h2>
<ol><li>Get familiar with FreeCADs openinventor scenegraph and the basic working of the GUI module. Also learn the openinventor API and the scene graph structure it provides.</li>
<li>Find a JavaScript library which makes it easy to create 3D scene graphs via WebGL and analyse how the nodes can be mapped to the open inventor scene graph nodes. A good candidate is <a class="external text" href="http://scenejs.org/" rel="nofollow">SceneJS</a></li>
<li>Write a openinventor action writing the JavaScript file which mimics the scene graph from the open inventor representation
<ol><li>It should export geometry nodes as well as material (color etc.), lightning and camera</li>
<li>Advanced: Implement a replacement for all openinventor nodes</li></ol></li>
<li>Create a real JavaScript 3D viewer which mimics FreeCAD viewer
<ol><li>It should support 3D navigation, standard views (top, bottom,...)</li>
<li>Advanced: It should mimic the FreeCAD preselection, e.g. show edges, faces and vertices as they are in FreeCAD</li>
<li>Advanced: It should show the correct geometry names as in FreeCAD when preselected</li>
<li>Advanced: Implement multiple navigation modes</li></ol></li>
<li>Extend FreeCAD with functions returning an IPython compatible version of the created JavaScript 3D viewer</li>
<li>Replace the current WebGL export with the new advanced component</li></ol>
<h2><span class="mw-headline" id="Expected_Outcome">Expected Outcome</span></h2>
<ol><li>The possibility to easily show FreeCAD document objects in Jupyter without needing to fire up the FreeCAD GUI</li>
<li>The possibility to comfortably navigate the 3D scene inside of Jupyter</li>
<li>Better WebGL export</li>
<li>Documentation of the FreeCAD IPython interoperability in the Wiki and an example Jupyter notebook.</li></ol>
<h2><span class="mw-headline" id="Future_Possibilities">Future Possibilities</span></h2>
<p>If the 3D scene can be navigated other things, which FreeCAD can display, remain, for example the spreadsheet. 
</p>
<h2><span class="mw-headline" id="Project_Properties">Project Properties</span></h2>
<h3><span class="mw-headline" id="Skills">Skills</span></h3>
<ul><li>Programming language mainly C++ and JavaScript</li>
<li>Understand and use APIs from FreeCAD and external libraries like openinventor</li></ul>
<h3><span class="mw-headline" id="Difficulty">Difficulty</span></h3>
<p>Easy
</p>
<h3><span class="mw-headline" id="Additional_Information">Additional Information</span></h3>
<ul><li>Ticket on FreeCAD bug tracker: <a class="external text" href="https://freecadweb.org/tracker/view.php?id=2869" rel="nofollow">#2869</a></li>
<li>A FreeCAD kernel for Jupyter: <a class="external text" href="https://github.com/looooo/jupyter_freecad_kernel" rel="nofollow">looooo/jupyter_freecad_kernel</a></li>
<li>Dedicated discussion: <a class="external text" href="http://forum.freecadweb.org/viewtopic.php?f=22&amp;t=14740" rel="nofollow">IPython notebook integration</a></li>
<li>Thread discussion: <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=22&amp;t=38976" rel="nofollow">How to use Jupyter Notebook with FreeCad (Guide)</a></li>
<li>Thread discussion: <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?t=13620" rel="nofollow">Embedding FreeCAD in IPython</a></li>
<li>Thread discussion: <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?t=38217" rel="nofollow">Has Anyone successfully connected to FC thru Jupyter ?</a></li>
<li>Thread discussion: <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=14166" rel="nofollow">IPython Qt Console</a></li></ul>
<h2><span class="mw-headline" id="GSoC_2020">GSoC 2020</span></h2>
<p>This project was chosen for GSoC 2020. The results can be found here: <a class="external text" href="https://github.com/kryptokommunist/Jupyter_FreeCAD" rel="nofollow">Git repo</a>. The corresponding thread in the FreeCAD forum can be found <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=8&amp;t=46039" rel="nofollow">here</a>. Find a blog post <a class="external text" href="https://kryptokommun.ist/tech/2020/08/31/google-summer-of-code.html" rel="nofollow">here</a>. The full project proposal can be found <a class="external text" href="https://docs.google.com/document/d/1VgfsD06Qvb87S-tQazfTsyYTp14Z3EjF4V9puPVNCTQ/edit" rel="nofollow">here</a>. The results are a good base to build upon.
</p>
<!-- 
NewPP limit report
Cached time: 20241214204059
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.009 seconds
Real time usage: 0.009 seconds
Preprocessor visited node count: 30/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:64819-0!canonical and timestamp 20241214204059 and revision id 749674. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
