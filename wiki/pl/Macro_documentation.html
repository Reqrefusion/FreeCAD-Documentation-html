<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro documentation/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../de\Macro_documentation.html" lang="de" title="Makrodokumentation (100% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Macro_documentation.html" lang="en" title="Macro documentation (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Macro_documentation.html" lang="fr" title="Documentation pour les macros (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../it\Macro_documentation.html" lang="it" title="Documentazione delle macro (5% translated)">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="pl">polski</span></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ru\Macro_documentation.html" lang="ru" title="Документирование Макросов (23% translated)">русский</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Opis"><span class="tocnumber">1</span> <span class="toctext">Opis</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#New_macro_page"><span class="tocnumber">2</span> <span class="toctext">New macro page</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Adding_the_macro_documentation"><span class="tocnumber">2.1</span> <span class="toctext">Adding the macro documentation</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Adding_the_macro_code"><span class="tocnumber">2.2</span> <span class="toctext">Adding the macro code</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Adding_macro_code_outside_of_the_wiki"><span class="tocnumber">2.3</span> <span class="toctext">Adding macro code outside of the wiki</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Adding_the_new_macro_to_the_wiki_repository"><span class="tocnumber">3</span> <span class="toctext">Adding the new macro to the wiki repository</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Adding_the_new_macro_to_the_central_repository"><span class="tocnumber">4</span> <span class="toctext">Adding the new macro to the central repository</span></a></li>
</ul>
</div>
</div>
<p><span id="Description"></span>
</p>
<h2><span class="mw-headline" id="Opis">Opis</span></h2>
<p>All macros should be properly documented in the same way <a href="../Gui_Command.html" title="Gui Command">Gui Commands</a> are documented.
</p><p>They should have an individual wiki page, and should be listed in one of the categories in <a href="../Macros_recipes.html" title="Macros recipes">Macros recipes</a>.
</p><p>The <a href="../Macros_recipes.html" title="Macros recipes">Macros recipes</a> page has a good selection of macros created by experienced users, and many of them can be directly installed from the <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>.
</p><p>See <a href="../GuiCommand_model.html" title="GuiCommand model">GuiCommand model</a> and macro pages like <a href="../Macro_Loft.html" title="Macro Loft">Macro Loft</a> and <a href="../Macro_Site_From_Contours.html" title="Macro Site From Contours">Macro Site From Contours</a> to see how macros should be documented. At least two sections should be included, a <i>Description</i> section with general usage information, and a <i>Script</i> section to hold the actual macro code. Other sections may be included as needed to explain with more detail the usage of the macro.
</p><p>If a macro provides a well defined functionality, and is well documented, it could be included eventually as part of a new or an existing <a href="../Workbenches.html" title="Workbenches">workbench</a>.
</p>
<h2><span class="mw-headline" id="New_macro_page">New macro page</span></h2>
<p>The original page must be written in English. After one of the administrators has marked it for translation, it can be translated into another language.
</p><p>Create a new page for the macro starting with the word <code>Macro_</code> followed by the name of the macro, for example, <code>Macro_Excellent_Modification</code>. To link to the page use: <code>[[Macro_Excellent_Modification|Macro Excellent Modification]]</code>.
</p><p>In the new page you should use <a href="../Template;Macro.html" title="Template:Macro">Template:Macro</a> at the top, with a minimum of information:
</p>
<pre>{{Macro
|Name=Macro Excellent Modification
|Description=This macro does excellent things on existing shapes
|Author=your username
|Date=2018-11-30
}}
</pre>
<p>You can add a custom icon if it doesn't have the same name as the macro; you can also add other fields of information.
</p>
<pre>{{Macro
|Name=Macro Excellent Modification
|Icon=Macro_custom_icon.svg
|Description=This macro does excellent things on existing shapes
|Author=your username
|Date=2018-11-30
|Version=3.14516
|SeeAlso=[[Macro_Regular_Modification|Macro Regular Modification]]
}}
</pre>
<p>When translating the page, use a localized template. You need to specify the name with the two letter language code (<code>/fr</code>, <code>/it</code>, <code>/de</code>), and you need to indicate the icon explicitly
</p>
<pre>{{Macro/fr
|Name=Macro Excellent Modification translated
|Icon=Macro_Excellent_Modification.svg
|Description=(Translated description)
|Author=your username
|Date=2018-11-30
}}
</pre>
<p>or use the <code>Translate</code> field
</p>
<pre>{{Macro/fr
|Name=Macro Excellent Modification
|Translate=Macro Excellent Modification translated
|Description=(Translated description)
|Author=your username
|Date=2018-11-30
}}
</pre>
<ul><li>Use <a href="../Special;Upload.html" title="Special:Upload">Special:Upload</a> to upload the custom icon in <a href="../SVG.html" title="SVG">SVG</a> or PNG formats. It should have the same name as the macro.</li>
<li>Otherwise it will default to <code>Icon=Text-x-python.svg</code> <span typeof="mw:File"><a class="mw-file-description" href="../File/Text-x-python.svg"><img decoding="async" height="32" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Text-x-python.svg" width="32"/></a></span>.</li>
<li>For the macro used in the Python console by FreeCAD use <code>Icon=Text_console_python.png</code> <span typeof="mw:File"><a class="mw-file-description" href="../File/Text_console_python.png"><img decoding="async" height="32" src="../File/Text_console_python.png" width="32"/></a></span>.</li>
<li>For the example video macro use this skeleton of the icon <span typeof="mw:File"><a class="mw-file-description" href="../File/Text_Video_Movie.png"><img decoding="async" height="32" src="../File/Text_Video_Movie.png" width="32"/></a></span> and fill the screen for obtain ex: <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_crank_simul.png"><img decoding="async" height="32" src="../File/Macro_crank_simul.png" width="32"/></a></span> and save the new icon with the same name of your macro.</li></ul>
<p><a href="../Template;Macro.html" title="Template:Macro">Template:Macro</a> will put the information on using and installing the macros in every page.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Recipes_MacroHowToInstall.png"><img decoding="async" height="373" src="../File/Macro_Recipes_MacroHowToInstall.png" width="200"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;"><a href="../How_to_install_macros.html" title="How to install macros">How to install macros</a> and <a href="../Customize_Toolbars.html" title="Customize Toolbars">customize toolbars</a> links in the infobox on each macro page</p>
<p><br/>
</p>
<h3><span class="mw-headline" id="Adding_the_macro_documentation">Adding the macro documentation</span></h3>
<ul><li>Just like a <a href="../Gui_Command.html" title="Gui Command">Gui Command</a>, explain what the macro does, its inputs, outputs, options, and limitations, if any.</li>
<li>Include a personalized icon in <a href="../SVG.html" title="SVG">SVG</a> or PNG format for your macro so that other users can include it in a custom toolbar.</li>
<li>Add one or more images to clarify the usage of your tool.</li>
<li>If the macro performs a complex task, consider adding an animated GIF to showcase its capabilities. The GIF image should have a maximum size of 500 x 500 pixels; if the GIF is bigger, the animation may not work. Do not resize the GIF as the wiki will not play resized GIFs.</li>
<li>Mention related macros and workbenches that complement the function of this tool.</li>
<li>Mention the version of FreeCAD used to create the macro. This information can be gathered from <b>Help → About FreeCAD → Copy to clipboard</b>.</li></ul>
<dl><dd>When this information is pasted, it looks like this</dd></dl>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">OS</span><span class="p">:</span> <span class="n">Ubuntu</span> <span class="mf">18.04.1</span> <span class="n">LTS</span>
<span class="n">Word</span> <span class="n">size</span> <span class="n">of</span> <span class="n">OS</span><span class="p">:</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span>
<span class="n">Word</span> <span class="n">size</span> <span class="n">of</span> <span class="n">FreeCAD</span><span class="p">:</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span>
<span class="n">Version</span><span class="p">:</span> <span class="mf">0.18.15302</span> <span class="p">(</span><span class="n">Git</span><span class="p">)</span>
<span class="n">Build</span> <span class="nb">type</span><span class="p">:</span> <span class="n">Release</span>
<span class="n">Branch</span><span class="p">:</span> <span class="n">master</span>
<span class="n">Hash</span><span class="p">:</span> <span class="mf">2e03</span><span class="n">d2f298677b8212c22cbbc3cb20b7c80eabb5</span>
<span class="n">Python</span> <span class="n">version</span><span class="p">:</span> <span class="mf">2.7.15</span><span class="n">rc1</span>
<span class="n">Qt</span> <span class="n">version</span><span class="p">:</span> <span class="mf">4.8.7</span>
<span class="n">Coin</span> <span class="n">version</span><span class="p">:</span> <span class="mf">4.0.0</span><span class="n">a</span>
<span class="n">OCC</span> <span class="n">version</span><span class="p">:</span> <span class="mf">7.3.0</span>
<span class="n">Locale</span><span class="p">:</span> <span class="n">English</span><span class="o">/</span><span class="n">UnitedStates</span> <span class="p">(</span><span class="n">en_US</span><span class="p">)</span>
</pre></div>
<p>Consider adding this information in a comment block inside the code of the macro.
</p>
<h3><span class="mw-headline" id="Adding_the_macro_code">Adding the macro code</span></h3>
<p>Inside the <i>Script</i> section, use <a href="../Template;MacroCode.html" title="Template:MacroCode">Template:MacroCode</a> to place the code of the macro in the page. This will create a block of text that uses monospace font, which will preserve the whitespace that is essential for <a href="../Python.html" title="Python">Python</a>.
</p><p>If the block of code contains the characters <code>{{ }}</code> (double closing brace and opening brace) or <code>|</code> (vertical bar), the <code>&lt;nowiki&gt; ... &lt;/nowiki&gt;</code> tags can be added explicitly to allow displaying these special symbols.
</p><p>This <a href="../Template;MacroCode.html" title="Template:MacroCode">Template:MacroCode</a> essentially generates a block of HTML tags <code>&lt;pre&gt; ... &lt;/pre&gt;</code>, so these can be used directly instead of using the template. The <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a> will search for the biggest such block and use it for the body of the macro.
</p>
<pre>{{MacroCode|code=

«Your code should be here»

}}
</pre>
<p>Or if it includes the vertical bar <code>|</code>.
</p>
<pre>{{MacroCode|code=
&lt;nowiki&gt;

«Your code should be here»

&lt;/nowiki&gt;
}}
</pre>
<p>Lub
</p>
<pre>&lt;pre&gt;

«Your code should be here»

&lt;/pre&gt;
</pre>
<p>Add header information before your actual code.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">__Title__</span><span class="o">=</span><span class="s2">"Title_Of_macro"</span>
<span class="n">__Author__</span> <span class="o">=</span> <span class="s2">"User_Name"</span>
<span class="n">__Version__</span> <span class="o">=</span> <span class="s2">"00.11"</span>
<span class="n">__Date__</span>    <span class="o">=</span> <span class="s2">"2015-07-25"</span>
<span class="n">__Comment__</span> <span class="o">=</span> <span class="s2">"This is the comment of the macro"</span>
<span class="n">__Web__</span> <span class="o">=</span> <span class="s2">"http://forum.freecadweb.org/viewtopic.php?f=3&amp;t=7384"</span>
<span class="n">__Wiki__</span> <span class="o">=</span> <span class="s2">"http://www.freecadweb.org/wiki/index.php?title=Macro_Title_Of_macro"</span>
<span class="n">__Icon__</span>  <span class="o">=</span> <span class="s2">"/usr/lib/freecad/Mod/plugins/icons/Title_Of_macro"</span>
<span class="n">__IconW__</span>  <span class="o">=</span> <span class="s2">"C:/Documents and Settings/YourUserName/Application Data/FreeCAD"</span>
<span class="n">__Help__</span> <span class="o">=</span> <span class="s2">"start the macro and follow the instructions"</span>
<span class="n">__Status__</span> <span class="o">=</span> <span class="s2">"stable"</span>
<span class="n">__Requires__</span> <span class="o">=</span> <span class="s2">"freecad 0.14.3706"</span>
<span class="n">__Communication__</span> <span class="o">=</span> <span class="s2">"http://www.freecadweb.org/wiki/index.php?title=User:User_Name"</span>

<span class="err">«</span><span class="n">Your</span> <span class="n">code</span> <span class="n">should</span> <span class="n">be</span> <span class="n">here</span><span class="err">»</span>
</pre></div>
<p>Starting with FreeCAD 0.17, this information is used by the <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>, which downloads the macro from the <a class="external text" href="https://github.com/FreeCAD/FreeCAD-macros" rel="nofollow">FreeCAD-macros</a> repository.
</p>
<h3><span class="mw-headline" id="Adding_macro_code_outside_of_the_wiki">Adding macro code outside of the wiki</span></h3>
<p>If your macro is too big that it exceeds 64 KB, it won't be able to be hosted on the wiki. In this case, use <a href="../Template;Codeextralink.html" title="Template:Codeextralink">Template:Codeextralink</a> with a link to the raw web address of the code.
</p><p>Dla przykładu:
</p>
<pre>{{Codeextralink|https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro}}
</pre>
<p>It will be displayed as:
</p>
<div class="toccolours mw-collapsible mw-collapsed" style="cursor:not-allowed">
<p>Temporary code for external macro link. Do not use this code. This code is used exclusively by <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>. <i>Link for optional manual installation: <a class="external text" href="https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro" rel="nofollow">Macro</a></i>
</p>
<div class="mw-collapsible-content">
<pre>

# This code is copied instead of the original macro code
# to guide the user to the online download page.
# Use it if the code of the macro is larger than 64 KB and cannot be included in the wiki
# or if the RAW code URL is somewhere else in the wiki.

from PySide import QtGui, QtCore

diag = QtGui.QMessageBox(QtGui.QMessageBox.Information,
    "Information",
    "This macro must be downloaded from this link\n"
    "\n"
    "https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro" + "\n"
    "\n"
    "Quit this window to access the download page")

diag.setWindowFlags(QtCore.Qt.WindowStaysOnTopHint)
diag.setWindowModality(QtCore.Qt.ApplicationModal)
diag.exec_()

import webbrowser 
webbrowser.open("https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro")
</pre>
</div>
</div>
<div style="display:none;">&lt;class="rawcodeurl"&gt;&lt;a href="<a class="external free" href="https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro" rel="nofollow">https://gist.githubusercontent.com/mario52a/8d40ab6c018c2bde678f/raw/e16ad9ea7b38c0c47e42aa3019be01dd1267a620/FCInfo_en_Ver_1-20_Docked.FCMacro</a>"&gt;raw code&lt;/a&gt;</div>
<p><br/>
This template must be placed at the beginning of the macro page, in the <i>Description</i> section. It must be the first block of code in the page so that the <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Std_AddonMgr.svg"><img decoding="async" height="24" src="../File/Std_AddonMgr.svg" width="24"/></a></span> can automatically detect it and import it. See <a href="../Macro_CirclePlus.html" title="Macro CirclePlus">Macro CirclePlus</a> for an example of the usage.
</p>
<div style="background-color: #ffeeee"><b>PS:</b> In case upgrade in GitHub the path of the RAW code is modified not forgotten modify the link in the Codeextralink template.</div>
<h2><span class="mw-headline" id="Adding_the_new_macro_to_the_wiki_repository">Adding the new macro to the wiki repository</span></h2>
<p>Use <a href="../Template;MacroLink.html" title="Template:MacroLink">Template:MacroLink</a> to include a line in the appropriate category in <a href="../Macros_recipes.html" title="Macros recipes">Macros recipes</a>; create a new category if needed.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">*</span> <span class="p">{{</span><span class="n">MacroLink</span><span class="o">|</span><span class="n">Macro_Excellent_Modification</span><span class="o">|</span><span class="n">Macro</span> <span class="n">Excellent</span> <span class="n">Modification</span><span class="p">}}:</span> <span class="n">the</span> <span class="n">macro</span> <span class="n">described</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">short</span> <span class="n">sentence</span><span class="o">.</span>
</pre></div>
<ul><li>The first argument is the name of the macro page in the wiki.</li>
<li>The second argument is the displayed text, which may be different from the page name. This will create a link to the first argument, showing the second argument as the text.</li>
<li>A short description of the macro comes after the colon.</li></ul>
<p>You can also use the optional parameter <code>Icon=</code> to specify the image file that will be placed at the start of the line. The icon should be an <a href="../SVG.html" title="SVG">SVG</a> or a PNG file, and should have the same name as your macro. If this parameter is not given it will use the default icon for a <a href="../Python.html" title="Python">Python</a> script <span typeof="mw:File"><a class="mw-file-description" href="../File/Text-x-python.svg"><img decoding="async" height="24" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Text-x-python.svg" width="24"/></a></span>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">*</span> <span class="p">{{</span><span class="n">MacroLink</span><span class="o">|</span><span class="n">Icon</span><span class="o">=</span><span class="n">Macro_Excellent_Modification</span><span class="o">.</span><span class="n">svg</span><span class="o">|</span><span class="n">Macro_Excellent_Modification</span><span class="o">|</span><span class="n">Macro</span> <span class="n">Excellent</span> <span class="n">Modification</span><span class="p">}}:</span> <span class="n">the</span> <span class="n">macro</span> <span class="n">described</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">short</span> <span class="n">sentence</span><span class="o">.</span>
</pre></div>
<p>To localize this template, use the appropriate language link in the first argument.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">*</span> <span class="p">{{</span><span class="n">MacroLink</span><span class="o">|</span><span class="n">Macro_Excellent_Modification</span><span class="o">/</span><span class="n">fr</span><span class="o">|</span><span class="n">Macro</span> <span class="n">Excellent</span> <span class="n">Modification</span><span class="p">}}:</span> <span class="p">(</span><span class="n">translated</span> <span class="n">description</span><span class="p">)</span>
</pre></div>
<h2><span class="mw-headline" id="Adding_the_new_macro_to_the_central_repository">Adding the new macro to the central repository</span></h2>
<p>To make a macro installable from the <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a> it should be included in the central <a class="external text" href="https://github.com/FreeCAD/FreeCAD-macros" rel="nofollow">FreeCAD-macros</a> repository.
</p><p>In order to include the macro there, first it must be reviewed by the FreeCAD community in the <a class="external text" href="https://forum.freecadweb.org/viewforum.php?f=22" rel="nofollow">Python scripting and macros</a> subforum. Once this is done, the FreeCAD-macros repository should be forked, the new macro should be included in a branch, and then the branch should be pushed and merged into the upstream repository.
</p>
<!-- 
NewPP limit report
Cached time: 20241214203331
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.243 seconds
Real time usage: 1.799 seconds
Preprocessor visited node count: 301/1000000
Post‐expand include size: 2569/2097152 bytes
Template argument size: 2074/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 9824/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  669.508      1 -total
 96.99%  649.383      5 Template:Code
  1.04%    6.975      1 Template:MenuCommand
  0.51%    3.440      1 Template:TOCright
  0.45%    3.011      7 Template:Incode
  0.28%    1.893      4 Template:Emphasis
  0.14%    0.967      1 Template:ColoredParagraph
  0.14%    0.958      1 Template:Codeextralink
  0.13%    0.842      1 Template:Caption
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:274795-0!canonical and timestamp 20241214203329 and revision id 1247232. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
