<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Scripted objects migration/pl</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../de/Scripted_objects_migration.html" class="mw-pt-progress mw-pt-progress--high" title="Migration geskripteter Objekte (63% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="../Scripted_objects_migration.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Scripted objects migration (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../fr/Scripted_objects_migration.html" class="mw-pt-progress mw-pt-progress--complete" title="Migration d'objets cr&eacute;&eacute;s par script (99% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/Scripted_objects_migration.html" class="mw-pt-progress mw-pt-progress--stub" title="Migrazione di oggetti creati con script (3% translated)" lang="it" dir="ltr">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="pl" dir="ltr">polski</span></li>
<li><a href="../ru/Scripted_objects_migration.html" class="mw-pt-progress mw-pt-progress--stub" title="Scripted objects migration/ru (0% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<p><span id="Introduction"></span>
</p>
<meta property="mw:PageProp/toc">
<h2><span class="mw-headline" id="Wprowadzenie">Wprowadzenie</span></h2>
<p><a href="../pl/Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a> s&#261; odbudowywane przy ka&#380;dym otwarciu dokumentu <a href="../pl/File_Format_FCStd.html" title="File Format FCStd/pl">FCStd</a>. W tym celu dokument przechowuje referencj&#281; do modu&#322;u i klasy Pythona, kt&oacute;re zosta&#322;y u&#380;yte do stworzenia obiektu, wraz z jego w&#322;a&#347;ciwo&#347;ciami.
</p>
<div class="mw-highlight mw-highlight-lang-xml mw-content-ltr" dir="ltr"><pre><span></span><span class="nt">&lt;Document</span> <span class="na">SchemaVersion=</span><span class="s">"4"</span> <span class="na">ProgramVersion=</span><span class="s">"0.19R20959 (Git)"</span> <span class="na">FileVersion=</span><span class="s">"1"</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;Properties</span> <span class="na">Count=</span><span class="s">"15"</span> <span class="na">TransientCount=</span><span class="s">"3"</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;/Properties&gt;</span>
    <span class="nt">&lt;Objects</span> <span class="na">Count=</span><span class="s">"1"</span> <span class="na">Dependencies=</span><span class="s">"1"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ObjectDeps</span> <span class="na">Name=</span><span class="s">"Custom"</span> <span class="na">Count=</span><span class="s">"0"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Object</span> <span class="na">type=</span><span class="s">"Part::FeaturePython"</span> <span class="na">name=</span><span class="s">"Custom"</span> <span class="na">id=</span><span class="s">"2715"</span> <span class="na">Touched=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Objects&gt;</span>
    <span class="nt">&lt;ObjectData</span> <span class="na">Count=</span><span class="s">"1"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Object</span> <span class="na">name=</span><span class="s">"Custom"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Properties</span> <span class="na">Count=</span><span class="s">"9"</span> <span class="na">TransientCount=</span><span class="s">"0"</span><span class="nt">&gt;</span>
                ...
                <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"Proxy"</span> <span class="na">type=</span><span class="s">"App::PropertyPythonObject"</span> <span class="na">status=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;Python</span> <span class="na">value=</span><span class="s">"eyJUeXBlIjogIkN1c3RvbSJ9"</span> <span class="na">encoded=</span><span class="s">"yes"</span> <span class="na">module=</span><span class="s">"old_module"</span> <span class="na">class=</span><span class="s">"OldObject"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/Property&gt;</span>
                ...
            <span class="nt">&lt;/Properties&gt;</span>
        <span class="nt">&lt;/Object&gt;</span>
    <span class="nt">&lt;/ObjectData&gt;</span>
<span class="nt">&lt;/Document&gt;</span>
</pre></div>
<p>Szczeg&oacute;lnie skup si&#281; na tej cz&#281;&#347;ci:
</p>
<div class="mw-highlight mw-highlight-lang-xml mw-content-ltr" dir="ltr"><pre><span></span>...
                <span class="nt">&lt;Property</span> <span class="na">name=</span><span class="s">"Proxy"</span> <span class="na">type=</span><span class="s">"App::PropertyPythonObject"</span> <span class="na">status=</span><span class="s">"1"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;Python</span> <span class="na">value=</span><span class="s">"eyJUeXBlIjogIkN1c3RvbSJ9"</span> <span class="na">encoded=</span><span class="s">"yes"</span> <span class="na">module=</span><span class="s">"old_module"</span> <span class="na">class=</span><span class="s">"OldObject"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/Property&gt;</span>
                ...
</pre></div>
<p>Je&#347;li warto&#347;&#263; <code>module=</code> lub <code>class=</code> nie zostanie znaleziona w zainstalowanym systemie, obiekt nie zostanie poprawnie za&#322;adowany. Oznacza to, &#380;e po utworzeniu obiektu przy u&#380;yciu okre&#347;lonej klasy, modu&#322; nie powinien by&#263; ju&#380; przenoszony ani zmieniany, poniewa&#380; je&#347;li to nast&#261;pi, wcze&#347;niej zapisane obiekty ulegn&#261; uszkodzeniu.
</p><p>Jednak wa&#380;nym powodem przeniesienia lub zmiany nazwy modu&#322;u lub klasy jest poprawa struktury i &#322;atwo&#347;ci konserwacji oryginalnego kodu, na przyk&#322;ad podczas restrukturyzacji ca&#322;ego &#347;rodowiska pracy. W takim przypadku istniej&#261; r&oacute;&#380;ne strategie migracji starych obiekt&oacute;w do nowej klasy. Odbywa si&#281; to w celu zachowania kompatybilno&#347;ci wstecznej, gdy nale&#380;y unika&#263; jawnego zrywania funkcjonalno&#347;ci starych dokument&oacute;w.
</p><p><span id="Old_object_and_new_object"></span>
</p>
<h2><span class="mw-headline" id="Stary_i_nowy_obiekt">Stary i nowy obiekt</span></h2>
<p><span id="Old_object"></span>
</p>
<h3><span class="mw-headline" id="Stary_obiekt">Stary obiekt</span></h3>
<p>Stary obiekt jest zdefiniowany w module, kt&oacute;ry znajduje si&#281; w katalogu g&#322;&oacute;wnym &#347;rodowiska pracy.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyArea"</span><span class="p">,</span> <span class="s2">"Area"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="mi">15</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Area</span> <span class="o">=</span> <span class="mi">300</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s2">"Custom"</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>Obiekt mo&#380;e zosta&#263; utworzony przy u&#380;yciu tej klasy i zapisany do pliku <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">my_document.FCstd</span>. Je&#347;li &#380;aden konkretny <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawca widoku</a> nie jest przypisany do nowego obiektu, jego klasa proxy jest po prostu ustawiana na warto&#347;&#263; inn&#261; ni&#380; <code>None</code>, w tym przypadku na <code>1</code>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">old_module</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
<span class="n">doc</span><span class="o">.</span><span class="n">FileName</span> <span class="o">=</span> <span class="s2">"my_document.FCStd"</span>

<span class="n">obj</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"Custom"</span><span class="p">)</span>
<span class="n">old_module</span><span class="o">.</span><span class="n">OldObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="k">if</span> <span class="n">App</span><span class="o">.</span><span class="n">GuiUp</span><span class="p">:</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">doc</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
<span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
<p>Sesja <a href="../pl/Python_console.html" title="Python console/pl">konsoli Python</a> z pomini&#281;tymi podstawowymi w&#322;a&#347;ciwo&#347;ciami.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Area'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">old_module</span><span class="o">.</span><span class="n">OldObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7efc3c51c390</span><span class="o">&gt;</span>
</pre></div>
<p><span id="New_object"></span>
</p>
<h3><span class="mw-headline" id="Nowy_obiekt">Nowy obiekt</span></h3>
<p>We&#378;my teraz pod uwag&#281;, &#380;e &#347;rodowisko pracy jest zrestrukturyzowane tak, &#380;e klasy nie znajduj&#261; si&#281; tylko w katalogu g&#322;&oacute;wnym, ale zamiast tego znajduj&#261; si&#281; wewn&#261;trz katalogu <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">objects</span>. Z&#322;o&#380;one &#347;rodowiska pracy, kt&oacute;re maj&#261; wiele r&oacute;&#380;nych typ&oacute;w obiekt&oacute;w, powinny by&#263; zorganizowane w katalogach zawieraj&#261;cych obiekty, <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawcy widoku</a>, <a href="../pl/Command.html" title="Command/pl">polecenia Gui</a>, interfejsy <a href="../pl/Task_panel.html" title="Task panel/pl">panela zada&#324;</a> itd.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># objects/new_module.py</span>
<span class="k">class</span> <span class="nc">NewObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyArea"</span><span class="p">,</span> <span class="s2">"GeneralArea"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyInteger"</span><span class="p">,</span> <span class="s2">"Divisions"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">600</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Divisions</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s2">"Custom"</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>Ta nowa klasa b&#281;dzie odnosi&#263; si&#281; do tego samego typu obiektu, ale zar&oacute;wno nazwa modu&#322;u, jak i nazwa klasy zosta&#322;y zmienione. Co wi&#281;cej, w&#322;a&#347;ciwo&#347;ci r&oacute;wnie&#380; uleg&#322;y zmianie. Zmieniono nazw&#281; jednej w&#322;a&#347;ciwo&#347;ci i dodano zupe&#322;nie now&#261; w&#322;a&#347;ciwo&#347;&#263;.
</p><p>Je&#347;li utworzymy nowy obiekt z tym nowym modu&#322;em, otrzymamy nast&#281;puj&#261;c&#261; sesj&#281; konsoli.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj2</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj2</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Divisions'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'GeneralArea'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj2</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">objects</span><span class="o">.</span><span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7efc1cf68c50</span><span class="o">&gt;</span>
</pre></div>
<p><span id="Method_1._Migration_by_redirecting_the_class"></span>
</p>
<h2><span class="mw-headline" id="Metoda_1._Migracja_poprzez_przekierowanie_klasy">Metoda 1. Migracja poprzez przekierowanie klasy</span></h2>
<p>Zmigrujemy starszy obiekt poprzez przekierowanie starej klasy. Oryginalna klasa jest usuwana, a nazwa klasy jest po prostu przekierowywana, aby wskazywa&#322;a na now&#261; klas&#281;.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>

<span class="n">OldObject</span> <span class="o">=</span> <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span>
</pre></div>
<p>Ka&#380;dy dokument, kt&oacute;ry spr&oacute;buje za&#322;adowa&#263; <code>old_module.OldObject</code> zostanie przekierowany do za&#322;adowania <code>objects.new_module.NewObject</code> zamiast niego.
</p><p>Je&#347;li otworzymy dokument i sprawdzimy w&#322;a&#347;ciwo&#347;ci obiektu w <a href="../pl/Python_console.html" title="Python console/pl">konsoli Python</a>, zobaczymy, &#380;e starsze w&#322;a&#347;ciwo&#347;ci zosta&#322;y zachowane, ale obiekt ma now&#261; klas&#281; Proxy.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Area'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">objects</span><span class="o">.</span><span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f099700b2b0</span><span class="o">&gt;</span>
</pre></div>
<p>Jednak w tym przypadku nie widzimy nowych w&#322;a&#347;ciwo&#347;ci nowej klasy. Powodem jest po prostu to, &#380;e starszy obiekt nie mia&#322; tych w&#322;a&#347;ciwo&#347;ci. Kiedy <code>old_module.OldObject</code> zosta&#322; przekierowany do <code>objects.new_module.NewObject</code>, zmieni&#322;a si&#281; tylko klasa proxy, ale poprzednie informacje zosta&#322;y zachowane.
</p><p>Teraz, je&#347;li dokument zostanie zapisany i otwarty ponownie, b&#281;dzie automatycznie szuka&#322; <code>objects.new_module.NewObject</code> i nie b&#281;dzie ju&#380; wymaga&#322; <code>old_module.OldObject</code>. Plik <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">old_module.py</span> mo&#380;e zosta&#263; trwale usuni&#281;ty z systemu, o ile wszystkie starsze obiekty zosta&#322;y zmigrowane do nowego modu&#322;u. Je&#347;li stary modu&#322; zostanie usuni&#281;ty, ale obiekt nie zosta&#322; zmigrowany, <a href="../pl/Report_view.html" title="Report view/pl">widok raportu</a> wy&#347;wietli taki komunikat podczas otwierania dokumentu zawieraj&#261;cego taki obiekt.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>&lt;class <span class="s1">'ModuleNotFoundError'</span>&gt;: No module named <span class="s1">'old_module'</span>
</pre></div>
<p>Je&#347;li migracja wszystkich starszych obiekt&oacute;w nie jest realistycznie mo&#380;liwa, na przyk&#322;ad dlatego, &#380;e stary modu&#322; by&#322; u&#380;ywany w &#347;rodowisku pracy przez wiele lat, <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">old_module.py</span> musi zosta&#263; zachowany tak d&#322;ugo, jak jest to konieczne, aby da&#263; u&#380;ytkownikom mo&#380;liwo&#347;&#263; migracji ich obiekt&oacute;w.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h3><span class="mw-headline" id="Zalety_i_wady">Zalety i wady</span></h3>
<p><b>Zalety</b>
</p>
<ul><li><a href="../index.php?title=Plik;Edit_OK.svg&amp;action=edit&amp;redlink=1.html" class="new" title="Plik:Edit OK.svg (page does not exist)">24px</a> Jest to najprostsza metoda, kt&oacute;ra wymaga jedynie przekierowania starej klasy do nowej.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Stare w&#322;a&#347;ciwo&#347;ci s&#261; zachowywane, o ile nowa klasa ich nie nadpisuje.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Jest to dobre rozwi&#261;zanie, je&#347;li stara i nowa klasa maj&#261; te same w&#322;a&#347;ciwo&#347;ci <i>(obs&#322;uguj&#261; ten sam typ danych)</i>, ale r&oacute;&#380;ni&#261; si&#281; tylko nazw&#261; modu&#322;u lub klasy.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Nowa klasa zachowuje stare w&#322;a&#347;ciwo&#347;ci obiektu, co nie zawsze jest po&#380;&#261;dane.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Nowe w&#322;a&#347;ciwo&#347;ci lub zmienione w&#322;a&#347;ciwo&#347;ci nie s&#261; obs&#322;ugiwane, wi&#281;c obiekt zostanie za&#322;adowany, ale mo&#380;e nie pokazywa&#263; prawid&#322;owego zachowania nowej klasy.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Stary modu&#322; mo&#380;e by&#263; przechowywany w niesko&#324;czono&#347;&#263;, aby zmigrowa&#263; wszystkie stare obiekty utworzone w przesz&#322;o&#347;ci.</li></ul>
<p><span id="Method_2._Migration_when_restoring_the_document"></span>
</p>
<h2><span class="mw-headline" id="Metoda_2._Migracja_podczas_przywracania_dokumentu">Metoda 2. Migracja podczas przywracania dokumentu</span></h2>
<p>Zmigrujemy starszy obiekt, modyfikuj&#261;c star&#261; klas&#281;. Wi&#281;kszo&#347;&#263; oryginalnej klasy zostanie usuni&#281;ta, a zamiast tego zaimplementowana zostanie metoda <code>onDocumentRestored</code>. Gdy ta metoda istnieje, zostanie uruchomiona, gdy dokument spr&oacute;buje przywr&oacute;ci&#263; obiekt korzystaj&#261;cy z tej klasy, wi&#281;c jest to okazja, aby przypisa&#263; now&#261; klas&#281;, manipulowa&#263; informacjami lub drukowa&#263; komunikaty.
</p><p>W tym przypadku zak&#322;adamy, &#380;e zdefiniowali&#347;my r&oacute;wnie&#380; nowego <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawc&#281; widoku</a> w module <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">viewp/new_view.py</span>. Je&#347;li nie chcemy migrowa&#263; tej klasy, mo&#380;emy pomin&#261;&#263; wszystko po sprawdzeniu <code>App.GuiUp</code>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>
<span class="kn">import</span> <span class="nn">viewp.new_view</span> <span class="k">as</span> <span class="nn">new_view</span>
<span class="n">_wrn</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span>

<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">App</span><span class="o">.</span><span class="n">GuiUp</span><span class="p">:</span>
            <span class="n">new_view</span><span class="o">.</span><span class="n">ViewProviderNew</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
            <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New viewprovider class used</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<p>Bardziej z&#322;o&#380;ony przyk&#322;ad sprawdza najpierw, czy klasa proxy jest typu, kt&oacute;rego szukamy, i kontynuuje migracj&#281; tylko wtedy, gdy jest to w&#322;a&#347;ciwy typ.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"Proxy"</span><span class="p">)</span> <span class="ow">and</span> <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">Type</span> <span class="o">==</span> <span class="s2">"Custom"</span><span class="p">:</span>
            <span class="n">_module</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
            <span class="n">_module</span> <span class="o">=</span> <span class="n">_module</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">"&lt;class '"</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">"'&gt;"</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">_module</span> <span class="o">==</span> <span class="s2">"old_module.OldObject"</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_migrate</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_migrate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">App</span><span class="o">.</span><span class="n">GuiUp</span><span class="p">:</span>
            <span class="n">new_view</span><span class="o">.</span><span class="n">ViewProviderNew</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span><span class="p">)</span>
            <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New viewprovider class used</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<p>Zak&#322;adaj&#261;c, &#380;e zmienili&#347;my ju&#380; w ten spos&oacute;b stary modu&#322;, je&#347;li otworzymy dokument ze starym obiektem, zobaczymy komunikaty wspominaj&#261;ce o u&#380;yciu nowych klas.
</p><p>Sprawdzaj&#261;c obiekt z <a href="../Python_console.html" title="Python console">konsoli Python</a> zobaczymy, &#380;e starsze w&#322;a&#347;ciwo&#347;ci zosta&#322;y zachowane, a dodatkowo nowe w&#322;a&#347;ciwo&#347;ci zosta&#322;y dodane wraz z now&#261; klas&#261; Proxy.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Area'</span><span class="p">,</span> <span class="s1">'Divisions'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'GeneralArea'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="s1">'Length1'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">objects</span><span class="o">.</span><span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fecb0ebd7b8</span><span class="o">&gt;</span>
</pre></div>
<p>Stare w&#322;a&#347;ciwo&#347;ci to <code>Area</code> i <code>Length</code>; nowe w&#322;a&#347;ciwo&#347;ci to <code>Divisions</code>, <code>GeneralArea</code> i <code>Length</code>. Migrowany obiekt zachowuje oryginalne dwie w&#322;a&#347;ciwo&#347;ci i zyskuje trzy nowe w&#322;a&#347;ciwo&#347;ci. Poniewa&#380; jednak nowa w&#322;a&#347;ciwo&#347;&#263; <code>Length</code> ma tak&#261; sam&#261; nazw&#281; jak starsza w&#322;a&#347;ciwo&#347;&#263;, nazwa nowej w&#322;a&#347;ciwo&#347;ci jest zmieniana na numer przyrostowy. Przypuszczalnie nie tego chcemy. Mo&#380;emy poprawi&#263; sytuacj&#281;, post&#281;puj&#261;c zgodnie z uzupe&#322;nieniem 2.1 poni&#380;ej.
</p><p>Bior&#261;c pod uwag&#281;, &#380;e klasy maj&#261; obs&#322;ugiwa&#263; ten sam typ obiektu, chcieliby&#347;my migracji, w kt&oacute;rej <code>Area</code> przekszta&#322;ca si&#281; w <code>GeneralArea</code>, a <code>Length</code> jest po prostu przypisywany do nowego <code>Length</code> i nie ma duplikat&oacute;w w&#322;a&#347;ciwo&#347;ci.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h2><span id=".3DZalety_i_wady"></span><span class="mw-headline" id="=Zalety_i_wady">=Zalety i wady</span></h2>
<p><b>Zalety</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Ta metoda pozwala nam sprawdzi&#263;, czy klasa, kt&oacute;r&#261; migrujemy, jest w&#322;a&#347;ciw&#261; klas&#261;, zamiast po prostu przekierowywa&#263; do nowszej klasy.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Podobnie jak w metodzie 1, stare w&#322;a&#347;ciwo&#347;ci s&#261; zachowywane, o ile nowa klasa ich nie nadpisuje.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> W przeciwie&#324;stwie do metody 1, nowe w&#322;a&#347;ciwo&#347;ci s&#261; zawsze dodawane, jednak je&#347;li maj&#261; t&#281; sam&#261; nazw&#281;, ich nazwy zostan&#261; zmienione.</li>
<li><a href="../index.php?title=Plik;Edit_OK.svg&amp;action=edit&amp;redlink=1.html" class="new" title="Plik:Edit OK.svg (page does not exist)">24px</a> Migracja nie jest natychmiastowa, nadal mo&#380;emy manipulowa&#263; informacjami lub drukowa&#263; komunikaty podczas &#322;adowania obiektu.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><a href="../index.php?title=Plik;Edit_Cancel.svg&amp;action=edit&amp;redlink=1.html" class="new" title="Plik:Edit Cancel.svg (page does not exist)">24px</a> Jest bardziej rozwlek&#322;a ni&#380; metoda 1, poniewa&#380; musimy zaimplementowa&#263; metod&#281; <code>onDocumentRestored</code>, aby zmigrowa&#263; obiekt.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Zawsze dodaje nowe w&#322;a&#347;ciwo&#347;ci, wi&#281;c mo&#380;e tworzy&#263; zduplikowane w&#322;a&#347;ciwo&#347;ci w przypadku, gdy nowe w&#322;a&#347;ciwo&#347;ci maj&#261; tak&#261; sam&#261; nazw&#281; jak stare. To musi by&#263; obs&#322;ugiwane r&#281;cznie.</li></ul>
<p><span id="Method_3._Migration_when_restoring_the_document,_manually_handling_the_properties"></span>
</p>
<h2><span id="Metoda_3._Migracja_podczas_przywracania_dokumentu.2C_r.C4.99czna_obs.C5.82uga_w.C5.82a.C5.9Bciwo.C5.9Bci"></span><span class="mw-headline" id="Metoda_3._Migracja_podczas_przywracania_dokumentu,_r&#281;czna_obs&#322;uga_w&#322;a&#347;ciwo&#347;ci">Metoda 3. Migracja podczas przywracania dokumentu, r&#281;czna obs&#322;uga w&#322;a&#347;ciwo&#347;ci</span></h2>
<p>Jest to rozszerzenie metody 2. W metodzie <code>onDocumentRestored</code> musimy zapisa&#263; warto&#347;ci w&#322;a&#347;ciwo&#347;ci, kt&oacute;re chcemy, a nast&#281;pnie mo&#380;emy usun&#261;&#263; te oryginalne w&#322;a&#347;ciwo&#347;ci. Odbywa si&#281; to tak, &#380;e gdy nowa klasa jest u&#380;ywana, przypisuje nowe w&#322;a&#347;ciwo&#347;ci bez ryzyka kolizji nazw ze starszymi w&#322;a&#347;ciwo&#347;ciami.
</p><p>Podobnie jak w metodzie 2, je&#347;li chcemy, mo&#380;emy r&oacute;wnie&#380; doda&#263; fragment kodu, kt&oacute;ry sprawdza, czy klasa Proxy jest w&#322;a&#347;ciwa. W tym przyk&#322;adzie ponownie zak&#322;adamy, &#380;e u&#380;ywamy niestandardowego <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawcy widoku</a>, z co najmniej jedn&#261; niestandardow&#261; w&#322;a&#347;ciwo&#347;ci&#261;.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>
<span class="kn">import</span> <span class="nn">viewp.new_view</span> <span class="k">as</span> <span class="nn">new_view</span>
<span class="n">_wrn</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span>

<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Area</span>
        <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Length</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Area"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Length"</span><span class="p">)</span>

        <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span>
        <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used; properties migrated</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">App</span><span class="o">.</span><span class="n">GuiUp</span><span class="p">:</span>
            <span class="n">vobj</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span>
            <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

            <span class="n">old</span><span class="p">[</span><span class="s2">"LineScale"</span><span class="p">]</span> <span class="o">=</span> <span class="n">vobj</span><span class="o">.</span><span class="n">LineScale</span>
            <span class="n">vobj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"LineScale"</span><span class="p">)</span>

            <span class="n">new_view</span><span class="o">.</span><span class="n">ViewProviderNew</span><span class="p">(</span><span class="n">vobj</span><span class="p">)</span>

            <span class="n">vobj</span><span class="o">.</span><span class="n">LineScale</span> <span class="o">=</span> <span class="mf">1.05</span> <span class="o">*</span> <span class="n">old</span><span class="p">[</span><span class="s2">"LineScale"</span><span class="p">]</span>
            <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New viewprovider class used; view properties migrated</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<p>Widzimy, &#380;e stare warto&#347;ci s&#261; przechowywane w s&#322;owniku pomocniczym, nast&#281;pnie stare w&#322;a&#347;ciwo&#347;ci s&#261; usuwane, nast&#281;pnie dodajemy now&#261; klas&#281;, a na koniec przypisujemy wcze&#347;niej zapisane warto&#347;ci do nowych w&#322;a&#347;ciwo&#347;ci. W tym momencie mo&#380;emy przekszta&#322;ci&#263; zapisane warto&#347;ci zgodnie z potrzebami nowej klasy. Na przyk&#322;ad, <code>GeneralArea</code> jest ustawiony na 3-krotno&#347;&#263; starego <code>Area</code>, a nowy <code>Length</code> po prostu otrzymuje warto&#347;&#263; starego <code>Length</code>. Poniewa&#380; wiemy, jak powinny zachowywa&#263; si&#281; stare i nowe klasy, mo&#380;emy swobodnie manipulowa&#263; danymi, aby zmigrowa&#263; obiekt tak, jak chcemy.
</p><p>Mo&#380;emy usun&#261;&#263; tylko te w&#322;a&#347;ciwo&#347;ci, kt&oacute;re zosta&#322;y dodane przez klasy <a href="../pl/Python.html" title="Python/pl">Python</a> podczas tworzenia <a href="../pl/Scripted_objects.html" title="Scripted objects/pl">obiekt&oacute;w generowanych skryptami</a>. Inne atrybuty nale&#380;&#261; do bazowego obiektu C++ i nie mog&#261; by&#263; usuni&#281;te.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Visibility"</span><span class="p">)</span>
<span class="kc">False</span>
</pre></div>
<p>Zak&#322;adaj&#261;c, &#380;e zmienili&#347;my ju&#380; stary modu&#322; w ten spos&oacute;b, je&#347;li otworzymy dokument ze starym obiektem, zobaczymy komunikaty wspominaj&#261;ce o u&#380;yciu nowych klas. Sprawdzaj&#261;c obiekt z <a href="../pl/Python_console.html" title="Python console/pl">konsoli Python</a> widzimy, &#380;e starsze w&#322;a&#347;ciwo&#347;ci zosta&#322;y usuni&#281;te i istniej&#261; tylko nowe.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Divisions'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'GeneralArea'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">objects</span><span class="o">.</span><span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7efd456c9b00</span><span class="o">&gt;</span>
</pre></div>
<p>Poniewa&#380; w starej klasie w&#322;a&#347;ciwo&#347;&#263; <code>Divisions</code> nie istnia&#322;a, nic nie zosta&#322;o z ni&#261; zrobione. Zosta&#322;a ona po prostu utworzona przez now&#261; klas&#281; <code>objects.new_module.NewObject</code>.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h3><span class="mw-headline" id="Zalety_i_wady_2">Zalety i wady</span></h3>
<p><b>Zalety</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Podobnie jak metoda 2, ta metoda pozwala nam sprawdzi&#263;, czy klasa, kt&oacute;r&#261; migrujemy, jest w&#322;a&#347;ciw&#261; klas&#261;.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Mamy pe&#322;n&#261; kontrol&#281; nad tym, co zrobi&#263; ze starymi w&#322;a&#347;ciwo&#347;ciami. Zazwyczaj zostan&#261; one usuni&#281;te, aby nie by&#322;o kolizji nazw z nowo dodanymi w&#322;a&#347;ciwo&#347;ciami. W ten spos&oacute;b unikamy zduplikowanych w&#322;a&#347;ciwo&#347;ci.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Zapisuj&#261;c starsze warto&#347;ci, mo&#380;emy dowolnie manipulowa&#263; informacjami w kroku przywracania i przypisa&#263; odpowiednie warto&#347;ci do nowych w&#322;a&#347;ciwo&#347;ci.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Ta metoda jest bardzo rozwlek&#322;a w por&oacute;wnaniu do poprzednich, poniewa&#380; musimy zaimplementowa&#263; metod&#281; <code>onDocumentRestored</code> i obs&#322;u&#380;y&#263; ka&#380;d&#261; z w&#322;a&#347;ciwo&#347;ci indywidualnie (zapisa&#263; warto&#347;&#263;, usun&#261;&#263; w&#322;a&#347;ciwo&#347;&#263;, ponownie przypisa&#263; warto&#347;&#263;). Jest to problematyczne, je&#347;li obiekt, kt&oacute;ry chcemy migrowa&#263;, ma wiele w&#322;a&#347;ciwo&#347;ci lub ich warto&#347;ci musz&#261; by&#263; przekszta&#322;cane w bardzo szczeg&oacute;lny spos&oacute;b.</li></ul>
<p><span id="Addendum_A._Creating_the_properties_only_if_they_do_not_already_exist"></span>
</p>
<h2><span class="mw-headline" id="Addendum_A._Creating_the_properties_only_if_they_do_not_already_exist">Addendum A. Creating the properties only if they do not already exist</span></h2>
<p>Jedn&#261; z wad metody 2 jest to, &#380;e zawsze b&#281;dzie ona pr&oacute;bowa&#322;a doda&#263; nowe w&#322;a&#347;ciwo&#347;ci. Je&#347;li starsze w&#322;a&#347;ciwo&#347;ci maj&#261; tak&#261; sam&#261; nazw&#281; jak nowe, zostan&#261; zduplikowane z przyrostow&#261; liczb&#261;, wi&#281;c <code>Length</code> spowoduje <code>Length1</code>, a nast&#281;pnie <code>Length2</code> i tak dalej. To sprawia, &#380;e metoda 2 jest nierealistyczn&#261; opcj&#261; w wi&#281;kszo&#347;ci przypadk&oacute;w, poniewa&#380; nowa klasa i tak b&#281;dzie u&#380;ywa&#263; tylko jednej w&#322;a&#347;ciwo&#347;ci.
</p><p>Aby ulepszy&#263; t&#281; metod&#281;, now&#261; klas&#281; mo&#380;na r&oacute;wnie&#380; zmodyfikowa&#263; tak, aby dodawa&#322;a w&#322;a&#347;ciwo&#347;ci tylko wtedy, gdy nie istniej&#261; jeszcze pod t&#261; sam&#261; nazw&#261;.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># objects/new_module.py</span>
<span class="k">class</span> <span class="nc">NewObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">):</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="mi">30</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"GeneralArea"</span><span class="p">):</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyArea"</span><span class="p">,</span> <span class="s2">"GeneralArea"</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">600</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"Divisions"</span><span class="p">):</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyInteger"</span><span class="p">,</span> <span class="s2">"Divisions"</span><span class="p">)</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">Divisions</span> <span class="o">=</span> <span class="mi">4</span>

        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s2">"Custom"</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>W tym przypadku, poniewa&#380; <code>Length</code> ju&#380; istnieje, nie zostanie ponownie dodany; <code>GeneralArea</code> i <code>Divisions</code> nie istniej&#261;, wi&#281;c zostan&#261; dodane. I tak jak poprzednio, <code>Area</code> zostanie zachowany, poniewa&#380; nie zosta&#322; wyra&#378;nie usuni&#281;ty, chocia&#380; prawdopodobnie nie jest ju&#380; u&#380;ywany w nowej klasie.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">PropertiesList</span><span class="p">)</span>
<span class="p">[</span><span class="s1">'Area'</span><span class="p">,</span> <span class="s1">'Divisions'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'GeneralArea'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">'Length'</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">objects</span><span class="o">.</span><span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f036bd4c6a0</span><span class="o">&gt;</span>
</pre></div>
<p>To samo mo&#380;na zrobi&#263; dla klasy <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawcy widoku</a>.
</p><p>U&#380;ywaj&#261;c tej metody 2 + A, wynik jest podobny do metody 1, poniewa&#380; obiekt zachowa wszystkie poprzednie w&#322;a&#347;ciwo&#347;ci, ale dodatkowo zyska nowe w&#322;a&#347;ciwo&#347;ci dostarczone przez now&#261; klas&#281;.
</p><p>Metoda 3 nie potrzebuje tego dodatku do nowej klasy, poniewa&#380; starsze w&#322;a&#347;ciwo&#347;ci s&#261; wyra&#378;nie usuwane, wi&#281;c nie b&#281;dzie &#380;adnych konflikt&oacute;w podczas instalowania nowych w&#322;a&#347;ciwo&#347;ci. Niemniej jednak, nadal dobr&#261; praktyk&#261; jest, aby ka&#380;da klasa dodawa&#322;a swoje wymagane w&#322;a&#347;ciwo&#347;ci tylko wtedy, gdy jeszcze nie istniej&#261;. Jest to pomocne zar&oacute;wno w przypadku tworzenia nowych <a href="../pl/Scripted_objects.html" title="Scripted objects/pl">obiekt&oacute;w generowanych skryptami</a>, jak i ich migracji.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h3><span class="mw-headline" id="Zalety_i_wady_3">Zalety i wady</span></h3>
<p><b>Zalety</b>
</p>
<ul><li><a href="../index.php?title=Plik;Edit_OK.svg&amp;action=edit&amp;redlink=1.html" class="new" title="Plik:Edit OK.svg (page does not exist)">24px</a> Obiekt zachowa wszystkie poprzednie w&#322;a&#347;ciwo&#347;ci, ale dodatkowo zyska nowe w&#322;a&#347;ciwo&#347;ci bez powt&oacute;rze&#324;.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Podobnie jak metoda 2, nadal nie radzi sobie ze zmienionymi nazwami w&#322;a&#347;ciwo&#347;ci. Stare w&#322;a&#347;ciwo&#347;ci powinny zosta&#263; usuni&#281;te r&#281;cznie.</li></ul>
<p><span id="Addendum_B._Migrating_different_versions_of_the_old_object"></span>
</p>
<h2><span id="Dodatek_B._Migracja_r.C3.B3.C5.BCnych_wersji_starego_obiektu"></span><span class="mw-headline" id="Dodatek_B._Migracja_r&oacute;&#380;nych_wersji_starego_obiektu">Dodatek B. Migracja r&oacute;&#380;nych wersji starego obiektu</span></h2>
<p>Metoda 3 jest najbardziej z&#322;o&#380;on&#261; metod&#261;, poniewa&#380; w&#322;a&#347;ciwo&#347;ci s&#261; obs&#322;ugiwane indywidualnie. Jednak w tej metodzie mamy r&oacute;wnie&#380; pe&#322;n&#261; elastyczno&#347;&#263; w sposobie manipulowania danymi, co jest zalet&#261;, je&#347;li chcemy wykonywa&#263; z&#322;o&#380;one operacje.
</p><p>Je&#347;li od pocz&#261;tku utworzymy w&#322;a&#347;ciwo&#347;&#263;, kt&oacute;ra przechowuje numer wersji naszego obiektu, mo&#380;emy u&#380;y&#263; tego numeru w przysz&#322;o&#347;ci, aby wykona&#263; okre&#347;lon&#261; migracj&#281; z tej wersji do dowolnej innej. Ustawiamy w&#322;a&#347;ciwo&#347;&#263; jako tylko do odczytu, wi&#281;c nie mo&#380;emy jej nadpisa&#263; w <a href="../pl/Property_editor.html" title="Property editor/pl">edytorze w&#322;a&#347;ciwo&#347;ci</a>, chocia&#380; jest ona nadal dost&#281;pna z <a href="../pl/Python_console.html" title="Python console/pl">konsoli Python</a>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyArea"</span><span class="p">,</span> <span class="s2">"Area"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyString"</span><span class="p">,</span> <span class="s2">"Version"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">setEditorMode</span><span class="p">(</span><span class="s2">"Version"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="mi">15</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Area</span> <span class="o">=</span> <span class="mi">300</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">=</span> <span class="s2">"0.18"</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s2">"Custom"</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>Nast&#281;pnie, gdy chcemy zmigrowa&#263; obiekt, implementujemy metod&#281; <code>onDocumentRestored</code> i testujemy t&#281; wersj&#281;.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>
<span class="n">_wrn</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span>

<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"Version"</span><span class="p">)</span> <span class="ow">and</span> <span class="n">obj</span><span class="o">.</span><span class="n">Version</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">==</span> <span class="s2">"0.18"</span><span class="p">:</span>
                <span class="n">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">==</span> <span class="s2">"0.19"</span><span class="p">:</span>
                <span class="n">_migrate_from_019</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Area</span>
    <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Length</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Area"</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Length"</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Version"</span><span class="p">)</span>

    <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">=</span> <span class="s2">"0.20"</span>
    <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used; properties migrated</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_migrate_from_019</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
<p>Nie zapisujemy warto&#347;ci <code>Version</code>, poniewa&#380; podczas migracji ustawimy nowy numer <code>Version</code>. Jak pokazano w przyk&#322;adzie, mo&#380;emy zaimplementowa&#263; r&oacute;&#380;ne funkcje dla ka&#380;dej odpowiedniej wersji obiektu, kt&oacute;ry zamierzamy zmigrowa&#263;. Pomijamy migracj&#281; w&#322;a&#347;ciwo&#347;ci <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawcy widoku</a>, ale przebiega ona wed&#322;ug tego samego schematu.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h3><span class="mw-headline" id="Zalety_i_wady_4">Zalety i wady</span></h3>
<p><b>Zalety</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Mamy pe&#322;n&#261; kontrol&#281; nad tym, co zrobi&#263; ze starymi w&#322;a&#347;ciwo&#347;ciami i jak przeprowadzi&#263; migracj&#281;.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Mo&#380;emy zaimplementowa&#263; konkretn&#261; metod&#281; do migracji konkretnej wersji starego obiektu.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Ta metoda jest bardzo gadatliwa, poniewa&#380; musimy mie&#263; jasny pomys&#322; na to, jak obs&#322;ugiwa&#263; ka&#380;d&#261; z w&#322;a&#347;ciwo&#347;ci ka&#380;dej "wersji", kt&oacute;r&#261; chcemy zmigrowa&#263;. Je&#347;li nasz obiekt ma wiele r&oacute;&#380;nych wersji utworzonych na przestrzeni lat, by&#263; mo&#380;e b&#281;dziemy musieli przygotowa&#263; d&#322;ug&#261; list&#281; metod, aby zmigrowa&#263; je do najnowszego obiektu.</li></ul>
<p><span id="Addendum_B2._Using_internal_class_attributes_instead_of_properties"></span>
</p>
<h2><span id="Uzupe.C5.82nienie_B2._U.C5.BCywanie_wewn.C4.99trznych_atrybut.C3.B3w_klasy_zamiast_w.C5.82a.C5.9Bciwo.C5.9Bci"></span><span class="mw-headline" id="Uzupe&#322;nienie_B2._U&#380;ywanie_wewn&#281;trznych_atrybut&oacute;w_klasy_zamiast_w&#322;a&#347;ciwo&#347;ci">Uzupe&#322;nienie B2. U&#380;ywanie wewn&#281;trznych atrybut&oacute;w klasy zamiast w&#322;a&#347;ciwo&#347;ci</span></h2>
<p>Zamiast u&#380;ywa&#263; <a href="../pl/Property.html" title="Property/pl">w&#322;a&#347;ciwo&#347;ci</a> obiektu do przechowywania informacji o wersji, mo&#380;emy u&#380;y&#263; atrybutu klasy. W ten spos&oacute;b "ukrywamy" informacje o wersji, poniewa&#380; w&#322;a&#347;ciwo&#347;ci s&#261; zwykle publiczne i widoczne w <a href="../pl/Property_editor.html" title="Property editor/pl">edytorze w&#322;a&#347;ciwo&#347;ci</a>, podczas gdy atrybutami klasy mo&#380;na manipulowa&#263; tylko z <a href="../pl/Python_console.html" title="Python console/pl">konsoli Python</a>. Atrybuty klas mog&#261; by&#263; zapisywane i przywracane, jak wyja&#347;niono w <a href="../pl/Scripted_objects_saving_attributes.html" title="Scripted objects saving attributes/pl">Obiektchy generowanych skryptami</a>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyArea"</span><span class="p">,</span> <span class="s2">"Area"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="mi">15</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Area</span> <span class="o">=</span> <span class="mi">300</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="s2">"Custom"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ver</span> <span class="o">=</span> <span class="s2">"0.18"</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>Atrybut ten jest kontrolowany poprzez przegl&#261;danie atrybutu <code>Proxy</code>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Custom</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">ver</span><span class="p">)</span>
<span class="mf">0.18</span>
</pre></div>
<p>Nast&#281;pnie plik jest modyfikowany w celu migracji obiektu.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>
<span class="n">_wrn</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span>

<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="p">,</span> <span class="s2">"ver"</span><span class="p">)</span> <span class="ow">and</span> <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">ver</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">ver</span> <span class="o">==</span> <span class="s2">"0.18"</span><span class="p">:</span>
                <span class="n">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Area</span>
    <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Length</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Area"</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Length"</span><span class="p">)</span>

    <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">=</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Length"</span><span class="p">]</span>
    <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used; properties migrated</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<p>Kiedy zainstalujemy now&#261; klas&#281;, ta nowa klasa powinna ustawi&#263; now&#261; warto&#347;&#263; atrybutu version, na przyk&#322;ad <code>self.ver = "0.20"</code>.
</p><p><span id="Addendum_C._Method_3_without_removing_old_properties_that_are_named_the_same"></span>
</p>
<h2><span id="Uzupe.C5.82nienie_C._Metoda_3_bez_usuwania_starych_w.C5.82a.C5.9Bciwo.C5.9Bci_o_tej_samej_nazwie"></span><span class="mw-headline" id="Uzupe&#322;nienie_C._Metoda_3_bez_usuwania_starych_w&#322;a&#347;ciwo&#347;ci_o_tej_samej_nazwie">Uzupe&#322;nienie C. Metoda 3 bez usuwania starych w&#322;a&#347;ciwo&#347;ci o tej samej nazwie</span></h2>
<p>Podobnie jak w Uzupe&#322;nieniu A, mo&#380;emy napisa&#263; now&#261; klas&#281;, aby tworzy&#322;a w&#322;a&#347;ciwo&#347;ci tylko wtedy, gdy jeszcze ich nie ma. Korzystaj&#261;c z metody 3, zapisujemy warto&#347;ci starszych w&#322;a&#347;ciwo&#347;ci, a nast&#281;pnie usuwamy starsze w&#322;a&#347;ciwo&#347;ci. Je&#347;li jednak nowe w&#322;a&#347;ciwo&#347;ci nazywaj&#261; si&#281; tak samo jak starsze, nie musimy usuwa&#263; starszych, mo&#380;emy po prostu ponownie u&#380;y&#263; tej samej w&#322;a&#347;ciwo&#347;ci, poniewa&#380; wiemy, &#380;e w&#322;a&#347;ciwo&#347;&#263; nie zostanie zduplikowana. Je&#347;li korzystamy z Uzupe&#322;nienia B, mamy r&oacute;wnie&#380; spos&oacute;b na zapytanie o wersj&#281;.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># old_module.py</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span> <span class="k">as</span> <span class="nn">App</span>
<span class="kn">import</span> <span class="nn">objects.new_module</span> <span class="k">as</span> <span class="nn">new_module</span>
<span class="n">_wrn</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintWarning</span>

<span class="k">class</span> <span class="nc">OldObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">onDocumentRestored</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s2">"Version"</span><span class="p">)</span> <span class="ow">and</span> <span class="n">obj</span><span class="o">.</span><span class="n">Version</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">==</span> <span class="s2">"0.18"</span><span class="p">:</span>
                <span class="n">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_migrate_from_018</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="n">old</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Area</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">removeProperty</span><span class="p">(</span><span class="s2">"Area"</span><span class="p">)</span>

    <span class="n">new_module</span><span class="o">.</span><span class="n">NewObject</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="n">obj</span><span class="o">.</span><span class="n">GeneralArea</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">old</span><span class="p">[</span><span class="s2">"Area"</span><span class="p">]</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">Version</span> <span class="o">=</span> <span class="s2">"0.20"</span>
    <span class="n">_wrn</span><span class="p">(</span><span class="s2">"New proxy class used; properties migrated</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
<p>Jak widzimy w przyk&#322;adzie, stara w&#322;a&#347;ciwo&#347;&#263; <code>Area</code> jest usuwana i migrowana do nowej w&#322;a&#347;ciwo&#347;ci <code>GeneralArea</code> jak zwykle. Nie musimy usuwa&#263; <code>Length</code> ani <code>Version</code>, poniewa&#380; w nowej klasie s&#261; one nadal u&#380;ywane z t&#261; sam&#261; nazw&#261; i nie zostan&#261; ponownie utworzone ( uzupe&#322;nienie A). Poniewa&#380; nie chcemy modyfikowa&#263; <code>Length</code>, ta w&#322;a&#347;ciwo&#347;&#263; nie jest w og&oacute;le dotykana; jest migrowana do nowej klasy po cichu. Aktualizujemy jednak <code>Version</code> do nowej warto&#347;ci. Pomijamy migracj&#281; w&#322;a&#347;ciwo&#347;ci <a href="../pl/Viewprovider.html" title="Viewprovider/pl">dostawcy widoku</a>, ale przebiega ona wed&#322;ug tego samego schematu.
</p><p>Powinno to dzia&#322;a&#263; jak metoda 3, co oznacza, &#380;e stare w&#322;a&#347;ciwo&#347;ci s&#261; usuwane i tylko nowe w&#322;a&#347;ciwo&#347;ci pozostaj&#261; w nowym obiekcie. Jedyn&#261; r&oacute;&#380;nic&#261; jest to, &#380;e pomijamy usuwanie i ponowne tworzenie w&#322;a&#347;ciwo&#347;ci, kt&oacute;re nazywaj&#261; si&#281; tak samo. Proces ten powinien dzia&#322;a&#263; tak d&#322;ugo, jak d&#322;ugo stara <a href="../pl/Property.html" title="Property/pl">w&#322;a&#347;ciwo&#347;&#263;</a> i nowa <a href="../pl/Property.html" title="Property/pl">w&#322;a&#347;ciwo&#347;&#263;</a> maj&#261; ten sam typ <i>(na przyk&#322;ad <code>App::PropertyLength</code> lub <code>App::PropertyArea</code>)</i>, wi&#281;c stara w&#322;a&#347;ciwo&#347;&#263; mo&#380;e przekaza&#263; swoj&#261; warto&#347;&#263; bezpo&#347;rednio. Je&#347;li jednak nowa w&#322;a&#347;ciwo&#347;&#263; ma inny typ ni&#380; stara w&#322;a&#347;ciwo&#347;&#263;, w&oacute;wczas stara w&#322;a&#347;ciwo&#347;&#263; powinna zosta&#263; usuni&#281;ta, w przeciwnym razie stara w&#322;a&#347;ciwo&#347;&#263; ca&#322;kowicie nadpisze now&#261; w&#322;a&#347;ciwo&#347;&#263;, co prawdopodobnie nie jest tym, czego chcemy, poniewa&#380; nowa klasa b&#281;dzie oczekiwa&#263; nowego typu, a nie starego.
</p><p><span id="Advantages_and_disadvantages"></span>
</p>
<h3><span class="mw-headline" id="Zalety_i_wady_5">Zalety i wady</span></h3>
<p><b>Zalety</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Podobnie jak metoda 3, ta metoda pozwala nam na pe&#322;n&#261; kontrol&#281; migracji starych informacji.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_OK.svg&amp;filetimestamp=20240704192428&amp;.html" class="mw-file-description"><img src="../File/Edit_OK.svg" decoding="async" width="24" height="24"></a></span> Unikamy pisania kodu, kt&oacute;ry usuwa i odtwarza w&#322;a&#347;ciwo&#347;ci, kt&oacute;re nazywaj&#261; si&#281; tak samo.</li></ul>
<p><b>Wady</b>
</p>
<ul><li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Podobnie jak metoda 3, ta metoda jest nadal bardzo gadatliwa, poniewa&#380; musimy ostro&#380;nie obchodzi&#263; si&#281; z w&#322;a&#347;ciwo&#347;ciami.</li>
<li><span typeof="mw:File"><a href="../index.php?title=Edit_Cancel.svg&amp;filetimestamp=20240704192407&amp;.html" class="mw-file-description"><img src="../File/Edit_Cancel.svg" decoding="async" width="24" height="24"></a></span> Je&#347;li nowa <a href="../pl/Property.html" title="Property/pl">w&#322;a&#347;ciwo&#347;&#263;</a> i stara <a href="../pl/Property.html" title="Property/pl">w&#322;a&#347;ciwo&#347;&#263;</a> maj&#261; t&#281; sam&#261; nazw&#281;, nowa w&#322;a&#347;ciwo&#347;&#263; zostanie nadpisana, co mo&#380;e by&#263; niepo&#380;&#261;danym zachowaniem, zw&#322;aszcza je&#347;li obie w&#322;a&#347;ciwo&#347;ci maj&#261; r&oacute;&#380;ne typy. W takim przypadku konieczne jest usuni&#281;cie starej w&#322;a&#347;ciwo&#347;ci i r&#281;czna migracja jej warto&#347;ci.</li></ul>
<p><span id="Summary"></span>
</p>
<h2><span class="mw-headline" id="Podsumowanie">Podsumowanie</span></h2>
<p>Ka&#380;da z metod ma zalecane zastosowanie:
</p>
<ul><li>Metoda 1. Modu&#322; jest przenoszony lub zmieniana jest jego nazwa, ale w&#322;a&#347;ciwo&#347;ci pozostaj&#261; takie same. Proste przekierowanie klas, poniewa&#380; w&#322;a&#347;ciwo&#347;ci nie musz&#261; by&#263; w og&oacute;le modyfikowane.</li>
<li>Metoda 2+A. Proste scenariusze migracji. Wy&#347;wietla komunikat, gdy obiekt jest migrowany z jednej klasy do drugiej. W&#322;a&#347;ciwo&#347;ci s&#261; tego samego typu i nie musz&#261; by&#263; w og&oacute;le modyfikowane.</li>
<li>Metoda 3, 3+A lub 3+B. Z&#322;o&#380;one scenariusze migracji. Pe&#322;na kontrola nad w&#322;a&#347;ciwo&#347;ciami, usuwanie starych i dodawanie nowych w&#322;a&#347;ciwo&#347;ci. Identyfikator umo&#380;liwiaj&#261;cy poznanie wersji obiektu jest przydatny do wybrania odpowiedniej funkcji do przeprowadzenia migracji <i>(dodatek B lub B2)</i>.</li></ul>
<p>Najlepiej unika&#263; nast&#281;puj&#261;cych metod:
</p>
<ul><li>Metoda 2. W&#322;a&#347;ciwo&#347;ci zostan&#261; zduplikowane, je&#347;li nowa klasa nie sprawdzi istniej&#261;cych w&#322;a&#347;ciwo&#347;ci <i>(Dodatek A)</i>.</li>
<li>Metoda 3+C. U&#380;ywaj tylko wtedy, gdy stare i nowe w&#322;a&#347;ciwo&#347;ci s&#261; tego samego typu. W przeciwnym razie u&#380;yj metody 3 lub 3+B, aby usun&#261;&#263; starsze w&#322;a&#347;ciwo&#347;ci i obs&#322;u&#380;y&#263; je dok&#322;adnie tak, jak trzeba.</li></ul>
<p><span id="Links"></span>
</p>
<h2><span id="Odno.C5.9Bniki_internetowe"></span><span class="mw-headline" id="Odno&#347;niki_internetowe">Odno&#347;niki internetowe</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?t=42948">Migracja i aktualizacja starych obiekt&oacute;w skryptowych</a></li>
<li><a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?f=18&amp;t=46218">Migracja starych obiekt&oacute;w skryptowych</a></li></ul>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="../pl/Power_users_hub.html" title="Power users hub/pl">Centrum Power u&#380;ytkownik&oacute;w</a> <span typeof="mw:File"><a href="../index.php?title=Power_user_hub.png&amp;filetimestamp=20200511213015&amp;.html" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skrypt&oacute;w FreeCAD:</b> <a href="../pl/Python.html" title="Python/pl">Python</a>, <a href="../pl/Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do &#347;rodowiska Python</a>, <a href="../pl/Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skrypt&oacute;w Python</a>, <a href="../pl/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skrypt&oacute;w FreeCAD</a></li></ul>
<hr>
<ul><li><b>Modu&#322;y:</b> <a href="../pl/Builtin_modules.html" title="Builtin modules/pl">Modu&#322;y wbudowane</a>, <a href="../pl/Units.html" title="Units/pl">Jednostki miar</a>, <a href="../Quantity.html" title="Quantity">Ilo&#347;&#263;</a></li>
<li><b>&#346;rodowiska pracy:</b> <a href="../pl/Workbench_creation.html" title="Workbench creation/pl">Tworzenie &#346;rodowiska pracy</a>, <a href="../pl/Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="../Command.html" title="Command">Polecenia</a>, <a href="../pl/Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja wi&#281;kszej liczby &#346;rodowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="../pl/Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w &#346;rodowisku Siatek</a>, <a href="../pl/Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="../pl/Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="../pl/PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Obiekty parametryczne:</b> <a href="../pl/Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="../Viewprovider.html" title="Viewprovider">Obs&#322;uga obrazu</a> <small>(<a href="../Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../pl/Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="../pl/Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="../Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="../pl/Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w &#347;rodowisku Python</a> <small>(<a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="../Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="../Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="../Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="../PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="../pl/PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="../PySide_Beginner_Examples.html" title="PySide Beginner Examples">pocz&#261;tkuj&#261;cy</a>, <a href="../PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">&#347;redniozaawansowany</a>, <a href="../PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="../pl/Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="../pl/How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="../pl/Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="../pl/Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr>
<ul><li><b>Pozosta&#322;e:</b> <a href="../pl/Expressions.html" title="Expressions/pl">Wyra&#380;enia</a>, <a href="../pl/Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="../pl/Line_drawing_function.html" title="Line drawing function/pl">Funkcja kre&#347;lenia linii</a>, <a href="../pl/FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektor&oacute;w</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>W&#281;z&#322;y u&#380;ytkownik&oacute;w:</b> <a href="../pl/User_hub.html" title="User hub/pl">Centrum u&#380;ytkownika</a>, <a href="../pl/Power_users_hub.html" title="Power users hub/pl">Centrum Power u&#380;ytkownik&oacute;w</a>, <a href="../pl/Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
    </div></div>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20250705154251
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.116 seconds
Real time usage: 0.157 seconds
Preprocessor visited node count: 791/1000000
Post&#8208;expand include size: 10035/2097152 bytes
Template argument size: 11704/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 24/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 50734/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   27.546      1 -total
 39.20%   10.799      1 Template:Powerdocnavi/pl
 27.64%    7.613     24 Template:Code
  7.67%    2.113      1 Template:Navigation_menu_2
  7.54%    2.078     48 Template:Incode
  6.54%    1.802      5 Template:FileName
  5.73%    1.578      1 Template:Clear
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:239650-0!canonical and timestamp 20250705154250 and revision id 1603725. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>