<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Manual:Creating interface tools/ja</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../de/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Handbuch:Erstellen von Oberfl&auml;chenwerkzeugen (100% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="../Manual;Creating_interface_tools.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Manual:Creating interface tools (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../fr/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Manuel : Cr&eacute;ation d'outils d'interface (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--med" title="Manuale:Creare interfacce di strumenti (54% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Podr&#281;cznik:Tworzenie narz&#281;dzi interfejsu (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../ro/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--med" title="Manual:Crearea de instrumente de interfa&#539;&#259; (43% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../ru/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--low" title="&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1080;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072; (37% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" lang="ja" dir="ltr">&#26085;&#26412;&#35486;</span></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="../Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Creating parametric objects</a></div>
    <div style="margin: 4px 0; float: right;"><a href="../Manual;The_Community.html" title="Manual:The Community">The Community</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="../Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div id="toc" class="manualtoc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="../ja/Manual;Introduction.html" title="Manual:Introduction/ja">&#12399;&#12376;&#12417;&#12395;</a></li>
<li>FreeCAD&#12434;&#30693;&#12427;
<ul><li><a href="../ja/Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/ja">FreeCAD&#12392;&#12399;</a></li>
<li><a href="../ja/Manual;Installing.html" title="Manual:Installing/ja">&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a>
<ul><li><a href="../ja/Manual;Installing.html#installing_on_Windows" title="Manual:Installing/ja">Windows&#12408;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a></li>
<li><a href="../ja/Manual;Installing.html#Installing_on_Linux" title="Manual:Installing/ja">Linux&#12408;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a></li>
<li><a href="../ja/Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing/ja">Mac OS&#12408;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a></li>
<li><a href="../ja/Manual;Installing.html#Uninstalling" title="Manual:Installing/ja">&#12450;&#12531;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a></li>
<li><a href="../ja/Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing/ja">&#22522;&#26412;&#35373;&#23450;</a></li>
<li><a href="../ja/Manual;Installing.html#Installing_additional_content" title="Manual:Installing/ja">&#36861;&#21152;&#27231;&#33021;&#12398;&#12452;&#12531;&#12473;&#12488;&#12540;&#12523;</a></li></ul></li>
<li><a href="../ja/Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/ja">FreeCAD&#12398;&#12518;&#12540;&#12470;&#12540;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;</a>
<ul><li><a href="../ja/Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface/ja">&#12527;&#12540;&#12463;&#12505;&#12531;&#12481;</a></li>
<li><a href="../ja/Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface/ja">&#12518;&#12540;&#12470;&#12540;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;</a></li>
<li><a href="../ja/Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface/ja">&#12518;&#12540;&#12470;&#12540;&#12452;&#12531;&#12479;&#12540;&#12501;&#12455;&#12540;&#12473;&#12398;&#12459;&#12473;&#12479;&#12510;&#12452;&#12474;</a></li></ul></li>
<li><a href="../ja/Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/ja">3D &#12499;&#12517;&#12540;&#12398;&#25805;&#20316;</a>
<ul><li><a href="../ja/Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view/ja">3D&#31354;&#38291;&#12395;&#12388;&#12356;&#12390;</a></li>
<li><a href="../ja/Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view/ja">FreeCAD&#12398;3D&#12499;&#12517;&#12540;</a></li>
<li><a href="../ja/Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view/ja">&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#36984;&#25246;</a></li></ul></li>
<li><a href="../ja/Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/ja">FreeCAD&#12398;&#12501;&#12449;&#12452;&#12523;&#24418;&#24335;</a></li>
<li><a href="../ja/Manual;Parametric_objects.html" title="Manual:Parametric objects/ja">&#12497;&#12521;&#12513;&#12488;&#12522;&#12483;&#12463;&#12539;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;</a></li>
<li><a href="../ja/Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/ja">&#20182;&#12398;&#12501;&#12449;&#12452;&#12523;&#24418;&#24335;&#12398;&#12452;&#12531;&#12509;&#12540;&#12488;&#12392;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;</a></li></ul></li>
<li>FreeCAD&#12391;&#12398;&#20316;&#26989;
<ul><li><a href="../ja/Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/ja">&#12527;&#12540;&#12463;&#12505;&#12531;&#12481;&#19968;&#35239;</a></li>
<li><a href="../ja/Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/ja">CSG&#27969;&#12398;&#20253;&#32113;&#30340;&#12514;&#12487;&#12522;&#12531;&#12464;&#26041;&#27861;</a></li>
<li><a href="../ja/Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/ja">&#20253;&#32113;&#30340;2D&#35069;&#22259;</a></li>
<li><a href="../ja/Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/ja">&#35069;&#21697;&#35373;&#35336;&#12398;&#12383;&#12417;&#12398;&#12514;&#12487;&#12522;&#12531;&#12464;</a></li>
<li><a href="../ja/Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/ja">3D&#21360;&#21047;&#12398;&#12383;&#12417;&#12398;&#12514;&#12487;&#12523;&#12398;&#28310;&#20633;</a>
<ul><li><a href="../ja/Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers" title="Manual:Preparing models for 3D printing/ja">&#12473;&#12521;&#12452;&#12469;&#12540;&#12408;&#12398;&#12456;&#12463;&#12473;&#12509;&#12540;&#12488;</a></li>
<li><a href="../ja/Manual;Preparing_models_for_3D_printing.html#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%83%A1%E3%83%83%E3%82%B7%E3%83%A5%E3%81%B8%E3%81%AE%E5%A4%89%E6%8F%9B" title="Manual:Preparing models for 3D printing/ja">Converting objects to meshes</a></li>
<li><a href="../ja/Manual;Preparing_models_for_3D_printing.html#Using_PrusaSlicer" title="Manual:Preparing models for 3D printing/ja">PrusaSlicer&#12434;&#20351;&#12358;</a></li>
<li><a href="../ja/Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing/ja">G&#12467;&#12540;&#12489;&#29983;&#25104;</a></li></ul></li>
<li><a href="../ja/Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/ja">2D&#22259;&#38754;&#12398;&#20316;&#25104;</a></li>
<li><a href="../ja/Manual;BIM_modeling.html" title="Manual:BIM modeling/ja">BIM&#12514;&#12487;&#12522;&#12531;&#12464;</a></li>
<li><a href="../ja/Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/ja">&#12473;&#12503;&#12524;&#12483;&#12489;&#12471;&#12540;&#12488;&#12398;&#21033;&#29992;</a>
<ul><li><a href="../Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets">Reading properties</a></li>
<li><a href="../Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets">Writing properties</a></li></ul></li>
<li><a href="../ja/Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/ja">&#26377;&#38480;&#35201;&#32032;&#27861;&#35299;&#26512;</a></li>
<li><a href="../ja/Manual;Creating_renderings.html" title="Manual:Creating renderings/ja">&#12514;&#12487;&#12523;&#12398;&#12524;&#12531;&#12480;&#12522;&#12531;&#12464;</a></li></ul></li>
<li>Python&#12473;&#12463;&#12522;&#12503;&#12486;&#12451;&#12531;&#12464;
<ul><li><a href="../ja/Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/ja">Python&#12473;&#12463;&#12522;&#12503;&#12486;&#12451;&#12531;&#12464;&#20837;&#38272;</a>
<ul><li><a href="../ja/Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction/ja">Writing Python code</a></li>
<li><a href="../ja/Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction/ja">Manipulating FreeCAD objects</a></li>
<li><a href="../ja/Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction/ja">Vectors and Placements</a></li></ul></li>
<li><a href="../ja/Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/ja">&#12472;&#12458;&#12513;&#12488;&#12522;&#12398;&#29983;&#25104;&#12392;&#25805;&#20316;</a></li>
<li><a href="../ja/Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/ja">&#12497;&#12521;&#12513;&#12488;&#12522;&#12483;&#12463;&#12394;&#12458;&#12502;&#12472;&#12455;&#12463;&#12488;&#12398;&#29983;&#25104;</a></li>
<li><a class="mw-selflink selflink">&#12518;&#12540;&#12470;&#12540;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12539;&#12523;&#12540;&#12523;&#12398;&#20316;&#25104;</a></li></ul></li>
<li><a href="../ja/Manual;The_Community.html" title="Manual:The Community/ja">&#12467;&#12511;&#12517;&#12491;&#12486;&#12451;&#12540;</a></li></ul></div>
<p>In the last two chapters, we saw how to <a href="../Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">create Part geometry</a> and <a href="../Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">create parametric objects</a>. One last piece is missing to gain full control over FreeCAD: Create tools that will interact with the user.
</p><p>In many situations, it is not very user-friendly to construct an object with zero values, like we did with the rectangle in the previous chapter, and then ask the user to fill in the Height and Width values in the Properties panel. This works for a very small number of objects but will become very tedious if you have a lot of rectangles to make. A better way would be to be able to already give the Height and Width when creating the rectangle.
</p><p>Python offers a basic tool to have the user enter text on the screen:
</p>
<pre>text = raw_input("Height of the rectangle?")
print("The entered height is ",text)
</pre>
<p>However, this requires a running Python console, and when running our code from a macro, we are not always sure that the Python console will be turned on on the user's machine.
</p><p>The <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Graphical_user_interface">Graphical User Interface</a> (GUI)&mdash;encompassing the menus, toolbars, 3D view, and other visual components of FreeCAD&mdash;is designed to make the software intuitive and accessible. It serves as a bridge between the user and FreeCAD's underlying functionality, allowing both casual users and experts to interact with the program effectively.
</p><p>FreeCAD&rsquo;s GUI is built using <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_(software)">Qt</a>, a powerful and open-source GUI toolkit that provides a wide range of features. Qt offers essential building blocks for interface design, such as dialog boxes, buttons, labels, text input fields, and pull-down menus, collectively known as "widgets." These widgets form the foundation of FreeCAD's user experience.
</p><p>One of the key advantages of Qt is its cross-platform compatibility, enabling FreeCAD to run seamlessly on different operating systems like Windows, macOS, and Linux. Additionally, Qt&rsquo;s flexibility makes it easy for developers to extend or customize FreeCAD&rsquo;s interface, either by creating new toolbars and menus or by building entirely new modules that integrate into the software. This adaptability ensures that FreeCAD remains both user-friendly and highly extensible.
</p><p>For users interested in scripting or developing new tools, FreeCAD's Python API also provides access to many Qt features. This means you can not only automate tasks but also create custom widgets or dialogs that integrate directly into the FreeCAD environment.
</p><p>The Qt tools are very easy to use from Python, thanks to a Python module called <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/PySide">PySide</a>. PySide is the official Python binding for the Qt library, providing a seamless way to create and interact with widgets programmatically. It allows developers to design interfaces, manage user inputs (such as reading text from input boxes), and define actions based on user interactions, such as responding to a button press. Using PySide, you can build custom dialog boxes, menus, and toolbars directly within FreeCAD, extending its functionality in a way that integrates smoothly with its existing interface.
</p><p>PySide makes it easy to connect user actions to specific functions in your code. For example, you can set up a button so that when it&rsquo;s pressed, it triggers a script to execute a command or modify an object in the 3D view. This interactive capability opens up endless possibilities for customizing workflows and automating repetitive tasks.
</p><p>Qt also provides another interesting tool called <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/designer-manual.html">Qt Designer</a>, which is today embedded inside a bigger application called <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Qt Creator</a>. It makes it possible to design dialog boxes and interface panels graphically, instead of having to code them manually. In this chapter, we will use Qt Creator to design a panel widget that we will use in the <b>Task</b> panel of FreeCAD. So you will need to download and install Qt Creator from its <a rel="nofollow" class="external text" href="https://www.qt.io/ide/">official page</a> if you are on Windows or Mac (on Linux it will usually be available from your software manager application).
</p><p>In the following exercise, we will first create a panel with Qt Creator that asks for length, width and height values, then we will create a Python class around it, that will read the values entered by the user from the panel, and create a box with the given dimensions. This Python class will then be used by FreeCAD to display and control the task panel:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_07.jpg" class="mw-file-description"><img src="../File/Exercise_python_07.jpg" decoding="async" width="181" height="112"></a></span>
</p><p>Let's start by creating the widget. Start Qt Creator, then menu <b>File &rarr; New File or Project &rarr; Qt &rarr; Qt Designer Form &rarr; Dialog without buttons</b>. Click <b>Next</b>, give it a filename to save, click <b>Next</b>, leave all project fields to their default value ("&lt;none&gt;"), and <b>Create</b>. FreeCAD's Task system will automatically add OK/Cancel buttons, that's why we chose here a dialog without buttons.
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_06.jpg" class="mw-file-description"><img src="../File/Exercise_python_06.jpg" decoding="async" width="1237" height="877"></a></span>
</p>
<ul><li>Find the <b>Label</b> in the list in the left panel (under the Display Widgets section), and drag it onto the canvas of our widget. Double-click the recently placed Label, and change its text to <b>Length</b>.</li>
<li>Right-click the widget canvas, and choose <b>Lay out &rarr; Lay out in a Grid</b>. This will turn our widget into a grid with currently only one cell, occupied by our first label. We can now add the next items at the left, right, top or bottom of our first label, and the grid will expand automatically.</li>
<li>Add two more labels below the first one, and change their text to Width and Height:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_08.jpg" class="mw-file-description"><img src="../File/Exercise_python_08.jpg" decoding="async" width="897" height="367"></a></span>
</p>
<ul><li>Now place 3 <b>Double Spin Box</b> widgets (under the Input Widgets section) next to our Length, Width and Height labels. For each of them, in the lower right panel, which shows all the available settings for the selected widget, locate <b>Suffix</b> and set their suffix to <b>mm</b>. FreeCAD has a more advanced widget, that can handle different units, but that is not available in Qt Creator by default (but can be <a href="../Compile_on_Linux.html#Qt_designer_plugin" title="Compile on Linux">compiled</a>), so for now we will use a standard Double Spin Box, and we add the "mm" suffix to make sure the user knows in which units they work:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_09.jpg" class="mw-file-description"><img src="../File/Exercise_python_09.jpg" decoding="async" width="1053" height="609"></a></span>
</p>
<ul><li>Now our widget is done, we just need to make sure of one last thing. Since FreeCAD will need to access that widget and read the Length, Width and Height values, we need to give proper names to those widgets, so we can easily retrieve them from within FreeCAD. Click each of the Double Spin Boxes, and in the upper right window, double-click their Object Name, and change them to something easy to remember, for example: BoxLength, BoxWidth and BoxHeight:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_10.jpg" class="mw-file-description"><img src="../File/Exercise_python_10.jpg" decoding="async" width="979" height="513"></a></span>
</p>
<ul><li>Save the file, you can now close Qt Creator, the rest will be done in Python.</li>
<li>Open FreeCAD and create a new macro from menu <b>Macro &rarr; Macros &rarr; Create</b></li>
<li>Paste the following code. Make sure you change the file path to match where you saved the .ui file created in QtCreator:</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span><span class="nn">FreeCADGui</span><span class="o">,</span><span class="nn">Part</span>
 
<span class="c1"># CHANGE THE LINE BELOW</span>
<span class="n">path_to_ui</span> <span class="o">=</span> <span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span>
 
<span class="k">class</span> <span class="nc">BoxTaskPanel</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># this will create a Qt widget from our ui file</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">path_to_ui</span><span class="p">)</span>
 
   <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxLength</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxWidth</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! None of the values can be 0!"</span><span class="p">)</span>
           <span class="c1"># we bail out without doing anything</span>
           <span class="k">return</span>
       <span class="n">box</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
       <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
       <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
        
<span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>In the code above, we used a convenience function <b>PySideUic.loadUi</b> from the <b>FreeCADGui</b> module. That function loads a .ui file, creates a Qt Widget from it, and maps names, so we can easily access the subwidget by their names (ex: self.form.BoxLength).
</p><p>The "accept" function is also a convenience offered by Qt. When there is an "OK" button in a dialog (which is the case by default when using the FreeCAD Tasks panel), any function named "accept" will automatically be executed when the "OK" button is pressed. Similarly, you can also add a "reject" function which gets executed when the "Cancel" button is pressed. In our case, we omitted that function, so pressing "Cancel" will do the default behaviour (do nothing and close the dialog).
</p><p>If we implement any of the accept or reject functions, their default behaviour (do nothing and close) will not occur anymore. So we need to close the Task panel ourselves. This is done with:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
</pre></div>
<p>Once we have our BoxTaskPanel that has 1- a widget called "self.form" and 2- if needed, accept and reject functions, we can open the task panel with it, which is done with these two last lines:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
 <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>Note that the widget created by <b>PySideUic.loadUi</b> is not specific to FreeCAD, it is a standard Qt widget that can be used with other Qt tools. For example, we could have shown a separate dialog box with it. Try this in the Python Console of FreeCAD (using the correct path to your .ui file of course):
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
 <span class="n">w</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span><span class="p">)</span>
 <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Of course, we didn't add any "OK" or "Cancel" buttons to our dialog, since it was made to be used from the FreeCAD Task panel, which already provides such buttons. So there is no way to close the dialog (other than pressing its Window Close button). But the function show() creates a non-modal dialog, which means it doesn't block the rest of the interface. So, while our dialog is still open, we can read the values of the fields:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</pre></div>
<p>This is very useful for testing.
</p><p>Finally, don't forget there is much more documentation about using Qt widgets on the FreeCAD Wiki, in the <a href="../Power_users_hub.html" title="Power users hub">Python Scripting</a> section, which contains a <a href="../Dialog_creation.html" title="Dialog creation">dialog creation tutorial</a>, a special 3-part <a href="../PySide.html" title="PySide">PySide tutorial</a> that covers the subject extensively.
</p>
<h2><span class="mw-headline" id="Relevant_Links">Relevant Links</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Qt Creator Documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://www.qt.io/ide/">Installing Qt Creator</a></li>
<li><a href="../Power_users_hub.html" title="Power users hub">FreeCAD Python scripting documentation</a></li>
<li><a href="../Dialog_creation.html" title="Dialog creation">FreeCAD Dialog creation tutorial</a></li>
<li><a href="../PySide.html" title="PySide">FreeCAD PySide tutorials</a></li>
<li><a rel="nofollow" class="external text" href="http://srinikom.github.io/pyside-docs/index.html">PySide documentation</a></li></ul>
<p><br>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="../Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Creating parametric objects</a></div>
    <div style="margin: 4px 0; float: right;"><a href="../Manual;The_Community.html" title="Manual:The Community">The Community</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="../Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a href="../File/Power_user_hub.png" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span> <a href="../ja/Power_users_hub.html" title="Power users hub/ja">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="../ja/Python.html" title="Python/ja">Python</a>, <a href="../ja/Introduction_to_Python.html" title="Introduction to Python/ja">Introduction to Python</a>, <a href="../ja/Python_scripting_tutorial.html" title="Python scripting tutorial/ja">Python scripting tutorial</a>, <a href="../ja/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/ja">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="../ja/Builtin_modules.html" title="Builtin modules/ja">Builtin modules</a>, <a href="../index.php?title=Units/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Units/ja (page does not exist)">Units</a>, <a href="../index.php?title=Quantity/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Quantity/ja (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a href="../ja/Workbench_creation.html" title="Workbench creation/ja">Workbench creation</a>, <a href="../index.php?title=Gui_Command/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Gui Command/ja (page does not exist)">Gui Commands</a>, <a href="../index.php?title=Command/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Command/ja (page does not exist)">Commands</a>, <a href="../index.php?title=Installing_more_workbenches/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Installing more workbenches/ja (page does not exist)">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../index.php?title=Mesh_Scripting/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Mesh Scripting/ja (page does not exist)">Mesh Scripting</a>, <a href="../ja/Topological_data_scripting.html" title="Topological data scripting/ja">Topological data scripting</a>, <a href="../ja/Mesh_to_Part.html" title="Mesh to Part/ja">Mesh to Part</a>, <a href="../index.php?title=PythonOCC/ja&amp;action=edit&amp;redlink=1.html" class="new" title="PythonOCC/ja (page does not exist)">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="../ja/Scripted_objects.html" title="Scripted objects/ja">Scripted objects</a>, <a href="../index.php?title=Viewprovider/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Viewprovider/ja (page does not exist)">Viewproviders</a> <small>(<a href="../index.php?title=Custom_icon_in_tree_view/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Custom icon in tree view/ja (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../index.php?title=Scenegraph/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Scenegraph/ja (page does not exist)">Coin (Inventor) scenegraph</a>, <a href="../ja/Pivy.html" title="Pivy/ja">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../index.php?title=Interface_creation/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Interface creation/ja (page does not exist)">Interface creation</a>, <a href="../index.php?title=Dialog_creation/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation/ja (page does not exist)">Interface creation completely in Python</a> <small>(<a href="../index.php?title=Dialog_creation_with_various_widgets/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation with various widgets/ja (page does not exist)">1</a>, <a href="../index.php?title=Dialog_creation_reading_and_writing_files/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation reading and writing files/ja (page does not exist)">2</a>, <a href="../index.php?title=Dialog_creation_setting_colors/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation setting colors/ja (page does not exist)">3</a>, <a href="../index.php?title=Dialog_creation_image_and_animated_GIF/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation image and animated GIF/ja (page does not exist)">4</a>, <a href="../index.php?title=PySide_usage_snippets/ja&amp;action=edit&amp;redlink=1.html" class="new" title="PySide usage snippets/ja (page does not exist)">5</a>)</small>, <a href="../ja/PySide.html" title="PySide/ja">PySide</a>, PySide examples <a href="../index.php?title=PySide_Beginner_Examples/ja&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Beginner Examples/ja (page does not exist)">beginner</a>, <a href="../index.php?title=PySide_Intermediate_Examples/ja&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Intermediate Examples/ja (page does not exist)">intermediate</a>, <a href="../index.php?title=PySide_Advanced_Examples/ja&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Advanced Examples/ja (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="../ja/Macros.html" title="Macros/ja">Macros</a>, <a href="../index.php?title=How_to_install_macros/ja&amp;action=edit&amp;redlink=1.html" class="new" title="How to install macros/ja (page does not exist)">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../ja/Embedding_FreeCAD.html" title="Embedding FreeCAD/ja">Embedding FreeCAD</a>, <a href="../index.php?title=Embedding_FreeCADGui/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Embedding FreeCADGui/ja (page does not exist)">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="../ja/Expressions.html" title="Expressions/ja">Expressions</a>, <a href="../ja/Code_snippets.html" title="Code snippets/ja">Code snippets</a>, <a href="../index.php?title=Line_drawing_function/ja&amp;action=edit&amp;redlink=1.html" class="new" title="Line drawing function/ja (page does not exist)">Line drawing function</a>, <a href="../index.php?title=FreeCAD_vector_math_library/ja&amp;action=edit&amp;redlink=1.html" class="new" title="FreeCAD vector math library/ja (page does not exist)">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="../ja/User_hub.html" title="User hub/ja">User hub</a>, <a href="../ja/Power_users_hub.html" title="Power users hub/ja">Power users hub</a>, <a href="../ja/Developer_hub.html" title="Developer hub/ja">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20250214032255
Cache expiry: 86400
Reduced expiry: false
Complications: [no&#8208;toc&#8208;conversion]
CPU time usage: 0.098 seconds
Real time usage: 0.118 seconds
Preprocessor visited node count: 220/1000000
Post&#8208;expand include size: 15850/2097152 bytes
Template argument size: 3815/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 7420/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.751      1 -total
 32.70%    3.843      1 Template:Powerdocnavi/ja
 27.42%    3.222      1 Template:Manual:TOC
 20.07%    2.359      5 Template:Code
 19.39%    2.278      1 Manual:Summary/ja
 14.08%    1.654      1 Template:Navigation_menu_2
 13.05%    1.533      2 Template:Docnav
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:372140-0!canonical and timestamp 20250214032255 and revision id 1544098. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>