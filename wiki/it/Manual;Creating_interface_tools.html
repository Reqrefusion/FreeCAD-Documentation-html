<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Manual:Creating interface tools/it</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="it" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-Manual%3ACreating+interface+tools&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><a href="../de/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Handbuch:Erstellen von Oberfl&auml;chenwerkzeugen (100% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="../Manual;Creating_interface_tools.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Manual:Creating interface tools (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../fr/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Manuel : Cr&eacute;ation d'outils d'interface (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--high" lang="it" dir="ltr">italiano</span></li>
<li><a href="../pl/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="Podr&#281;cznik:Tworzenie narz&#281;dzi interfejsu (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../ro/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--med" title="Manual:Crearea de instrumente de interfa&#539;&#259; (43% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../cs/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--low" title="Vytv&aacute;&#345;en&iacute; n&aacute;stroj&#367; rozhran&iacute; (9% translated)" lang="cs" dir="ltr">&#269;e&scaron;tina</a></li>
<li><a href="../ru/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--complete" title="&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1080;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072; (100% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li>
<li><a href="../ja/Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--low" title="&#12510;&#12491;&#12517;&#12450;&#12523;&#65306;&#12518;&#12540;&#12470;&#12540;&#12452;&#12531;&#12479;&#12501;&#12455;&#12540;&#12473;&#12539;&#12523;&#12540;&#12523;&#12398;&#20316;&#25104; (3% translated)" lang="ja" dir="ltr">&#26085;&#26412;&#35486;</a></li></ul></div>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../it/Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/it">Creare oggetti parametrici</a></div>
    <div><a href="../it/Manual;The_Community.html" title="Manual:The Community/it">La Comunit&agrave;</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../it/Manual;Introduction.html" title="Manual:Introduction/it">Pagina iniziale del manuale</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></span></span></div>
</div>
<div id="toc" class="manualtoc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="../it/Manual;Introduction.html" title="Manual:Introduction/it">Introduzione</a></li>
<li>Scoprire FreeCAD
<ul><li><a href="../it/Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/it">Che cosa &egrave; FreeCAD?</a></li>
<li><a href="../it/Manual;Installing.html" title="Manual:Installing/it">Installazione</a>
<ul><li><a href="../it/Manual;Installing.html#Installazione_in_Windows" title="Manual:Installing/it">Installazione in Windows</a></li>
<li><a href="../it/Manual;Installing.html#Installazione_in_Linux" title="Manual:Installing/it">Installazione in Linux</a></li>
<li><a href="../it/Manual;Installing.html#Installazione_in_Mac_OS" title="Manual:Installing/it">Installazione in Mac OS</a></li>
<li><a href="../it/Manual;Installing.html#Disinstallazione" title="Manual:Installing/it">Disinstallazione</a></li>
<li><a href="../it/Manual;Installing.html#Impostare_le_preferenze_di_base" title="Manual:Installing/it">Impostare le preferenze di base</a></li>
<li><a href="../it/Manual;Installing.html#Installare_dei_contenuti_aggiuntivi" title="Manual:Installing/it">Installare dei contenuti aggiuntivi</a></li></ul></li>
<li><a href="../it/Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/it">Interfaccia di FreeCAD</a>
<ul><li><a href="../it/Manual;The_FreeCAD_Interface.html#Gli_ambienti_di_lavoro" title="Manual:The FreeCAD Interface/it">Gli ambienti di lavoro</a></li>
<li><a href="../it/Manual;The_FreeCAD_Interface.html#L'interfaccia" title="Manual:The FreeCAD Interface/it">L'interfaccia</a></li>
<li><a href="../it/Manual;The_FreeCAD_Interface.html#Personalizzare_l'interfaccia" title="Manual:The FreeCAD Interface/it">Personalizzare l'interfaccia</a></li></ul></li>
<li><a href="../it/Manual;Navigating_in_the_3D_view.html" class="mw-redirect" title="Manual:Navigating in the 3D view/it">Navigare nella vista 3D</a>
<ul><li><a href="../it/Manual;Navigating_in_the_3D_view.html#Alcune_parole_sullo_spazio_3D" class="mw-redirect" title="Manual:Navigating in the 3D view/it">Alcune parole sullo spazio 3D</a></li>
<li><a href="../it/Manual;Navigating_in_the_3D_view.html#La_vista_3D_di_FreeCAD" class="mw-redirect" title="Manual:Navigating in the 3D view/it">La vista 3D di FreeCAD</a></li>
<li><a href="../it/Manual;Navigating_in_the_3D_view.html#Selezionare_gli_oggetti" class="mw-redirect" title="Manual:Navigating in the 3D view/it">Selezionare gli oggetti</a></li></ul></li>
<li><a href="../it/Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/it">I documenti di FreeCAD</a></li>
<li><a href="../it/Manual;Parametric_objects.html" title="Manual:Parametric objects/it">Gli oggetti parametrici</a></li>
<li><a href="../it/Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/it">Importare ed esportare altri tipi di file</a></li></ul></li>
<li>Lavorare con FreeCAD
<ul><li><a href="../it/Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/it">Panoramica sugli ambienti di lavoro</a></li>
<li><a href="../it/Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/it">Modellazione tradizionale, <br> il metodo CSG</a></li>
<li><a href="../it/Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/it">Disegno 2D tradizionale</a></li>
<li><a href="../it/Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/it">Modellazione per la progettazione <br> del prodotto </a></li>
<li><a href="../it/Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/it">Preparare i modelli per la stampa 3D</a>
<ul><li><a href="../it/Manual;Preparing_models_for_3D_printing.html#Esportare_nello_slicer" title="Manual:Preparing models for 3D printing/it">Esportare nello slicer</a></li>
<li><a href="../it/Manual;Preparing_models_for_3D_printing.html#Convertire_gli_oggetti_in_mesh" title="Manual:Preparing models for 3D printing/it">Convertire gli oggetti in mesh</a></li>
<li><a href="../it/Manual;Preparing_models_for_3D_printing.html#Utilizzare_Slic3r" title="Manual:Preparing models for 3D printing/it">Utilizzare Slic3r</a></li>
<li><a href="../it/Manual;Preparing_models_for_3D_printing.html#Utilizzare_l'addon_Cura" title="Manual:Preparing models for 3D printing/it">Utilizzare l'addon Cura</a></li>
<li><a href="../it/Manual;Preparing_models_for_3D_printing.html#Generare_il_G-code" title="Manual:Preparing models for 3D printing/it">Generare il G-code</a></li></ul></li>
<li><a href="../it/Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/it">Generare disegni 2D</a></li>
<li><a href="../it/Manual;BIM_modeling.html" title="Manual:BIM modeling/it">Modellazione BIM</a></li>
<li><a href="../it/Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/it">Usare i fogli di calcolo</a>
<ul><li><a href="../it/Manual;Using_spreadsheets.html#Leggere_le_propriet%C3%A0" title="Manual:Using spreadsheets/it">Leggere le propriet&agrave;</a></li>
<li><a href="../it/Manual;Using_spreadsheets.html#Scrivere_le_propriet%C3%A0" title="Manual:Using spreadsheets/it">Scrivere le propriet&agrave;</a></li></ul></li>
<li><a href="../it/Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/it">Creare analisi FEM</a></li>
<li><a href="../it/Manual;Creating_renderings.html" title="Manual:Creating renderings/it">Creare rendering</a></li></ul></li>
<li>Script Python
<ul><li><a href="../it/Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/it">Una breve introduzione</a>
<ul><li><a href="../it/Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/it">Scrivere del codice Python</a></li>
<li><a href="../it/Manual;A_gentle_introduction.html#Manipolare_gli_oggetti_di_FreeCAD" title="Manual:A gentle introduction/it">Manipolare gli oggetti di FreeCAD</a></li>
<li><a href="../it/Manual;A_gentle_introduction.html#Vettori_e_Posizionamento" title="Manual:A gentle introduction/it">Vettori e Posizionamento</a></li></ul></li>
<li><a href="../it/Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/it">Creare e manipolare la geometria</a></li>
<li><a href="../it/Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/it">Creare oggetti parametrici</a></li>
<li><a class="mw-selflink selflink">Creare interfacce di strumenti</a></li></ul></li>
<li><a href="../it/Manual;The_Community.html" title="Manual:The Community/it">La Comunit&agrave;</a></li></ul></div>
<p>Negli ultimi due capitoli, abbiamo visto come <a href="../it/Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/it">creare della geometria Parte</a> e <a href="../it/Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/it">creare oggetti parametrici</a>. Manca un ultimo pezzo per avere il pieno controllo su FreeCAD: creare strumenti che interagiscono con l'utente.
</p><p>In molte situazioni, non &egrave; molto amichevole costruire un oggetto con valori zero, come abbiamo fatto con il rettangolo nel capitolo precedente, e poi chiedere all'utente di compilare i valori di altezza e larghezza nel pannello delle Propriet&agrave;. Questo va bene per un numero molto limitato di oggetti ma diventa veramente noioso se si devono fare parecchi rettangoli. Sarebbe meglio poter assegnare l'altezza e la larghezza gi&agrave; durante la creazione del rettangolo.
</p><p>Python offre uno strumento di base che consente all'utente di inserire il testo sullo schermo:
</p>
<pre>text = raw_input("Height of the rectangle?")
print("The entered height is ",text)
</pre>
<p>Per&ograve;, questo richiede una console Python in esecuzione, e quando si esegue il codice da una macro, non siamo sempre sicuri che la console Python sia attiva sulla macchina dell'utente.
</p><p>L'<a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Graphical_user_interface">Interfaccia Grafica Utente</a> (GUI), che comprende i menu, le barre degli strumenti, la vista 3D e altri componenti visivi di FreeCAD, &egrave; progettata per rendere il software intuitivo e accessibile. Funge da ponte tra l'utente e le funzionalit&agrave; di base di FreeCAD, consentendo sia agli utenti occasionali che agli esperti di interagire efficacemente con il programma.
</p><p>L'interfaccia utente grafica di FreeCAD &egrave; realizzata utilizzando <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_(software)">Qt</a>, un potente toolkit GUI open source che offre un'ampia gamma di funzionalit&agrave;. Qt offre elementi essenziali per la progettazione dell'interfaccia, come finestre di dialogo, pulsanti, etichette, campi di inserimento testo e menu a discesa, collettivamente noti come "widget". Questi widget costituiscono la base dell'esperienza utente di FreeCAD.
</p><p>Uno dei principali vantaggi di Qt &egrave; la sua compatibilit&agrave; multipiattaforma, che consente a FreeCAD di funzionare senza problemi su diversi sistemi operativi come Windows, macOS e Linux. Inoltre, la flessibilit&agrave; di Qt semplifica l'estensione o la personalizzazione dell'interfaccia di FreeCAD da parte degli sviluppatori, sia creando nuove barre degli strumenti e menu, sia sviluppando moduli completamente nuovi che si integrano nel software. Questa adattabilit&agrave; garantisce che FreeCAD rimanga allo stesso tempo intuitivo e altamente estensibile.
</p><p>Per gli utenti interessati allo scripting o allo sviluppo di nuovi strumenti, l'API Python di FreeCAD offre anche l'accesso a numerose funzionalit&agrave; di Qt. Questo significa che &egrave; possibile non solo automatizzare le attivit&agrave;, ma anche creare widget o finestre di dialogo personalizzati che si integrano direttamente nell'ambiente FreeCAD.
</p><p>Gli strumenti Qt sono molto facili da usare da Python, grazie a un modulo Python chiamato <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/PySide">PySide</a>. PySide &egrave; il binding Python ufficiale per la libreria Qt, che offre un modo semplice per creare e interagire con i widget a livello di codice. Permette agli sviluppatori di progettare interfacce, gestire gli input utente (come la lettura di testo da caselle di input) e definire azioni basate sulle interazioni dell'utente, come la risposta alla pressione di un pulsante. Utilizzando PySide, &egrave; possibile creare finestre di dialogo, menu e barre degli strumenti personalizzati direttamente all'interno di FreeCAD, estendendone le funzionalit&agrave; in modo da integrarsi perfettamente con l'interfaccia esistente.
</p><p>PySide semplifica il collegamento delle azioni dell'utente a funzioni specifiche nel codice. Ad esempio, &egrave; possibile configurare un pulsante in modo che, quando premuto, attivi uno script per eseguire un comando o modificare un oggetto nella vista 3D. Questa funzionalit&agrave; interattiva apre infinite possibilit&agrave; per la personalizzazione dei flussi di lavoro e l'automazione di attivit&agrave; ripetitive.
</p><p>Qt fornisce anche un altro strumento interessante chiamato <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/designer-manual.html">Qt Designer</a>, che attualmente  &egrave; incorporato all'interno di un'applicazione pi&ugrave; grande chiamata <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Qt Creator</a>. Esso rende possibile progettare finestre di dialogo e pannelli dell'interfaccia grafica, invece di doverli codificare manualmente. In questo capitolo, useremo Qt Creator per la progettazione di un pannello widget che useremo nel pannello <b>Azioni</b> di FreeCAD. Quindi &egrave; necessario scaricare e installare Qt Creator dalla sua <a rel="nofollow" class="external text" href="https://www.qt.io/ide/">official page</a> se siete su Windows o Mac (su Linux di solito &egrave; disponibile tramite il gestore del software).
</p><p>Nel prossimo esercizio, inizieremo usando Qt Creator per creare un pannello che richieda i valori di lunghezza, larghezza e altezza, poi creeremo su di esso una classe Python che legga nel pannello i valori inseriti dall'utente, e crei un box con le dimensioni indicate. Questa classe Python sar&agrave; poi utilizzata da FreeCAD per visualizzare e controllare il pannello delle azioni:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Exercise_python_07.jpg&amp;filetimestamp=20160706222257&amp;.html" class="mw-file-description"><img src="../File/Exercise_python_07.jpg" decoding="async" width="181" height="112" class="mw-file-element" data-file-width="181" data-file-height="112"></a></span>
</p><p>Cominciamo creando il widget. Avviare Qt Creator, quindi nel menu <b>File &rarr; New File or Project &rarr; Qt &rarr; Qt Designer Form</b>  scegliere <b>Dialog without buttons</b>. Cliccare <b>Next</b>, dare un nome per salvare il file, fare clic su <b>Next</b>, lasciare tutti i campi del progetto al loro valore di default ("&lt;none&gt;"), e poi clic su <b>Create</b>. Il sistema Azioni di FreeCAD aggiunger&agrave; automaticamente i pulsanti OK e Annulla, &egrave; per questo che abbiamo scelto un dialogo senza pulsanti.
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Exercise_python_06.jpg&amp;filetimestamp=20160706222034&amp;.html" class="mw-file-description"><img src="../File/Exercise_python_06.jpg" decoding="async" width="1237" height="877" class="mw-file-element" data-file-width="1237" data-file-height="877"></a></span>
</p>
<ul><li>Trovare l'etichetta <b>Label</b> nell'elenco nel pannello di sinistra (nella sezione Widget visualizzati) e trascinala nell'area di disegno del nostro widget. Fare doppio clic sull'etichetta appena posizionata e modificare il suo testo in <b>Lunghezza</b>.</li>
<li>Fare clic destro sull'area disegno del widget, e selezionare <b>Lay out &rarr; Lay out in a Grid</b>. Questo trasforma il widget in una griglia con attualmente una sola cella, occupata dalla prima etichetta. Ora possiamo aggiungere le voci successive a sinistra, a destra, in alto o in basso rispetto alla prima etichetta, e la griglia si espande automaticamente.</li>
<li>Aggiungere altre due etichette sotto la prima, e cambiare il loro testo in Width e Height:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Exercise_python_08.jpg&amp;filetimestamp=20160706222955&amp;.html" class="mw-file-description"><img src="../File/Exercise_python_08.jpg" decoding="async" width="897" height="367" class="mw-file-element" data-file-width="897" data-file-height="367"></a></span>
</p>
<ul><li>Ora inserire 3 widget <b>Double Spin Box</b> (nella sezione Widget di input) vicino alle etichette Length, Width e Height. Per ciascuno di essi, nel pannello inferiore di destra, che mostra tutte le impostazioni disponibili per il widget selezionato, individuare <b>Suffix</b> e impostare come loro suffisso <b>mm</b>. FreeCAD ha un widget pi&ugrave; avanzato, in grado di gestire diverse unit&agrave;, ma che non &egrave; disponibile di default in Qt Creator (ma che pu&ograve; essere <a href="../Compile_on_Linux.html#Qt_designer_plugin" title="Compile on Linux">compilato</a>), quindi per ora usiamo un Doppio Spin Box standard, e aggiungiamo il suffisso "mm" per essere sicuri che l'utente sappia con quale unit&agrave; sta lavorando:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Exercise_python_09.jpg&amp;filetimestamp=20160706223544&amp;.html" class="mw-file-description"><img src="../File/Exercise_python_09.jpg" decoding="async" width="1053" height="609" class="mw-file-element" data-file-width="1053" data-file-height="609"></a></span>
</p>
<div class="mw-translate-fuzzy">
<ul><li>Ora il nostro widget &egrave; creato, manca solo un'ultima cosa. Dato che FreeCAD avr&agrave; bisogno di accedere a tale widget e leggere la lunghezza, la larghezza e l'altezza, bisogna dare dei nomi appropriati a questi widget, in modo che all'interno di FreeCAD possano essere ritrovati facilmente. Fare clic su ciascuna delle caselle Double Spin, e nella finestra in alto a destra, fare doppio clic sul nome dell'oggetto, e cambiarlo a qualcosa di facile da ricordare, ad esempio,: BoxLength, BoxWidth e BoxHeight:</li></ul>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=Exercise_python_10.jpg&amp;filetimestamp=20160709192706&amp;.html" class="mw-file-description"><img src="../File/Exercise_python_10.jpg" decoding="async" width="979" height="513" class="mw-file-element" data-file-width="979" data-file-height="513"></a></span>
</p>
<ul><li>Salvare il file, e chiudere Qt Creator, il resto sar&agrave; fatto in Python.</li>
<li>Aprire FreeCAD e creare una nuova macro dal men&ugrave; <b>Macro &rarr; Macro &rarr; Crea</b></li>
<li>Incollare il codice seguente. Assicurarsi di modificare il percorso del file in modo che corrisponda a quello con cui &egrave; stato salvato il file .ui creato in Qt Creator:</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span><span class="nn">FreeCADGui</span><span class="o">,</span><span class="nn">Part</span>
 
<span class="c1"># CHANGE THE LINE BELOW</span>
<span class="n">path_to_ui</span> <span class="o">=</span> <span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span>
 
<span class="k">class</span> <span class="nc">BoxTaskPanel</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># this will create a Qt widget from our ui file</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">path_to_ui</span><span class="p">)</span>
 
   <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxLength</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxWidth</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! None of the values can be 0!"</span><span class="p">)</span>
           <span class="c1"># we bail out without doing anything</span>
           <span class="k">return</span>
       <span class="n">box</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
       <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
       <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
        
<span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Nel codice precedente, abbiamo utilizzato una funzione di convenienza (PySideUic.loadUi) del modulo FreeCADGui. Questa funzione carica un .ui file, crea da esso un Qt Widget, e mappa i nomi, e in questo modo consente di accedere facilmente al SubWidget tramite i loro nomi (ex: self.form.BoxLength).
</p>
</div>
<p>Anche la funzione "accept" &egrave; una convenienza offerta da Qt. Quando in un dialogo vi &egrave; un pulsante "OK" (che &egrave; il caso di default quando si utilizza il pannello Azioni di FreeCAD), qualsiasi funzione di nome "accept" viene automaticamente eseguita quando si preme il pulsante "OK". Analogamente, &egrave; possibile anche aggiungere una funzione "reject" che viene eseguita quando si preme il pulsante "Annulla". Nel nostro caso, abbiamo omesso tale funzione, quindi premendo "Annulla" si esegue il comportamento di default (non fare nulla e chiudere la finestra di dialogo).
</p><p>Se implementiamo una delle funzioni accept o reject, il loro comportamento di default (non fare nulla e chiudere) non si verifica pi&ugrave;. Quindi dobbiamo chiudere noi il pannello Azioni. Ci&ograve; viene fatto con:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
</pre></div>
<p>Una volta che abbiamo il nostro BoxTaskPanel che ha 1- un widget chiamato "self.form" e 2- se necessario, accetta e rifiuta le funzioni, con esso possiamo aprire il pannello delle attivit&agrave;, tramite queste due ultime righe:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
 <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Notare che il widget creato da PySideUic.loadUi non &egrave; specifico per FreeCAD, ma &egrave; un widget standard di Qt che pu&ograve; essere utilizzato con gli altri strumenti di Qt. Ad esempio, con esso possiamo mostrare una finestra di dialogo separata. Proviamo questo nella console Python di FreeCAD (ovviamente utilizzando il percorso corretto per il file .ui):
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
 <span class="n">w</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span><span class="p">)</span>
 <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Naturalmente al nostro dialogo non abbiamo aggiunto un pulsante "OK" o "Cancel", dato che &egrave; stato fatto per essere usato dal pannello Azioni di FreeCAD che fornisce gi&agrave; tali pulsanti. Quindi non c'&egrave; nessun modo per chiudere la finestra di dialogo (oltre che premere il suo pulsante Chiudi finestra). Ma la funzione show() crea una finestra di dialogo non modale, il che significa che non blocca il resto dell'interfaccia. Cos&igrave; si possono leggere i valori dei campi mentre il dialogo &egrave; ancora aperto,:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</pre></div>
<p>Ci&ograve; &egrave; molto utile per i test.
</p><p>Infine, non dimenticate che c'&egrave; molta altra documentazione sull'utilizzo dei wiget di Qt, nella sezione <a href="../it/Power_users_hub.html" title="Power users hub/it">Script Python</a>, che contiene un <a href="../it/Dialog_creation.html" title="Dialog creation/it">tutorial per creare dialoghi</a>, e uno speciale <a href="../it/PySide.html" title="PySide/it">tutorial per PySide</a> in tre parti che copre ampiamente l'argomento.
</p>
<h2><span class="mw-headline" id="Link_importanti">Link importanti</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Documentazione di Qt Creator</a></li>
<li><a rel="nofollow" class="external text" href="https://www.qt.io/ide/">Installare Qt Creator</a></li>
<li><a href="../it/Power_users_hub.html" title="Power users hub/it">Documentazione sugli script Python in FreeCAD</a></li>
<li><a href="../it/Dialog_creation.html" title="Dialog creation/it">Tutorial per creare dialoghi in FreeCAD</a></li>
<li><a href="../it/PySide.html" title="PySide/it">Tutorial su PySide in FreeCAD</a></li>
<li><a rel="nofollow" class="external text" href="http://srinikom.github.io/pyside-docs/index.html">Documentazione di PySide</a></li></ul>
<p><br>
</p>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../it/Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/it">Creare oggetti parametrici</a></div>
    <div><a href="../it/Manual;The_Community.html" title="Manual:The Community/it">La Comunit&agrave;</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../it/Manual;Introduction.html" title="Manual:Introduction/it">Pagina iniziale del manuale</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: var(--background-color-neutral-subtle, #fefefe);"><span typeof="mw:File"><a href="../index.php?title=Power_user_hub.png&amp;filetimestamp=20200511213015&amp;.html" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></a></span> <a href="../it/Power_users_hub.html" title="Power users hub/it">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid var(--border-color-base, #aaaaaa); text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: var(--background-color-neutral-subtle, #fefefe);">
<ul><li><b>FreeCAD scripting:</b> <a href="../it/Python.html" title="Python/it">Python</a>, <a href="../it/Introduction_to_Python.html" title="Introduction to Python/it">Introduction to Python</a>, <a href="../it/Python_scripting_tutorial.html" title="Python scripting tutorial/it">Python scripting tutorial</a>, <a href="../it/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/it">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="../it/Builtin_modules.html" title="Builtin modules/it">Builtin modules</a>, <a href="../it/Units.html" title="Units/it">Units</a>, <a href="../it/Quantity.html" title="Quantity/it">Quantity</a></li>
<li><b>Workbenches:</b> <a href="../it/Workbench_creation.html" title="Workbench creation/it">Workbench creation</a>, <a href="../it/Gui_Command.html" title="Gui Command/it">Gui Commands</a>, <a href="../it/Command.html" title="Command/it">Commands</a>, <a href="../it/Installing_more_workbenches.html" title="Installing more workbenches/it">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../it/Mesh_Scripting.html" title="Mesh Scripting/it">Mesh Scripting</a>, <a href="../it/Topological_data_scripting.html" title="Topological data scripting/it">Topological data scripting</a>, <a href="../it/Mesh_to_Part.html" title="Mesh to Part/it">Mesh to Part</a>, <a href="../it/PythonOCC.html" title="PythonOCC/it">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="../it/Scripted_objects.html" title="Scripted objects/it">Scripted objects</a>, <a href="../it/Viewprovider.html" title="Viewprovider/it">Viewproviders</a> <small>(<a href="../it/Custom_icon_in_tree_view.html" title="Custom icon in tree view/it">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../it/Scenegraph.html" title="Scenegraph/it">Coin (Inventor) scenegraph</a>, <a href="../it/Pivy.html" title="Pivy/it">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../it/Interface_creation.html" title="Interface creation/it">Interface creation</a>, <a href="../it/Dialog_creation.html" title="Dialog creation/it">Interface creation completely in Python</a> <small>(<a href="../it/Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/it">1</a>, <a href="../it/Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/it">2</a>, <a href="../it/Dialog_creation_setting_colors.html" title="Dialog creation setting colors/it">3</a>, <a href="../it/Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/it">4</a>, <a href="../it/PySide_usage_snippets.html" title="PySide usage snippets/it">5</a>)</small>, <a href="../it/PySide.html" title="PySide/it">PySide</a>, PySide examples <a href="../it/PySide_Beginner_Examples.html" title="PySide Beginner Examples/it">beginner</a>, <a href="../it/PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/it">intermediate</a>, <a href="../it/PySide_Advanced_Examples.html" title="PySide Advanced Examples/it">advanced</a></li>
<li><b>Macros:</b> <a href="../it/Macros.html" title="Macros/it">Macros</a>, <a href="../it/How_to_install_macros.html" title="How to install macros/it">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../it/Embedding_FreeCAD.html" title="Embedding FreeCAD/it">Embedding FreeCAD</a>, <a href="../it/Embedding_FreeCADGui.html" title="Embedding FreeCADGui/it">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="../it/Expressions.html" title="Expressions/it">Expressions</a>, <a href="../it/Code_snippets.html" title="Code snippets/it">Code snippets</a>, <a href="../it/Line_drawing_function.html" title="Line drawing function/it">Line drawing function</a>, <a href="../it/FreeCAD_vector_math_library.html" title="FreeCAD vector math library/it">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="../it/User_hub.html" title="User hub/it">User hub</a>, <a href="../it/Power_users_hub.html" title="Power users hub/it">Power users hub</a>, <a href="../it/Developer_hub.html" title="Developer hub/it">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20260228194921
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.099 seconds
Real time usage: 0.586 seconds
Preprocessor visited node count: 220/1000000
Post&#8208;expand include size: 15622/2097152 bytes
Template argument size: 3903/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 7885/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  139.689      1 -total
 44.24%   61.804      1 Template:Powerdocnavi/it
 35.58%   49.708      1 Template:Manual:TOC
 28.54%   39.863      1 Manual:Summary/it
 21.15%   29.538      1 Template:Navigation_menu_2
  9.16%   12.793      5 Template:Code
  7.32%   10.224      2 Template:Docnav/it
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:74478-0!canonical and timestamp 20260228194921 and revision id 1761042. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>