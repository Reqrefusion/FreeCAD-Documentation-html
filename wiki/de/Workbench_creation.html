<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Workbench creation/de</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="de" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-Workbench+creation&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="de" dir="ltr">Deutsch</span></li>
<li><a href="../Workbench_creation.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Workbench creation (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../es/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/es (2% translated)" lang="es" dir="ltr">espa&ntilde;ol</a></li>
<li><a href="../fr/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--complete" title="Cr&eacute;ation d'atelier (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="Creare un Ambiente di lavoro (85% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--complete" title="Tworzenie &#347;rodowiska pracy (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../pt-br/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--med" title="Cria&ccedil;&atilde;o de bancadas de trabalho (23% translated)" lang="pt-BR" dir="ltr">portugu&ecirc;s do Brasil</a></li>
<li><a href="../ro/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/ro (2% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../ru/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="&#1056;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1072; &#1074;&#1077;&#1088;&#1089;&#1090;&#1072;&#1082;&#1072; (85% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li>
<li><a href="../zh-cn/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="&#24037;&#20316;&#21488;&#30340;&#21019;&#24314; (85% translated)" lang="zh-Hans-CN" dir="ltr">&#20013;&#25991;&#65288;&#20013;&#22269;&#22823;&#38470;&#65289;</a></li>
<li><a href="../zh-hant/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/zh-hant (0% translated)" lang="zh-Hant" dir="ltr">&#20013;&#25991;&#65288;&#32321;&#39636;&#65289;</a></li>
<li><a href="../zh-tw/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#24314;&#31435;Workbench (8% translated)" lang="zh-Hant-TW" dir="ltr">&#20013;&#25991;&#65288;&#33274;&#28771;&#65289;</a></li>
<li><a href="../ja/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#12527;&#12540;&#12463;&#12505;&#12531;&#12481;&#12398;&#36861;&#21152; (2% translated)" lang="ja" dir="ltr">&#26085;&#26412;&#35486;</a></li>
<li><a href="../ko/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#51089;&#50629;&#45824; &#47564;&#46308;&#44592; (10% translated)" lang="ko" dir="ltr">&#54620;&#44397;&#50612;</a></li></ul></div>
<div class="warning-box">Diese Seite beschreibt eine bew&auml;hrte Methode zum Erstellen von Arbeitsbereichen, aber vor einigen Jahren gab es einen Vorschlag, wie die Struktur der Python-basierten externen Arbeitsbereichs verbessert werden k&ouml;nnte. Es scheint eine gewisse &Uuml;bereinstimmung dar&uuml;ber zu bestehen, dass diese Struktur einen neuen Standard setzen sollte, aber sie hat noch keinen Eingang in dieses Wiki gefunden (mit Ausnahme von zwei Links im Abschnitt Verwandte Themen).
Ein weiterer Absatz wurde erstellt, um den neuen Standard zu beschreiben.  Siehe[<a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?t=101843">Diskussion</a>]</div>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../de/Localisation.html" title="Localisation/de">Lokalisierung</a></div>
    <div><a href="../de/Extra_python_modules.html" title="Extra python modules/de">Zus&auml;tzliche Python Module</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../de/Online_Help_Toc.html" title="Online Help Toc/de">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="48" data-file-height="48"></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><meta property="mw:PageProp/toc"></div>
<p><span id="Introduction"></span>
</p>
<h2><span class="mw-headline" id="Einleitung">Einleitung</span></h2>
<p>Diese Seite zeigt, wie man einen neuen Arbeitsbereich zur FreeCAD-Oberfl&auml;che hinzuf&uuml;gt. <a href="../de/Workbenches.html" title="Workbenches/de">Arbeitbereiche</a> sind Beh&auml;lter f&uuml;r FreeCAD-Befehle. Sie k&ouml;nnen in Python, in C++ oder in einer Mischung aus beiden programmiert werden, was den Vorteil hat, die Geschwindigkeit von C++ mit der Flexibilit&auml;t von Python zu verbinden. In jedem Fall wird der neue Arbeitsbereich durch einen Satz von zwei Python-Dateien gestartet. Dies k&ouml;nnen "interne" Arbeitsbereiche sein, die im FreeCAD-Paket enthalten sind oder "externe" Arbeitsbereiche, die mit dem <a href="../de/Std_AddonMgr.html" title="Std AddonMgr/de">Addon-Manager</a> erh&auml;ltlich sind oder sie werden manuell &uuml;ber das Herunterladen einiger Quellen (repositories) aus dem Netz installiert. Interne Arbeitsbereiche k&ouml;nnen in C++, Python oder einer Kombination der beiden programmiert sein, wogegen externe Arbeitsbereiche nur in Python programmiert sein d&uuml;rfen.
</p><p><span id="The_workbench_structure"></span>
</p>
<h2><span class="mw-headline" id="Die_Struktur_der_Arbeitsbereiche">Die Struktur der Arbeitsbereiche</span></h2>
<p>Es wird ein Ordner mit mit einem beliebigen Namen ben&ouml;tigt, der im Mod-Verzeichnis des Benutzers platziert wird, mit einer <code>Init.py</code>-Datei und wahlweise einer <code>InitGui.py</code>-Datei. Die Init-Datei wird immer ausgef&uuml;hrt, wenn FreeCAD startet und die <code>InitGui.py</code>-Datei wird unmittelbar danach, aber nur, wenn FreeCAD im GUI-Modus startet. Das ist alles, was FreeCAD braucht, um deinen Arbeitsbereich beim Start zu finden und ihn in seine Oberfl&auml;che aufzunehmen.
</p><p>Das Mod-Verzeichnis des Benutzers ist ein Unterverzeichnis des Anwendungsdaten-Verzeichnisses des Benutzers (letzteres findet man durch Eingabe von <code>App.getUserAppDataDir()</code> in der <a href="../de/Python_Console.html" title="Python Console/de">Python-Konsole</a>):
</p>
<ul><li>Unter Linux ist es &uuml;blicherweise <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;username&gt;/.local/share/FreeCAD/Mod/</span> (<span style="font-size:small;color:green;">0.20 und neuer</span>) oder <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;username&gt;/.FreeCAD/Mod/</span> (<span style="font-size:small;color:blue;">0.19 und davor</span>).</li>
<li>Unter Windows ist es <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">%APPDATA%\FreeCAD\Mod\</span>, das &uuml;blicherweise <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">C:\Users\&lt;username&gt;\Appdata\Roaming\FreeCAD\Mod\</span> ist.</li>
<li>Unter macOS ist es &uuml;blicherweise <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/Users/&lt;username&gt;/Library/Application Support/FreeCAD/Mod/</span>.</li></ul>
<p>Das Mod-Verzeichnis sollte so aussehen:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">/</span><span class="n">Mod</span><span class="o">/</span>
 <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
     <span class="o">+--</span> <span class="n">Init</span><span class="o">.</span><span class="n">py</span>
     <span class="o">+--</span> <span class="n">InitGui</span><span class="o">.</span><span class="n">py</span>
</pre></div>
<p>Innerhalb dieser Dateien kannst du tun, was immer du willst. Normalerweise werden sie so verwendet:
</p>
<ul><li>In der Datei Init.py werden einfach ein paar Dinge hinzugef&uuml;gt, die auch dann verwendet werden, wenn FreeCAD im Konsolenmodus arbeitet, z.B. die Funktionen f&uuml;r das Importieren und Exportieren von Dateien.</li></ul>
<ul><li>In der Datei InitGui.py wird normalerweise ein Arbeitsbereich definiert, der einen Namen, ein Symbol und eine Reihe von FreeCAD-Befehlen enth&auml;lt (siehe unten). Diese Python-Datei definiert auch Funktionen, die ausgef&uuml;hrt werden, wenn FreeCAD geladen wird (man versucht dort, so wenig wie m&ouml;glich auszuf&uuml;hren, um den Start nicht zu verlangsamen), eine weitere, die ausgef&uuml;hrt wird, wenn der Arbeitsbereich aktiviert wird (in der die meiste Arbeit erledigt wird), und eine dritte, wenn der Arbeitsbereich deaktiviert wird (damit Dinge entfernen werden k&ouml;nnen, wenn n&ouml;tig).</li></ul>
<p>Die hier beschriebene Struktur und der Dateiinhalt eines Arbeitsbereich sind der klassische Weg beim Anlegen eines Arbeitsbereichs. Man kann eine leichte Abwandlung in der Dateistruktur benutzen, wenn ein neuer Python-Arbeitsbereich erstellt werden soll; dieser alternative Weg kann am besten als "namespaced workbench" (Arbeitsbereich mit eigenem Namensraum) bezeichnet werden, wodurch die M&ouml;glichkeit er&ouml;ffnet wird, pip zur Installation des neuen Arbeitsbereichs zu verwenden. Beide Strukturen funktionieren, und es ist eher die Frage, was man selbst bevorzugt, wenn man einen Arbeitsbereich erstellt. Das Aussehen und die Struktur von hier gezeigten Arbeitsbereichen sind im globalen Namensraum von FreeCAD enthalten, w&auml;hrend sich das alternative Aussehen und die Struktur des Arbeitsbereichs in einem dedizierten Namensraum befindet. Siehe <a href="#New_Standard_External_Workbench">Neuer Standard-Externer-Arbeitsbereich</a> weiter unten.
</p><p><span id="C++_workbench_structure"></span>
</p>
<h3><span id="Struktur_eines_C.2B.2B-Arbeitsbereiches"></span><span class="mw-headline" id="Struktur_eines_C++-Arbeitsbereiches">Struktur eines C++-Arbeitsbereiches</span></h3>
<p>Wenn du deinen Arbeitsbereich in Python programmieren willst, brauchst du keine besondere Vorsicht walten zu lassen und kannst einfach deine anderen Python-Dateien zusammen mit deinen Init.py- und InitGui.py-Dateien unterbringen. Wenn du jedoch mit C++ arbeitest, solltest du gr&ouml;&szlig;ere Sorgfalt walten lassen und eine grundlegende Regel von FreeCAD beachten: die Trennung deines Arbeitsbereichs zwischen einem Anwendungsteil (der ohne jedes GUI-Element im Konsolenmodus laufen kann) und einem GUI-Teil, der nur geladen wird, wenn FreeCAD mit seiner vollst&auml;ndigen GUI-Umgebung l&auml;uft. Wenn du also einen C++-Arbeitsbereich erstellst, wirst du h&ouml;chstwahrscheinlich zwei Module erstellen, eine Anwendung und eine GUI. Diese beiden Module m&uuml;ssen nat&uuml;rlich von Python aus aufrufbar sein. Jedes FreeCAD-Modul (Anwendung oder GUI) besteht mindestens aus einer Modul-Init-Datei. Dies ist eine typische AppMyModuleGui.cpp-Datei:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">extern</span> <span class="s2">"C"</span> <span class="p">{</span>
    <span class="n">void</span> <span class="n">MyModuleGuiExport</span> <span class="n">initMyModuleGui</span><span class="p">()</span>  
    <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="s2">"Cannot load Gui module in console application."</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="o">//</span> <span class="kn">import</span> <span class="nn">other</span> <span class="n">modules</span> <span class="n">this</span> <span class="n">one</span> <span class="n">depends</span> <span class="n">on</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"import PartGui"</span><span class="p">);</span>
            <span class="o">//</span> <span class="n">run</span> <span class="n">some</span> <span class="n">python</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">console</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"print('welcome to my module!')"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">catch</span><span class="p">(</span><span class="n">const</span> <span class="n">Base</span><span class="p">::</span><span class="ne">Exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">what</span><span class="p">());</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="n">Py_InitModule</span><span class="p">(</span><span class="s2">"MyModuleGui"</span><span class="p">,</span> <span class="n">MyModuleGui_Import_methods</span><span class="p">);</span>   <span class="o">/*</span> <span class="n">mod</span> <span class="n">name</span><span class="p">,</span> <span class="n">table</span> <span class="n">ptr</span> <span class="o">*/</span>
        <span class="n">Base</span><span class="p">::</span><span class="n">Console</span><span class="p">()</span><span class="o">.</span><span class="n">Log</span><span class="p">(</span><span class="s2">"Loading GUI of MyModule... done</span><span class="se">\n</span><span class="s2">"</span><span class="p">);</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">the</span> <span class="n">FreeCAD</span> <span class="n">commands</span> <span class="p">(</span><span class="ow">in</span> <span class="n">another</span> <span class="n">cpp</span> <span class="n">file</span><span class="p">)</span>
        <span class="n">CreateMyModuleCommands</span><span class="p">();</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">workbench</span> <span class="ow">and</span> <span class="nb">object</span> <span class="n">definitions</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">Workbench</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">ViewProviderSomeCustomObject</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
    
         <span class="o">//</span> <span class="n">add</span> <span class="n">resources</span> <span class="ow">and</span> <span class="n">reloads</span> <span class="n">the</span> <span class="n">translators</span>
        <span class="n">loadMyModuleResource</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><span id="The_Init.py_file"></span>
</p>
<h3><span class="mw-headline" id="Die_Datei_Init.py">Die Datei Init.py</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="sd">"""FreeCAD init script of XXX module"""</span>

<span class="c1"># ***************************************************************************</span>
<span class="c1"># *   Copyright (c) 2015 John Doe john@doe.com                              *   </span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This file is part of the FreeCAD CAx development system.              *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1"># *   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1"># *   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1"># *   the License, or (at your option) any later version.                   *</span>
<span class="c1"># *   for detail see the LICENSE text file.                                 *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   FreeCAD is distributed in the hope that it will be useful,            *</span>
<span class="c1"># *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1"># *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1"># *   GNU Lesser General Public License for more details.                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1"># *   License along with FreeCAD; if not, write to the Free Software        *</span>
<span class="c1"># *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1"># *   USA                                                                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># ***************************************************************************/</span>

<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addImportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"importOwn"</span><span class="p">)</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addExportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"exportOwn"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"I am executing some stuff here when FreeCAD starts!"</span><span class="p">)</span>
</pre></div>
<p>Du kannst jede beliebige Lizenz f&uuml;r deinen Arbeitsbereich w&auml;hlen, aber sei dir bewusst, dass, wenn du deinen Arbeitsbereich irgendwann in den FreeCAD-Quellcode integrierst und mit diesem verteilt sehen m&ouml;chtest, diese wie im obigen Beispiel unter LGPL2+ stehen muss. Siehe <a href="../de/License.html" title="License/de">Lizenz</a>.
</p><p>Die Funktionen <code>FreeCAD.addImportType()</code> und <code>addEXportType()</code> erm&ouml;glichen es dir, den Namen und die Erweiterung eines Dateityps sowie ein f&uuml;r seinen Import verantwortliches Python-Modul anzugeben. Im obigen Beispiel wird ein Modul <code>importOwn.py</code> <code>.own</code>-Dateien verarbeiten. 
Siehe <a href="../de/Code_snippets.html" title="Code snippets/de">Code-Schnipsel</a> f&uuml;r weitere Beispiele.
</p><p><span id="Python_workbenches"></span>
</p>
<h3><span class="mw-headline" id="Python-Arbeitsbereiche">Python-Arbeitsbereiche</span></h3>
<p>Dies ist die Datei InitGui.py:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">MyWorkbench</span> <span class="p">(</span><span class="n">Workbench</span><span class="p">):</span>

    <span class="n">MenuText</span> <span class="o">=</span> <span class="s2">"My Workbench"</span>
    <span class="n">ToolTip</span> <span class="o">=</span> <span class="s2">"A description of my workbench"</span>
    <span class="n">Icon</span> <span class="o">=</span> <span class="s2">"""paste here the contents of a 16x16 xpm icon"""</span>

    <span class="k">def</span> <span class="nf">Initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed when the workbench is first activated.</span>
<span class="sd">        It is executed once in a FreeCAD session followed by the Activated function.</span>
<span class="sd">        """</span>
        <span class="kn">import</span> <span class="nn">MyModuleA</span><span class="o">,</span> <span class="nn">MyModuleB</span> <span class="c1"># import here all the needed files that create your FreeCAD commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"MyCommand1"</span><span class="p">,</span> <span class="s2">"MyCommand2"</span><span class="p">]</span> <span class="c1"># a list of command names created in the line above</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendToolbar</span><span class="p">(</span><span class="s2">"My Commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new toolbar with your commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">(</span><span class="s2">"My New Menu"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">([</span><span class="s2">"An existing Menu"</span><span class="p">,</span> <span class="s2">"My submenu"</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># appends a submenu to an existing menu</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the workbench is activated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">Deactivated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the workbench is deactivated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">ContextMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipient</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the user right-clicks on screen"""</span>
        <span class="c1"># "recipient" will be either "view" or "tree"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendContextMenu</span><span class="p">(</span><span class="s2">"My commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># add commands to the context menu</span>

    <span class="k">def</span> <span class="nf">GetClassName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
        <span class="c1"># This function is mandatory if this is a full Python workbench</span>
        <span class="c1"># This is not a template, the returned string should be exactly "Gui::PythonWorkbench"</span>
        <span class="k">return</span> <span class="s2">"Gui::PythonWorkbench"</span>
       
<span class="n">Gui</span><span class="o">.</span><span class="n">addWorkbench</span><span class="p">(</span><span class="n">MyWorkbench</span><span class="p">())</span>
</pre></div>
<p>Ansonsten kannst du alles tun, was du willst: Du kannst deinen gesamten Code des Arbeitsbereichs in die InitGui.py speichern, wenn du m&ouml;chtest, aber es ist normalerweise bequemer, die verschiedenen Funktionen deines Arbeitsbereiches in separate Dateien abzulegen. Dadurch sind diese Dateien kleiner und einfacher zu lesen. Dann importierst du diese Dateien in deine InitGui.py-Datei. Du kannst diese Dateien anordnen wie du willst; ein gutes Beispiel ist eine f&uuml;r jeden FreeCAD-Befehl, den du hinzuf&uuml;gst.
</p><p><span id="Preferences"></span>
</p>
<h4><span class="mw-headline" id="Einstellungen">Einstellungen</span></h4>
<p>Du kannst eine Einstellungsseite f&uuml;r deinen Python-Arbeitsbereich hinzuf&uuml;gen.  
Die Einstellungsseiten suchen nach einem Einstellungssymbol mit einem bestimmten Namen im Qt-Ressourcensystem. Wenn sich dein Symbol nicht im Ressourcensystem befindet oder nicht den korrekten Namen hat, wird dein Symbol nicht auf der Einstellungsseite erscheinen.
</p><p>Hinzuf&uuml;gen deines Arbeitsbereichssymbols:
</p>
<ul><li>das Einstellungssymbol muss "preferences-" genannt werden + "modulename" + ".svg" (alles Kleinbuchstaben)</li>
<li>erstelle eine qrc-Datei, die alle Symbolnamen enth&auml;lt</li>
<li>F&uuml;hre im *.py-Hauptverzeichnis pyside-rcc -o myResources.py myqrc.qrc aus</li>
<li>In InitGui.py, f&uuml;ge import myResource(.py) hinzu</li>
<li>aktualisiere dein Repositorium (git) mit myResources.py und myqrc.qrc</li></ul>
<p>Du musst du die Schritte erneut ausf&uuml;hren wenn du Symbole hinzuf&uuml;gst/&auml;nderst, 
</p><p>@kbwbe hat ein nettes Skript zum Kompilieren von Ressourcen f&uuml;r den Arbeitsbereich A2Plus erstellt. Siehe unten. 
</p><p>Hinzuf&uuml;gen deiner Einstellungsseite(n):
</p>
<ul><li>Du musst das Qt Designer-Zusatzmodul kompilieren, das dir das Hinzuf&uuml;gen von Pr&auml;ferenzeinstellungen mit <a href="../de/Compile_on_Linux.html#Qt_designer_plugin" title="Compile on Linux/de">Qt Designer</a> erm&ouml;glicht</li>
<li>Erstelle ein leeres Widget im Qt Designer (keine Schaltfl&auml;chen oder &auml;hnliches)</li>
<li>Gestalte deine Pr&auml;ferenzseite, jede Einstellung, die gespeichert werden muss (Pr&auml;ferenzen), muss eines der Gui::Pref*-Widgets sein, die durch das Zusatzmodul hinzugef&uuml;gt wurden)</li>
<li>Stelle sicher, dass du in einem dieser Felder den PrefName (den Namen deines Pr&auml;ferenzwertes) und PrefPath (z.B.: Mod/MyWorkbenchName), der deine Werte unter BaseApp/Preferences/Mod/MyWorkbenchName speichern wird</li>
<li>Speichere die ui-Datei in deinem Arbeitsbereich, stelle sicher, dass sie von cmake verarbeitet wird</li>
<li>In deinem Arbeitsbereich, z.B. innerhalb der Datei InitGui, innerhalb der Initialisierungsmethode (aber jeder andere Ort funktioniert auch), f&uuml;ge hinzu: FreeCADGui.addPreferencePage("/path/to/myUiFile.ui","MyGroup"), "MyGroup" als eine der Pr&auml;ferenzgruppen auf der linken Seite. FreeCAD sucht automatisch nach einer Datei "preferences-mygroup.svg" an den bekannten Speicherorten (die du mit FreeCADGui.addIconPath() erweitern kannst)</li>
<li>Stelle sicher, dass die Methode addPreferencePage() nur einmal aufgerufen wird, andernfalls wird deine Vorzugsseite mehrmals hinzugef&uuml;gt</li></ul>
<p><span id="Distribution"></span>
</p>
<h4><span id="Ver.C3.B6ffentlichen"></span><span class="mw-headline" id="Ver&ouml;ffentlichen">Ver&ouml;ffentlichen</span></h4>
<p>Um einen eigenen Python-Arbeitsbereich zu ver&ouml;ffentlichen (und zu verbreiten), k&ouml;nnen die Dateien einfach an einem bestimmten Ort bereitgestellt und die Anwender angeleitet werden, wie die Dateien herunterzuladen und manuell in ihrem Mod-Verzeichnis abzulegen sind oder sie k&ouml;nnen in einem Online-git-Datenspeicher (GitHub, GitLab, Framagit und Debian Salsa werden zurzeit unterst&uuml;tzt) bereitgestellt und f&uuml;r die Installation mit dem <a href="../de/Std_AddonMgr.html" title="Std AddonMgr/de">Addon-Manager</a> konfiguriert werden. Anweisungen zum Einbinden in FreeCADs offizieller Addon-Liste befinden sich unter <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD-addons/blob/master/README.md">FreeCAD Addons GitHub repository</a> (engl.). Um den Addon-Manager zu verwenden, sollte eine Metadaten-Datei <a href="../de/Package_Metadata.html" title="Package Metadata/de">package.xml</a> enthalten sein, die dem Addon-Manager zeigt, wo das Symbol des Arbeitsbereiches zu finden ist und die die Anzeige von Beschreibung, Versionsnummer und anderem erm&ouml;glicht. Sie kann auch verwendet werden, um andere Arbeitsbereiche oder Python-Pakete anzugeben, von denen der eigene Arbeitsbereich abh&auml;ngt, die ihn blockieren oder die er ersetzen soll.
</p><p>F&uuml;r eine Kurzanleitung wie man eine einfache package.xml-Datei erstellt und einen Arbeitsbereich zum <a href="../de/Std_AddonMgr.html" title="Std AddonMgr/de">Addon-Manager</a> hinzuf&uuml;gt, siehe: <a href="../de/Add_Workbench_to_Addon_Manager.html" title="Add Workbench to Addon Manager/de">Arbeitsbereich zum Addon-Manager hinzuf&uuml;gen</a>.
</p><p>Wahlweise kann eine separate Metadaten-Datei enthalten sein, die die eigenen Python-Abh&auml;ngigkeiten beschreibt. Dies kann eine Datei metadata.txt sein, die die externen Abh&auml;ngigkeiten des eigenen Arbeitsbereichs beschreibt (von entweder anderen Addons, Arbeitsbereichen oder Python-Modulen) oder eine Datei <a rel="nofollow" class="external text" href="https://pip.pypa.io/en/latest/reference/requirements-file-format/">requirements.txt</a>, die die Python-Abh&auml;ngigkeiten beschreibt. Man beachte, dass wenn eine requirements.txt-Datei verwendet wird, nur die Namen der angegebenen Pakete zum Aufl&ouml;sen der Abh&auml;ngigkeiten eingesetzt werden: pip-Befehlsoptionen, Include-Optionen und Versionsinformationen werden vom Addon-Manager nicht unterst&uuml;tzt. Anwender k&ouml;nnen die requirements-Datei manuell mit pip ausf&uuml;hren, wenn diese Elemente erforderlich sind.
</p><p>Das Format der Datei metadata.txt ist einfacher Text und enth&auml;lt drei optionalen Zeilen:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span>
<span class="n">pylibs</span><span class="o">=</span>
<span class="n">optionalpylibs</span><span class="o">=</span>
</pre></div>
<p>Jede Zeile sollte aus einer durch Komma getrennten Liste von Elementen bestehen, von der der eigene Arbeitsbereich abh&auml;ngt. Arbeitsbereiche k&ouml;nnen entweder ein interner FreeCAD-Arbeitsbereich, z.B. "FEM", oder ein externes Addon, z.B. "Curves" sein. Die ben&ouml;tigten oder w&auml;hlbaren Python-Bibliotheken sollten mit ihren regelkonformen Python-Namen benannt werden, wie sie auch mit <code>pip install</code> verwendet werden. Zum Beispiel:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span><span class="n">FEM</span><span class="p">,</span><span class="n">Curves</span>
<span class="n">pylibs</span><span class="o">=</span><span class="n">ezdxf</span>
<span class="n">optionalpylibs</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span><span class="n">git</span>
</pre></div>
<p>Du kannst auch ein Skript einf&uuml;gen, das gestartet wird, wenn dein Paket deinstalliert wird. Das w&auml;re die Datei "uninstall.py", die ganz oben in deinem Addon zu finden w&auml;re. Es wird ausgef&uuml;hrt, wenn ein Benutzer dein Addon mit dem Addon-Manager deinstalliert.
Es wird verwendet, um alles, was das Addon auf dem Benutzersystem gemacht hat und nicht dort bleiben soll, zu entfernen, wenn das Addon deinstalliert ist, z.B. Cachedateien entfernen etc.
</p><p>Um zu gew&auml;hrleisten, dass dein Addon vom Addon-Manager richtig gelesen werden kann, kann der "developer mode" aktiviert werden, in dem der Addon-Manager alle verf&uuml;gbaren Addons pr&uuml;ft und gew&auml;hrleistet, dass deren Metadaten die erforderlichen Elemente enth&auml;lt. Diesen Modus aktiviert man durch Auswahl von <b>Bearbeiten &rarr; Einstellungen... &rarr; Addon-Manager &rarr; Addon-Manager-Optionen &rarr; Addon-Entwickler-Modus</b>, siehe <a href="../de/Preferences_Editor.html#Addon-Manager" title="Preferences Editor/de">Voreinstellungseditor</a>.
</p><p><span id="C++_workbenches"></span>
</p>
<h3><span id="C.2B.2B_Arbeitsbereiche"></span><span class="mw-headline" id="C++_Arbeitsbereiche">C++ Arbeitsbereiche</span></h3>
<p>Wenn du deinen Arbeitsbereich in C++ programmierst, wirst du wahrscheinlich die
Arbeitsbereichsdefinition selbst auch in C++ programmieren (obwohl es nicht notwendig ist: du k&ouml;nntest auch nur die Werkzeuge in C++ programmieren und die Arbeitsbereichsdefinition in Python belassen). In diesem Fall, wird die Datei InitGui.py sehr einfach: Sie k&ouml;nnte nur eine Zeile enthalten:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">MyModuleGui</span>
</pre></div>
<p>wobei MyModule dein vollst&auml;ndiger C++ Arbeitsbereich ist, der die Befehle und Arbeitsbereichsdefinition einschlie&szlig;t.
</p><p>Die Programmierung von C++ Arbeitsbereichen funktioniert auf ziemlich &auml;hnliche Weise. Dies ist eine typische Workbench.cpp-Datei, die du in den Gui-Teil deines Moduls aufnehmen kannst:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">namespace</span> <span class="n">MyModuleGui</span> <span class="p">{</span>
    <span class="k">class</span> <span class="nc">MyModuleGuiExport</span> <span class="n">Workbench</span> <span class="p">:</span> <span class="n">public</span> <span class="n">Gui</span><span class="p">::</span><span class="n">StdWorkbench</span>
    <span class="p">{</span>
        <span class="n">TYPESYSTEM_HEADER</span><span class="p">();</span>

    <span class="n">public</span><span class="p">:</span>
        <span class="n">Workbench</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="o">~</span><span class="n">Workbench</span><span class="p">();</span>

        <span class="n">virtual</span> <span class="n">void</span> <span class="n">activated</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="n">void</span> <span class="n">deactivated</span><span class="p">();</span>

    <span class="n">protected</span><span class="p">:</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">ToolBarItem</span><span class="o">*</span> <span class="n">setupToolBars</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">MenuItem</span><span class="o">*</span>    <span class="n">setupMenuBar</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
<p><span id="Preferences"></span>
</p>
<h4><span class="mw-headline" id="Einstellungen_2">Einstellungen</span></h4>
<p>Du kannst auch eine Voreinstellungsseite f&uuml;r C++ Arbeitsbereiche hinzuf&uuml;gen. Die Schritte sind &auml;hnlich wie die f&uuml;r Python.
</p><p><span id="Distribution"></span>
</p>
<h4><span id="Ver.C3.B6ffentlichen_2"></span><span class="mw-headline" id="Ver&ouml;ffentlichen_2">Ver&ouml;ffentlichen</span></h4>
<p>Es gibt zwei Optionen zum Ver&ouml;ffentlichen (und verbreiten) eines  C++ -Arbeitsbereiches; es k&ouml;nnen eigene vorkompilierte Versionen f&uuml;r die unterschiedlichen Betriebssysteme bereitgestellt werden oder man fragt das Einbinden in den FreeCADs Quellcode an. Wie oben erw&auml;hnt, erfordert dies eine LGPL2+ -Lizenz und man muss den Arbeitsbereich der Gemeinschaft im <a rel="nofollow" class="external text" href="https://forum.freecad.org">FreeCAD-Forum</a> zur Bewertung vorstellen.
</p><p><span id="FreeCAD_commands"></span>
</p>
<h2><span class="mw-headline" id="FreeCAD-Befehle">FreeCAD-Befehle</span></h2>
<p>FreeCAD-Befehle sind die Grundbausteine der FreeCAD-Oberfl&auml;che. Sie k&ouml;nnen als Schaltfl&auml;chen in Symbolleisten und als Eintr&auml;ge in Men&uuml;s erscheinen. Es handelt sich dabei immer um denselben Befehl. Ein Befehl ist einfach eine Python-Klasse, die eine Reihe von vordefinierten Attributen und Funktionen enth&auml;lt, wie der Befehlsname, das Symbol und der Code, der ausgef&uuml;hrt wird, wenn der Befehl aktiviert wird.
</p><p><span id="Python_command_definition"></span>
</p>
<h3><span class="mw-headline" id="Python_Befehlsdefinition">Python Befehlsdefinition</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">My_Command_Class</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""My new command"""</span>

    <span class="k">def</span> <span class="nf">GetResources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"Pixmap"</span>  <span class="p">:</span> <span class="s2">"My_Command_Icon"</span><span class="p">,</span> <span class="c1"># the name of a svg file available in the resources</span>
                <span class="s2">"Accel"</span>   <span class="p">:</span> <span class="s2">"Shift+S"</span><span class="p">,</span> <span class="c1"># a default shortcut (optional)</span>
                <span class="s2">"MenuText"</span><span class="p">:</span> <span class="s2">"My New Command"</span><span class="p">,</span>
                <span class="s2">"ToolTip"</span> <span class="p">:</span> <span class="s2">"What my new command does"</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Do something here"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">IsActive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Here you can define if the command must be active or not (greyed) if certain conditions</span>
<span class="sd">        are met or not. This function is optional."""</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">,</span> <span class="n">My_Command_Class</span><span class="p">())</span>
</pre></div>
<p><span id="C++_command_definition"></span>
</p>
<h3><span id="C.2B.2B_Befehlsdefinition"></span><span class="mw-headline" id="C++_Befehlsdefinition">C++ Befehlsdefinition</span></h3>
<p>In &auml;hnlicher Weise k&ouml;nnen Befehle in C++ programmiert werden, normalerweise in  einer Commands.cpp-Datei in deinem GUI-Modul. Dies ist eine typische Commands.cpp-Datei:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">DEF_STD_CMD_A</span><span class="p">(</span><span class="n">CmdMyCommand</span><span class="p">);</span>

<span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">CmdMyCommand</span><span class="p">()</span>
  <span class="p">:</span><span class="n">Command</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">sAppModule</span>    <span class="o">=</span> <span class="s2">"MyModule"</span><span class="p">;</span>
  <span class="n">sGroup</span>        <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"MyModule"</span><span class="p">);</span>
  <span class="n">sMenuText</span>     <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Runs my command..."</span><span class="p">);</span>
  <span class="n">sToolTipText</span>  <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sWhatsThis</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sStatusTip</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sPixmap</span>       <span class="o">=</span> <span class="s2">"some_svg_icon_from_my_resource"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">activated</span><span class="p">(</span><span class="nb">int</span> <span class="n">iMsg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">openCommand</span><span class="p">(</span><span class="s2">"My Command"</span><span class="p">);</span>
    <span class="n">doCommand</span><span class="p">(</span><span class="n">Doc</span><span class="p">,</span><span class="s2">"print('Hello, world!')"</span><span class="p">);</span>
    <span class="n">commitCommand</span><span class="p">();</span>
    <span class="n">updateActive</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb">bool</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">isActive</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">getActiveGuiDocument</span><span class="p">()</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CreateMyModuleCommands</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Gui</span><span class="p">::</span><span class="n">CommandManager</span> <span class="o">&amp;</span><span class="n">rcCmdMgr</span> <span class="o">=</span> <span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="o">-&gt;</span><span class="n">commandManager</span><span class="p">();</span>
    <span class="n">rcCmdMgr</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="n">new</span> <span class="n">CmdMyCommand</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
<p><span id='"Compiling"_your_resource_file'></span>
</p>
<h2><span id=".22Kompilieren.22_deiner_Ressourcendatei"></span><span class="mw-headline" id='"Kompilieren"_deiner_Ressourcendatei'>"Kompilieren" deiner Ressourcendatei</span></h2>
<p>compileA2pResources.py aus dem Arbeitsbereich A2Plus:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#***************************************************************************</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Copyright (c) 2019 kbwbe                                              *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Portions of code based on hamish's assembly 2                         *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1">#*   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1">#*   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1">#*   the License, or (at your option) any later version.                   *</span>
<span class="c1">#*   for detail see the LICENSE text file.                                 *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is distributed in the hope that it will be useful,       *</span>
<span class="c1">#*   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1">#*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1">#*   GNU Library General Public License for more details.                  *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1">#*   License along with this program; if not, write to the Free Software   *</span>
<span class="c1">#*   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1">#*   USA                                                                   *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#***************************************************************************</span>

<span class="c1"># This script compiles the A2plus icons for py2 and py3</span>
<span class="c1"># For Linux only</span>
<span class="c1"># Start this file in A2plus main directory</span>
<span class="c1"># Make sure pyside-rcc is installed</span>

<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">glob</span>

<span class="n">qrc_filename</span> <span class="o">=</span> <span class="s1">'temp.qrc'</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>

<span class="n">qrc</span> <span class="o">=</span> <span class="s1">'''&lt;RCC&gt;</span>
<span class="se">\t</span><span class="s1">&lt;qresource prefix="/"&gt;'''</span>
<span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'./icons/*.svg'</span><span class="p">):</span>
    <span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n\t\t</span><span class="s1">&lt;file&gt;</span><span class="si">%s</span><span class="s1">&lt;/file&gt;'</span> <span class="o">%</span> <span class="n">fn</span>
<span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'''</span><span class="se">\n\t</span><span class="s1">&lt;/qresource&gt;</span>
<span class="s1">&lt;/RCC&gt;'''</span>

<span class="nb">print</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">,</span><span class="s1">'w'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -o a2p_Resources2.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -py3 -o a2p_Resources3.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>

<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>
</pre></div>
<p><span id="New_Standard_External_Workbench"></span>
</p>
<h2><span class="mw-headline" id="Neuer_Standard-Externer-Arbeitsbereich">Neuer Standard-Externer-Arbeitsbereich</span></h2>
<p>Die Struktur und der Dateiinhalt f&uuml;r eine oben beschriebene Workbench sind die klassische Methode zum Erstellen eines neuen Arbeitsbereichs. Bei der Erstellung eines neuen Python-Arbeitsbereichs kann man eine leichte Abweichung in der Dateistruktur verwenden. Diese alternative Methode l&auml;sst sich am besten als <b>namespaced workbench</b> beschreiben und er&ouml;ffnet die M&ouml;glichkeit, den Arbeitsbereich mit pip zu installieren. Beide Strukturen funktionieren, daher ist es eher eine Frage der Pr&auml;ferenz, wenn man einen neue Arbeitsbereich erstellt. Der Stil und die Struktur dieses Arbeitsbereichs befinden sich in einem dedizierten Namensraum und ist nicht im globalen Namensraum von FreeCAD verf&uuml;gbar.
</p>
<pre>(Erl&auml;uterung zu <b>dedizierter Namensraum</b> hinzuf&uuml;gen)
</pre>
<p><span id="Structure"></span>
</p>
<h3><span class="mw-headline" id="Struktur">Struktur</span></h3>
<p>Diese Struktur basiert ebenfalls auf dem Verzeichnis /Mod (siehe <a href="#The_workbench_structure">die Workbench-Struktur</a> oben), unterscheidet sich jedoch in der Verwendung von Unterverzeichnissen:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">/</span><span class="n">Mod</span><span class="o">/</span>
 <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
     <span class="o">+--</span> <span class="n">freecad</span><span class="o">/</span>
         <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
             <span class="o">+--</span> <span class="n">__init</span><span class="o">.</span><span class="n">py__</span>
             <span class="o">+--</span> <span class="n">init_gui</span><span class="o">.</span><span class="n">py</span>
             <span class="o">+--</span> <span class="n">resources</span><span class="o">/</span>
                 <span class="o">+--</span> <span class="n">icons</span><span class="o">/</span>
                 <span class="o">+--</span> <span class="n">translations</span><span class="o">/</span>
</pre></div>
<p><span id="Starter_Kit"></span>
</p>
<h3><span class="mw-headline" id="Starter-Kit">Starter-Kit</span></h3>
<p>Ein Starter-Kit zum Erstellen der Struktur eines externen Python-Arbeitsbereichs ist auf GitHub verf&uuml;gbar: <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/freecad.workbench_starterkit">FreeCAD Workbench Starter Kit</a>
</p><p><span id="Related"></span>
</p>
<h2><span class="mw-headline" id="Verwandtes">Verwandtes</span></h2>
<ul><li><a href="../de/Translating_an_external_workbench.html" title="Translating an external workbench/de">&Uuml;bersetzen eines externen Arbeitsbereichs</a></li>
<li><a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?t=47460">Forum discussion: Namespaced Workbenches</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/FreeCAD/freecad.workbench_starterkit">freecad.workbench_starterkit</a></li></ul>
<p><br>
</p>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../de/Localisation.html" title="Localisation/de">Lokalisierung</a></div>
    <div><a href="../de/Extra_python_modules.html" title="Extra python modules/de">Zus&auml;tzliche Python Module</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../de/Online_Help_Toc.html" title="Online Help Toc/de">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="48" data-file-height="48"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: var(--background-color-neutral-subtle, #fefefe);"><span typeof="mw:File"><a href="../index.php?title=Power_user_hub.png&amp;filetimestamp=20200511213015&amp;.html" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></a></span> <a href="../de/Power_users_hub.html" title="Power users hub/de">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid var(--border-color-base, #aaaaaa); text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: var(--background-color-neutral-subtle, #fefefe);">
<ul><li><b>FreeCAD scripting:</b> <a href="../de/Python.html" title="Python/de">Python</a>, <a href="../de/Introduction_to_Python.html" title="Introduction to Python/de">Introduction to Python</a>, <a href="../de/Python_scripting_tutorial.html" title="Python scripting tutorial/de">Python scripting tutorial</a>, <a href="../de/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/de">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="../de/Builtin_modules.html" title="Builtin modules/de">Builtin modules</a>, <a href="../de/Units.html" title="Units/de">Units</a>, <a href="../de/Quantity.html" title="Quantity/de">Quantity</a></li>
<li><b>Workbenches:</b> <a class="mw-selflink selflink">Workbench creation</a>, <a href="../de/Gui_Command.html" title="Gui Command/de">Gui Commands</a>, <a href="../de/Command.html" title="Command/de">Commands</a>, <a href="../de/Installing_more_workbenches.html" title="Installing more workbenches/de">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../de/Mesh_Scripting.html" title="Mesh Scripting/de">Mesh Scripting</a>, <a href="../de/Topological_data_scripting.html" title="Topological data scripting/de">Topological data scripting</a>, <a href="../de/Mesh_to_Part.html" title="Mesh to Part/de">Mesh to Part</a>, <a href="../de/PythonOCC.html" title="PythonOCC/de">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="../de/Scripted_objects.html" title="Scripted objects/de">Scripted objects</a>, <a href="../de/Viewprovider.html" title="Viewprovider/de">Viewproviders</a> <small>(<a href="../de/Custom_icon_in_tree_view.html" title="Custom icon in tree view/de">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../de/Scenegraph.html" title="Scenegraph/de">Coin (Inventor) scenegraph</a>, <a href="../de/Pivy.html" title="Pivy/de">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../de/Interface_creation.html" title="Interface creation/de">Interface creation</a>, <a href="../de/Dialog_creation.html" title="Dialog creation/de">Interface creation completely in Python</a> <small>(<a href="../de/Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/de">1</a>, <a href="../de/Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/de">2</a>, <a href="../de/Dialog_creation_setting_colors.html" title="Dialog creation setting colors/de">3</a>, <a href="../de/Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/de">4</a>, <a href="../de/PySide_usage_snippets.html" title="PySide usage snippets/de">5</a>)</small>, <a href="../de/PySide.html" title="PySide/de">PySide</a>, PySide examples <a href="../de/PySide_Beginner_Examples.html" title="PySide Beginner Examples/de">beginner</a>, <a href="../de/PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/de">intermediate</a>, <a href="../de/PySide_Advanced_Examples.html" title="PySide Advanced Examples/de">advanced</a></li>
<li><b>Macros:</b> <a href="../de/Macros.html" title="Macros/de">Macros</a>, <a href="../de/How_to_install_macros.html" title="How to install macros/de">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../de/Embedding_FreeCAD.html" title="Embedding FreeCAD/de">Embedding FreeCAD</a>, <a href="../de/Embedding_FreeCADGui.html" title="Embedding FreeCADGui/de">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="../de/Expressions.html" title="Expressions/de">Expressions</a>, <a href="../de/Code_snippets.html" title="Code snippets/de">Code snippets</a>, <a href="../de/Line_drawing_function.html" title="Line drawing function/de">Line drawing function</a>, <a href="../de/FreeCAD_vector_math_library.html" title="FreeCAD vector math library/de">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="../de/User_hub.html" title="User hub/de">User hub</a>, <a href="../de/Power_users_hub.html" title="Power users hub/de">Power users hub</a>, <a href="../de/Developer_hub.html" title="Developer hub/de">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20251229122213
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.116 seconds
Real time usage: 0.169 seconds
Preprocessor visited node count: 472/1000000
Post&#8208;expand include size: 10453/2097152 bytes
Template argument size: 13108/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 12/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 32657/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   34.291      1 -total
 22.94%    7.867      1 Template:Powerdocnavi/de
 16.53%    5.669     12 Template:Code
  9.71%    3.328      1 Template:Navigation_menu_2
  8.97%    3.076      1 Template:VersionMinus/de
  7.94%    2.721      1 Template:VersionPlus/de
  7.68%    2.632      5 Template:FileName
  7.37%    2.526      2 Template:Docnav/de
  5.75%    1.973      1 Template:MenuCommand
  5.37%    1.842      9 Template:Incode
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:64470-0!canonical and timestamp 20251229122213 and revision id 1723054. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>