<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Extend FEM Module/de</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="de" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-Extend+FEM+Module&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="de" dir="ltr">Deutsch</span></li>
<li><a href="../Extend_FEM_Module.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Extend FEM Module (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../es/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--med" title="Extend FEM Module (17% translated)" lang="es" dir="ltr">espa&ntilde;ol</a></li>
<li><a href="../fr/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--complete" title="FEM Module d'extension (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--med" title="Estendere il modulo FEM (54% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--complete" title="Rozszerzenie modu&#322;u MES (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../ro/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--med" title="FEM: Modul Suplimentar MEF (33% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../ru/Extend_FEM_Module.html" class="mw-pt-progress mw-pt-progress--med" title="&#1056;&#1072;&#1089;&#1096;&#1080;&#1088;&#1077;&#1085;&#1080;&#1077; &#1088;&#1072;&#1073;&#1086;&#1095;&#1077;&#1081; &#1089;&#1088;&#1077;&#1076;&#1099; &#1074;&#1077;&#1088;&#1089;&#1090;&#1072;&#1082;&#1072; &#1052;&#1050;&#1069; (25% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="width: 230px; float: right; margin-left: 1em">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;"><span typeof="mw:File"><span><img src="../File/Freecad.svg" decoding="async" width="32" height="32" class="mw-file-element" data-file-width="48" data-file-height="48"></span></span> Anleitung
</td></tr>
<tr>
<th class="ctOdd">Thema
</th></tr>
<tr>
<td class="ctEven">FEM
</td></tr>
<tr>
<th class="ctOdd">Niveau
</th></tr>
<tr>
<td class="ctEven">fortgeschrittener Anf&auml;nger
</td></tr>
<tr>
<th class="ctOdd">Bearbeitungszeit
</th></tr>
<tr>
<td class="ctEven">1 Stunde
</td></tr>
<tr>
<th class="ctOdd">Autoren
</th></tr>
<tr>
<td class="ctEven"><a href="../index.php?title=User;M42kus&amp;action=edit&amp;redlink=1.html" class="new" title="User:M42kus (page does not exist)">M42kus</a>
</td></tr>
<tr>
<th class="ctOdd">FreeCAD-Version
</th></tr>
<tr>
<td class="ctEven">0.17
</td></tr>
<tr>
<th class="ctOdd">Beispieldateien
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">Siehe auch
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<td class="ctToc"><br><meta property="mw:PageProp/toc">
</td></tr></tbody></table>
<p>Der Arbeitsbereich FEM unterst&uuml;tzt schon viele unterschiedliche Randbedingungen und mehrere Berechnungsprogramme (L&ouml;ser). Trotzdem brauchen Anwender oft Randbedingungen, die noch nicht von FreeCAD unterst&uuml;tzt werden. Diese Seite ist Startpunkt f&uuml;r eine Reihe von Anleitungen und anderen Quellen, die beschreiben, wie der Arbeitsbereich FEM mit dem vorhandenen Framework (&lt;-?) erweitert werden kann. W&auml;hrend diese Reihe auch f&uuml;r Software-Entwickler hilfreich sein kann, ist die Idee dahinter, dass FEM-Anwender mit etwas Interesse f&uuml;r Python-Programmierung erm&ouml;glicht wird, selbst hinzuzuf&uuml;gen, was sie brauchen.
</p><p>Neue Randbedingungen, Gleichungen oder L&ouml;ser hinzuzuf&uuml;gen ist haupts&auml;chlich Routinearbeit. Aber beim ersten Mal ist es wahrscheinlich nicht so einfach, wie es aussieht. Ein Verst&auml;ndnis f&uuml;r die folgenden Themen wird hilfreich sein:
</p>
<ul><li>Python-Skripting in FreeCAD.
<ul><li><a href="../de/Python_scripting_tutorial.html" title="Python scripting tutorial/de">Tutorial Skripterstellung mit Python</a></li>
<li><a href="../de/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/de">Grundlagen der Skripterstellung in FreeCAD</a></li></ul></li>
<li>FreeCAD mit Python erweitern.
<ul><li><a href="../de/Scripted_objects.html" title="Scripted objects/de">Skriptgenerierte Objekte</a></li></ul></li>
<li>Ein grundlegendes Verst&auml;ndnis des L&ouml;sers, f&uuml;r den neue Objekte hinzugef&uuml;gt werden sollen (z. B. CalculiX oder Elmer), ist wichtig.</li>
<li>Ein wenig Wissen &uuml;ber Build-Systeme, insbesondere CMake (das von FreeCAD verwendete Build-System).</li></ul>
<p><span id="Build_System_(cmake)"></span>
</p>
<h2><span id="Build-System_.28cmake.29"></span><span class="mw-headline" id="Build-System_(cmake)">Build-System (cmake)</span></h2>
<p>Das Build-System muss unabh&auml;ngig davon ge&auml;ndert werden, welche Objekte zum Arbeitsbereich FEM hinzugef&uuml;gt werden sollen. Jedes Python-Modul (Datei) muss registriert werden. Der Arbeitsbereich FEM erfordert, dass jedes neue Python-Modul in <code>Mod/Fem/CMakeLists.txt</code> registriert wird. Dies gilt unabh&auml;ngig vom Typ des Python-Moduls (GUI oder Nicht-GUI). Wo genau das Modul eingef&uuml;gt werden muss, h&auml;ngt von der Rolle des Moduls ab. L&ouml;ser, Gleichungen und Beschr&auml;nkungen verwenden alle unterschiedliche Listen. Meistens funktioniert es, nach &auml;hnlichen Dateien zu suchen und die neue Datei in dieselbe Liste einzuf&uuml;gen.
</p><p>Als <b>Beispiel</b> f&uuml;gen wir eine neue Einschr&auml;nkung namens <code>pressure</code> hinzu, die mit der <b>Str&ouml;mungsgleichung</b> zusammenh&auml;ngt. Daher wird <b>FlowPressure</b> h&auml;ufig als Name f&uuml;r diese Beschr&auml;nkung verwendet. Eine neue Beschr&auml;nkung erfordert mindestens die folgenden neuen Module:
</p>
<ul><li><code>constraint_&lt;name&gt;.py</code></li>
<li><code>view_constraint_&lt;name&gt;.py</code></li>
<li><code>CommandFemConstraint&lt;name&gt;.py</code> (kann unn&ouml;tig sein)</li></ul>
<p>Diese drei Dateien m&uuml;ssen zu <code>Mod/Fem/CMakeLists.txt</code> hinzugef&uuml;gt werden, genauso wie  <code>Mod/Fem/App/CMakeLists.txt</code>. Alle eingef&uuml;gten Codezeilen werden durch einen Startbefehl gekennzeichnet. <b>+</b>.
</p><p><span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">Mod/Fem/CMakeLists.txt</span>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">SET</span><span class="p">(</span><span class="n">FemObjects_SRCS</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">base_fempythonobject</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_bodyheatsource</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_electrostaticpotential</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_flowvelocity</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_initialflowvelocity</span><span class="o">.</span><span class="n">py</span>
<span class="o">+</span>   <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_initialflowpressure</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_selfweight</span><span class="o">.</span><span class="n">py</span>
<span class="o">...</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">solver_ccxtools</span><span class="o">.</span><span class="n">py</span>
<span class="p">)</span>
<span class="o">...</span>
<span class="n">SET</span><span class="p">(</span><span class="n">FemGuiViewProvider_SRCS</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_base_femconstraint</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_base_femobject</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_bodyheatsource</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_electrostaticpotential</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_flowvelocity</span><span class="o">.</span><span class="n">py</span>
<span class="o">+</span>   <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_flowpressure</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_initialflowvelocity</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_selfweight</span><span class="o">.</span><span class="n">py</span>
<span class="o">...</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_solver_ccxtools</span><span class="o">.</span><span class="n">py</span>
<span class="p">)</span>
</pre></div>
<p><span id="Source_Organization"></span>
</p>
<h2><span class="mw-headline" id="Quellorganisation">Quellorganisation</span></h2>
<p>Zur Organisation des Python-Codes verwendet das FEM-Modul den folgenden Ansatz. Das Modul ist in die folgenden Pakete unterteilt:
</p>
<ul><li><code>femobjects</code>, das alle nicht-GUI-&auml;hnlichen Python-Proxys f&uuml;r Dokumentobjekte enth&auml;lt, und</li>
<li><code>femviewproviders</code>, das alles GUI-bezogene wie Python-Proxys f&uuml;r View-Provider enth&auml;lt</li>
<li>C++-basierte Aufgabenfelder werden in '<code>Gui</code>' gespeichert,</li>
<li>Symbole finden sich in '<code>Gui/Resources/icons/</code>',</li>
<li>.ui-Dateien werden in '<code>Gui/Resources/ui/</code>' gespeichert.</li></ul>
<p>Ein Paket folgt diesem Muster nicht: <code>femsolver</code>. Es befindet sich auf derselben Ebene wie <code>femobjects</code> und <code>femguiobjects</code> (<code>src/Mod/Fem/femsolver</code>). Das Paket enth&auml;lt L&ouml;ser- und Gleichungs-bezogene Pakete und Module und ist wie folgt organisiert:
</p>
<pre>.femsolver
.femsolver.elmer
.femsolver.elmer.equations
.femsolver.calculix
.femsolver.calculix.equations
.femsolver.z88
.femsolver.z88.equations
</pre>
<p><span id="Solver"></span>
</p>
<h2><span id="L.C3.B6ser"></span><span class="mw-headline" id="L&ouml;ser">L&ouml;ser</span></h2>
<p>In FreeCAD kann ein L&ouml;ser in zwei Teile unterteilt werden:
</p>
<ul><li>Der eine Teil ist das Dokumentobjekt, das vom Benutzer zur Interaktion mit dem L&ouml;ser verwendet wird. &Uuml;ber dieses Objekt k&ouml;nnen die L&ouml;ser-Parameter eingestellt und der L&ouml;sungsprozess gesteuert werden.</li>
<li>Der andere Teil sind die sogenannten Aufgaben eines L&ouml;sers. Der L&ouml;sungsprozess ist in diese Aufgaben unterteilt, n&auml;mlich: <i>Pr&uuml;fen, Vorbereiten, L&ouml;sen und Ergebnisse</i>. Diese &uuml;bernehmen die eigentliche Arbeit, indem sie die Analyse in ein Format exportieren, das vom L&ouml;ser-Programm verstanden wird, das Programm starten und die Ergebnisse wieder in FreeCAD laden.</li></ul>
<p>Die meisten Dateien, die sich auf einen L&ouml;ser beziehen, befinden sich in einem Unterpaket des Pakets <code>femsolver</code> (z. B. f&uuml;r Elmer in <code>femsolver/elmer</code>). Die folgende Liste enth&auml;lt alle Dateien, die mit der Implementierung eines L&ouml;sers zusammenh&auml;ngen. Dies sind die Dateien, die kopiert und ge&auml;ndert werden m&uuml;ssen, um FreeCAD um einen neuen L&ouml;ser zu erweitern. Das angegebene Beispiel stammt aus der L&ouml;ser-Implementierung von Elmer. 
</p>
<ul><li><b>femsolver/elmer/solver.py:</b> Dokumentobjekt in der Baumansicht sichtbar. Implementiert in Python &uuml;ber einen Dokument-Proxy und einen Ansichts-Proxy.</li>
<li><b>femsolver/elmer/tasks.py:</b> Modul, das eine Aufgabenklasse pro Aufgabe enth&auml;lt, die f&uuml;r eine L&ouml;ser-Implementierung erforderlich ist. Diese Aufgaben unterteilen den Prozess der L&ouml;sung einer Analyse in die folgenden Schritte: Pr&uuml;fen, Vorbereiten, L&ouml;sen, Ergebnisse.</li>
<li><b>femcommands/commands.py:</b> F&uuml;gt das L&ouml;ser-Dokumentobjekt zum aktiven Dokument hinzu. Erforderlich, um &uuml;ber die Grafische Benutzeroberfl&auml;che auf das L&ouml;ser-Objekt zuzugreifen.</li></ul>
<p><span id="Equations"></span>
</p>
<h2><span class="mw-headline" id="Gleichungen">Gleichungen</span></h2>
<p>Eine Gleichung repr&auml;sentiert eine bestimmte physikalische Gr&ouml;&szlig;e, die bei der L&ouml;sung der Analyse ber&uuml;cksichtigt werden muss (z. B. Str&ouml;mung, W&auml;rme). Nicht alle L&ouml;ser in FreeCAD unterst&uuml;tzen (alle) Gleichungen. Gleichungen werden durch untergeordnete Objekte des entsprechenden L&ouml;ser-Objekts dargestellt. In der Baumansicht sieht dies wie folgt aus:
</p>
<ul><li>Elmer-L&ouml;ser
<ul><li>Elastizit&auml;t</li>
<li>W&auml;rme</li>
<li>Str&ouml;mung</li>
<li>Elektrostatik</li></ul></li></ul>
<p>Die meisten l&ouml;serspezifischen Optionen (z. B. maximale Iterationen, L&ouml;sungsmethode usw.) werden &uuml;ber die Gleichungsobjekte festgelegt. Eine Folge davon ist, dass jeder L&ouml;ser seine eigene Implementierung derselben Gleichung haben muss. CalculiX h&auml;tte ein anderes W&auml;rmeobjekt als Elmer. Um zu vermeiden, dass in der GUI mehrere Schaltfl&auml;chen f&uuml;r dieselbe Physik vorhanden sind, f&uuml;gt jedes L&ouml;serobjekt seine Gleichungen selbst hinzu.
</p><p>Die eigentliche Implementierung kann in einen generischen und einen l&ouml;serspezifischen Teil unterteilt werden. Der generische Teil befindet sich im Modul <code>femsolver.equationbase</code>. Der l&ouml;serspezifische Teil befindet sich in einzelnen Equations-Unterpaketen der L&ouml;serpakete (z. B. <code>femsolver/elmer/equations</code>).
</p><p>Das Hinzuf&uuml;gen neuer Gleichungen zu Elmer sollte sehr einfach sein. F&uuml;r Neulinge gibt es ein Tutorial, das zeigt, wie man eine neue Gleichung zu Elmer hinzuf&uuml;gt, indem man den vorhandenen Elastizit&auml;tsl&ouml;ser zu FreeCAD hinzuf&uuml;gt: <a href="../de/Add_FEM_Equation_Tutorial.html" title="Add FEM Equation Tutorial/de">Tutorial FEM Gleichung hinzuf&uuml;gen</a>.
</p><p><span id="Constraints"></span>
</p>
<h2><span class="mw-headline" id="Randbedingungen">Randbedingungen</span></h2>
<p>Beschr&auml;nkungen definieren Randbedingungen f&uuml;r das zu l&ouml;sende Problem. In FreeCAD sind Beschr&auml;nkungen nicht spezifisch f&uuml;r einen bestimmten L&ouml;ser. Eine Problemkonfiguration kann von allen L&ouml;sern gel&ouml;st werden, die alle Bedingungen in der Analyse unterst&uuml;tzen.
</p><p>Das Hinzuf&uuml;gen neuer Einschr&auml;nkungen ist recht einfach. F&uuml;r Neulinge gibt es ein Tutorium.: <a href="../de/Add_FEM_Constraint_Tutorial.html" title="Add FEM Constraint Tutorial/de">Tutorium FEM-Beschr&auml;nkung hinzuf&uuml;gen</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20251126202347
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.056 seconds
Real time usage: 0.501 seconds
Preprocessor visited node count: 198/1000000
Post&#8208;expand include size: 1570/2097152 bytes
Template argument size: 1362/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 1/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 5475/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  380.042      1 -total
 96.87%  368.153      1 Template:Code
  1.44%    5.460      1 Template:TutorialInfo/de
  0.76%    2.894     20 Template:Incode
  0.58%    2.223      1 Template:FileName
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:212385-0!canonical and timestamp 20251126202347 and revision id 1704413. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>