<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">PySide Intermediate Examples/de</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="de" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-PySide+Intermediate+Examples&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--high" lang="de" dir="ltr">Deutsch</span></li>
<li><a href="../PySide_Intermediate_Examples.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="PySide Intermediate Examples (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../fr/PySide_Intermediate_Examples.html" class="mw-pt-progress mw-pt-progress--complete" title="PySide : Exemples pour niveau interm&eacute;diaire (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/PySide_Intermediate_Examples.html" class="mw-pt-progress mw-pt-progress--complete" title=" Esempi di livello medio di PySide (100% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/PySide_Intermediate_Examples.html" class="mw-pt-progress mw-pt-progress--complete" title="&#346;redniozaawansowane przyk&#322;ady PySide (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../ru/PySide_Intermediate_Examples.html" class="mw-pt-progress mw-pt-progress--low" title="&#1055;&#1088;&#1080;&#1084;&#1077;&#1088;&#1099; PySide &#1089;&#1088;&#1077;&#1076;&#1085;&#1077;&#1075;&#1086; &#1091;&#1088;&#1086;&#1074;&#1085;&#1103; (11% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><meta property="mw:PageProp/toc"></div>
<p><span id="Introduction"></span>
</p>
<h2><span class="mw-headline" id="Einleitung">Einleitung</span></h2>
<p>Diese Seite behandelt Beispiele auf mittlerem Niveau f&uuml;r die <a href="../de/PySide.html" title="PySide/de">PySide</a>-GUI-Verwaltung (die begleitenden Seiten behandeln Aspekte, die weniger oder weiter fortgeschritten sind, <a href="../de/PySide_Beginner_Examples.html" title="PySide Beginner Examples/de">PySide-Beispiele f&uuml;r Anf&auml;nger</a> und <a href="../de/PySide_Advanced_Examples.html" title="PySide Advanced Examples/de">PySide-Beispiele f&uuml;r Fortgeschrittene</a>). Auf dieser Seite wird ein Beispielprogramm verwendet, um die verschiedenen PySide-Themen abzudecken. Es ist beabsichtigt, etwas funktionalen PySide-Code vorzustellen, so dass jeder, der PySide benutzen muss, den entsprechenden Abschnitt herauskopieren, modifizieren und an seine eigenen Zwecke anpassen kann.
</p><p><span id="Notes"></span>
</p>
<h3><span class="mw-headline" id="Hinweise">Hinweise</span></h3>
<ul><li>Diese Seite ist nicht dazu gedacht, die Sprache Python zu behandeln oder als Anleitung in Python zu dienen.</li>
<li>Die Variablennamen sind nicht beschreibend, wurden aber in der Reihenfolge gehalten, um die Erkl&auml;rungen besser zu organisieren.</li>
<li>Es gibt zahlreiche Namenskonventionen f&uuml;r GUI-Komponenten, von denen keine "richtig" oder "falsch" ist</li>
<li>Es gibt eine Vielzahl unterschiedlicher Abfolgen der Deklarationen f&uuml;r die Widgets, die Signale, die Methoden, auch hier ist keine "richtig" oder "falsch".</li>
<li>Man beachte, da&szlig; PySide bei Benutzereingaben mit Zeichenketten arbeitet. Was auf dem Bildschirm als Zahl erscheint, ist in Wirklichkeit die Textrepr&auml;sentation einer Zahl.</li></ul>
<p><span id="Code_Based_Discussion_-_Declarative_Portion"></span>
</p>
<h2><span class="mw-headline" id="Codebasierte_Diskussion_-_Vereinbarungsteil">Codebasierte Diskussion - Vereinbarungsteil</span></h2>
<p>Das "Beispielprogramm" ist eigentlich eine gro&szlig;e Klassendefinition, die Festlegung einer PySide-GUI-Klasse, und hat &uuml;ber 150 Zeilen Code (einschlie&szlig;lich Kommentaren). Die Klasse bzw. ihr Verhalten dienen keinem funktionalen Zweck, der einzige Zweck ist, m&ouml;gliche GUI-Aktionen darzustellen und etwas Code zu pr&auml;sentieren, der hoffentlich von anderen FreeCAD-Benutzern verwendet werden kann.
</p><p>Die Klassendefinition und die geringe Anzahl von Codezeilen, die aufgerufen werden, werden in der Reihenfolge beschrieben, in der sie in der Datei vorkommen. Diese Reihenfolge basiert auf dem Bildschirmlayout, das ziemlich willk&uuml;rlich ist und ausschlie&szlig;lich der Darstellung von Anzeigeelementen dient. Dies ist der modale GUI-Bildschirm, den die PySide-Klasse erzeugt:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=PySideScreenSnapshot3.jpg&amp;filetimestamp=20150207142110&amp;.html" class="mw-file-description"><img src="../File/PySideScreenSnapshot3.jpg" decoding="async" width="400" height="372" class="mw-file-element" data-file-width="400" data-file-height="372"></a></span>
</p><p>Das Meiste des Restes dieses Abschnitts beschreibt den Inhalt der Klassendefinition, die am Ende dieses Abschnitts erscheint. Zuerst behandeln wir die Vereinbarungselemente (declarative elements), die festlegen wie die Dinge funktionieren und wie die Benutzeroberfl&auml;che (GUI) aufgebaut ist; dann behandeln wir die operativen Abschnitte (d.h. den Code, der ausgef&uuml;hrt wird, wenn Interaktionen des Benutzers erfolgen). Dieses Fenster basiert auf der Klasse QDialog und ist daher modal, was bedeutet, dass keine Aktivit&auml;ten au&szlig;erhalb des Fensters erfolgen k&ouml;nnen, solange es ge&ouml;ffnet ist.
</p><p><span id="Import_Statement"></span>
</p>
<h3><span class="mw-headline" id="Import-Anweisung">Import-Anweisung</span></h3>
<p>Die zwingend erforderliche Import-Anweisung:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
</pre></div>
<p>Diese wird am besten am Anfang der Python-Datei eingesetzt.
</p><p><span id="Class_Definition"></span>
</p>
<h3><span class="mw-headline" id="Klassendefinition">Klassendefinition</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ExampleModalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">	</span><span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleModalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
<p>Dieser Code wird am besten Wort f&uuml;r Wort kopiert und dann angepasst. Die Idee dieses Codes ist, dass wir eine Unterklasse (sub-class) der Klasse QDialog von PySide erstellen. Beim &Uuml;bernehmen des Codes wird der Name der Klasse zu "ExampleModalGuiClass" ge&auml;ndert; dabei ist darauf zu achten ihn an beiden Stellen zu &auml;ndern (im Beispiel in Zeile 1 und 4).
</p><p><span id="Window_Return_Status"></span>
</p>
<h3><span id="Fenster-R.C3.BCckgabestatus"></span><span class="mw-headline" id="Fenster-R&uuml;ckgabestatus">Fenster-R&uuml;ckgabestatus</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
</pre></div>
<p>Dieser ist nicht zwingend erforderlich sondern eher guter Programmierstil, er gibt einen Return-Status f&uuml;r das Fenster vor, der vorhandenen ist, egal, was der Anwender ausf&uuml;hrt. Dieser kann im Verlauf des Codes durch den Python-Code zum Anzeigen von verschiedenen Optionen, die der Benutzer ausgew&auml;hlt haben k&ouml;nnte, angepasst werden.
</p><p><span id="Window_Creation"></span>
</p>
<h3><span class="mw-headline" id="Fenstererstellung">Fenstererstellung</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create our window</span>
<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Program Window"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
</pre></div>
<p>Da die Bildschirmabmessungen von der oberen linken Ecke aus gemessen werden, beziehen sich die Werte in der dritten Zeile auf:
</p>
<ul><li>die Anzahl der Pixel, um die die obere linke Ecke rechts vom linken Bildschirmrand liegt (250)</li>
<li>die Anzahl der Pixel, um die die obere linke Ecke unterhalb des oberen Bildschirmrandes liegt (250)</li>
<li>die Breite des Bildschirms in Pixeln (400)</li>
<li>die H&ouml;he des Bildschirms in Pixeln (350)</li></ul>
<p>Der Titel des Fensters ist festgelegt, und die letzte Zeile bedeutet lediglich, dass dieses Fenster niemals von einem anderen Fenster verdeckt wird. Wenn dies nicht gew&uuml;nscht ist, setzt man einfach ein Python-Kommentarzeichen ('#') als erstes Zeichen der Zeile.
</p><p><span id="Label_Creation"></span>
</p>
<h3><span class="mw-headline" id="Label-Erstellung">Label-Erstellung</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create some Labels</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                       "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"sample string number two"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                        "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">170</span><span class="p">)</span>
</pre></div>
<p>In PySide dienen Labels zwei Zwecken: als statische Labels (wie der Name schon sagt) sowie als schreibgesch&uuml;tzte (d. h. nur zur Anzeige bestimmte) Textfelder. So k&ouml;nnen sowohl unver&auml;nderliche Anweisungen an den Benutzer wie "Dr&uuml;cken Sie nicht den roten Knopf" als auch dynamische Berechnungsergebnisse wie "42" an den Benutzer &uuml;bermittelt werden. In der zweiten Zeile wird ein Label deklariert und sein Anfangswert festgelegt (in diesem Fall leer). Die dritte Zeile legt die Schriftart fest. Es kann jede beliebige Schriftart (auf dem System) angegeben werden. Wenn keine Angabe erfolgt, wird die Standardschriftart verwendet. In diesem Fall wird eine nicht proportionale Schriftart angegeben. Das Label wird an seine Position im Fenster verschoben &ndash; seine Koordinaten geben seine Position in Bezug auf das Fenster (nicht den Bildschirm) an.
</p><p><span id="Checkbox_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellen_von_Checkboxen">Erstellen von Checkboxen</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># checkboxes</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Left side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox1</span><span class="p">)</span>
<span class="c1">#self.checkbox1.toggle() # will set an initial value if executed</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">#</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Right side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
<p>Checkboxen k&ouml;nnen in beliebiger Kombination aktiviert und deaktiviert werden (im Gegensatz zu Radiobuttons). Zeile 2 deklariert eine Checkbox und legt ihren Anfangswert fest. Zeile 3 gibt an, welche Methode ausgef&uuml;hrt wird, wenn die Checkbox angeklickt wird (in diesem Fall die Methode 'onCheckBox1'). Wenn die vierte Zeile nicht mit dem Python-Kommentarzeichen ('#') beginnen w&uuml;rde, w&uuml;rde sie ausgef&uuml;hrt werden und die Checkbox als aktiviert markieren. Die f&uuml;nfte Zeile schlie&szlig;lich verschiebt die Checkbox an ihre Position.
</p><p><span id="Radio_Button_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellen_von_Radiobuttons">Erstellen von Radiobuttons</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># radio buttons</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"random string one"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
<span class="c1">#</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"owt gnirts modnar"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
</pre></div>
<p>Die Erstellung der Radiobuttons &auml;hnelt stark der Erstellung von Checkboxen. Der einzige Unterschied besteht darin, dass bei Radiobuttons jeweils nur einer aktiviert sein kann.
</p><p><span id="Pop-Up_Menu_Creation"></span>
</p>
<h3><span id="Erstellung_eines_Popup-Men.C3.BCs"></span><span class="mw-headline" id="Erstellung_eines_Popup-Men&uuml;s">Erstellung eines Popup-Men&uuml;s</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set up lists for pop-ups</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"pizza"</span><span class="p">,</span><span class="s2">"apples"</span><span class="p">,</span><span class="s2">"candy"</span><span class="p">,</span><span class="s2">"cake"</span><span class="p">,</span><span class="s2">"potatoes"</span><span class="p">)</span>
<span class="c1"># set up pop-up menu</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">"candy"</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">activated</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopup1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">115</span><span class="p">)</span>
</pre></div>
<p>In Zeile 2 wird eine Liste mit den Auswahlm&ouml;glichkeiten des Benutzers erstellt. Eine Alternative besteht darin, ein W&ouml;rterbuch zu erstellen, aber nur die Schl&uuml;ssel f&uuml;r die Liste der Men&uuml;optionen zu verwenden. In Zeile 4 wird das Popup-Men&uuml; (in PySide als ComboBox bezeichnet) erstellt, die Benutzeroptionen werden in Zeile 5 hinzugef&uuml;gt.
</p><p>Nebenbei bemerkt, wenn das W&ouml;rterbuch verwendet worden w&auml;re, w&uuml;rden die Zeilen wie folgt erscheinen:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">"2"</span><span class="p">,</span><span class="s2">"widget"</span><span class="p">),(</span><span class="s2">"pink"</span><span class="p">,</span><span class="s2">"foobar"</span><span class="p">),(</span><span class="s2">"4"</span><span class="p">,</span><span class="s2">"galopsis"</span><span class="p">)])</span>

<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
<p>Zur&uuml;ck zum Hauptcodebeispiel f&uuml;r diesen Abschnitt: In Zeile 6 wird die Standardauswahl festgelegt. Diese Zeile kann weggelassen werden, und der Wert der Standardauswahl k&ouml;nnte (erneut, falls zutreffend) in das entsprechende Label geladen werden. Und schlie&szlig;lich erfolgt in Zeile 8 die Verschiebung an die Position.
</p><p><span id="Button_Creation_Part_1"></span>
</p>
<h3><span id="Erstellung_von_Schaltfl.C3.A4chen_Teil_1"></span><span class="mw-headline" id="Erstellung_von_Schaltfl&auml;chen_Teil_1">Erstellung von Schaltfl&auml;chen Teil 1</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># toggle visibility button</span>
<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">165</span><span class="p">)</span>
</pre></div>
<p>Der Button wird in Zeile 2 mit seinem Namen erstellt, der Handler f&uuml;r sein Signal beim Klicken wird in Zeile 3 angegeben. Zeile 4 verhindert, dass der Button zum 'Standard-Button' wird &ndash; also zu dem Button, der angeklickt wird, wenn der Benutzer einfach die <span class="key" style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px; color:#202122;">Return</span>-Taste dr&uuml;ckt. Und ein Move to Position rundet das Code-Segment ab.
</p><p><span id="Button_Creation_Part_2"></span>
</p>
<h3><span id="Erstellung_von_Schaltfl.C3.A4chen_Teil_2"></span><span class="mw-headline" id="Erstellung_von_Schaltfl&auml;chen_Teil_2">Erstellung von Schaltfl&auml;chen Teil 2</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># cancel button</span>
<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
<span class="c1"># OK button</span>
<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
</pre></div>
<p>Beide Schaltfl&auml;chen werden mit einem Namen (der als Beschriftung angezeigt wird) erstellt, der mit einer Methode verkn&uuml;pft ist, die beim Klicken ausgef&uuml;hrt wird, und an die richtige Position verschoben. Die einzige Ausnahme ist Zeile 4, in der die Schaltfl&auml;che 'Abbrechen' als Standardschaltfl&auml;che festgelegt ist. Das bedeutet, dass sie "angeklickt" wird, wenn der Benutzer die Taste <span class="key" style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px; color:#202122;">Return</span> dr&uuml;ckt.
</p><p><span id="Text_Input_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellung_von_Texteingaben">Erstellung von Texteingaben</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># text input field</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"cats &amp; dogs"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
</pre></div>
<p>Das QLineEdit-Widget ist wahrscheinlich das am h&auml;ufigsten verwendete Widget f&uuml;r die Texteingabe durch den Benutzer. In diesem Beispiel wird im folgenden Codeabschnitt ein Kontextmen&uuml; f&uuml;r die Bedienung dieses Widgets eingerichtet. Dieser Codeabschnitt erstellt (Zeile 2) das Widget, legt einen Anfangswert fest (Zeile 3), legt die Breite des Feldes fest (Zeile 4) und verschiebt das Widget an die richtige Stelle (Zeile 5).
</p><p><span id="QuantitySpinBox_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellung_einer_QuantitySpinBox">Erstellung einer QuantitySpinBox</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># QuantitySpinBox</span>
<span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Units</span>
<span class="n">ui</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">UiLoader</span><span class="p">()</span>
<span class="n">quantityInput</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">createWidget</span><span class="p">(</span><span class="s2">"Gui::QuantitySpinBox"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span> <span class="s1">'minimum'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">potential</span> <span class="o">=</span> <span class="mf">2.87</span>
<span class="n">unit</span> <span class="o">=</span> <span class="s2">"V"</span>
<span class="c1"># only set the value</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s1">'rawValue'</span><span class="p">,</span> <span class="n">potential</span> <span class="p">)</span>
<span class="c1"># set quantity (value + unit)</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="n">Units</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="s2">"</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">potential</span> <span class="p">,</span> <span class="n">unit</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="n">quantity</span><span class="p">)</span>
<span class="c1"># read value from the spinbox</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span>
</pre></div>
<p>Das Widget Gui::QuantitySpinBox ist eine FreeCAD-Spezifikation, die zur Anzeige und Bearbeitung von Werten zusammen mit ihren <a href="../de/Expressions.html#Units" title="Expressions/de">Einheiten</a> entwickelt wurde. Es ist von der Qt-Klasse <a rel="nofollow" class="external text" href="https://doc.qt.io/qt-5/qabstractspinbox.html">QAbstractSpinBox</a> abgeleitet. Alle Eigenschaften findet man in der Liste in der Quellcode-Datei <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Gui/QuantitySpinBox.h#L42">QuantitySpinBox.h</a>.
</p><p><span id="Contextual_Menu_Creation"></span>
</p>
<h3><span id="Erstellung_von_Kontextmen.C3.BCs"></span><span class="mw-headline" id="Erstellung_von_Kontextmen&uuml;s">Erstellung von Kontextmen&uuml;s</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set contextual menu options for text editing widget</span>
<span class="c1"># set text field to some dogerel</span>
<span class="n">popMenuAction1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"load some text"</span><span class="p">)</span>
<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction1</span><span class="p">)</span>
<span class="c1"># make text uppercase</span>
<span class="n">popMenuAction2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"uppercase"</span><span class="p">)</span>
<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction2</span><span class="p">)</span>
<span class="c1"># menu dividers</span>
<span class="n">popMenuDivider</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'---------'</span><span class="p">)</span>
<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuDivider</span><span class="p">)</span>
<span class="c1"># remove all text</span>
<span class="n">popMenuAction3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"clear"</span><span class="p">)</span>
<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction3</span><span class="p">)</span>
<span class="c1"># define menu and add options</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setContextMenuPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ActionsContextMenu</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuDivider</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction3</span><span class="p">)</span>
</pre></div>
<p>Dieser Code enth&auml;lt zahlreiche Wiederholungen, da dieselbe Aktion mit unterschiedlichen Werten ausgef&uuml;hrt wird &ndash; dies ist einer der Gr&uuml;nde, warum GUI-Code so lang ist (unabh&auml;ngig vom System). Zun&auml;chst wird eine QAction erstellt &ndash; dabei handelt es sich um eine Paarung (oder Verkn&uuml;pfung) des Textes, den der Benutzer als ausw&auml;hlbare Option sieht, mit der Methode, die ausgef&uuml;hrt wird, wenn er diese Option ausw&auml;hlt. Im Grunde genommen ist es eine Paarung einer Benutzerauswahl mit einem St&uuml;ck Code. Zeile 3 erstellt sie, Zeile 4 definiert die Benutzeroption (so wie sie angezeigt wird) und Zeile 5 gibt an, welcher Python-Code ausgef&uuml;hrt wird.
</p><p>In Zeile 19 (die Zeile mit "self.textInput.setContextMenuPolicy") wird ein ActionsContextMenu erstellt, das alle separaten QAction-Verkn&uuml;pfungen zwischen der Benutzerauswahl und dem auszuf&uuml;hrenden Code enth&auml;lt. Jedes Widget kann nur ein einziges Kontextmen&uuml; haben (d. h. das Men&uuml;, das mit dem Rechtsklick verbunden ist), daher definiert Zeile 19 dieses Men&uuml;. Die folgenden 4 Zeilen f&uuml;gen die zu Beginn dieses Codeabschnitts erstellten Verkn&uuml;pfungen hinzu. Die Reihenfolge ist hier wichtig, da der Benutzer die Men&uuml;optionen in der Reihenfolge sieht, in der sie hinzugef&uuml;gt wurden. Beachten Sie, dass die dritte Men&uuml;option eigentlich nichts bedeutet, ihr Code ist null, aber sie dient dazu, zwei Gruppen von Optionen im Kontextmen&uuml; zu trennen.
</p><p><span id="Numeric_Input_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellung_numerischer_Eingaben">Erstellung numerischer Eingaben</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># numeric input field</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setInputMask</span><span class="p">(</span><span class="s2">"999"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"000"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
</pre></div>
<p>Die Erstellung des Feldes f&uuml;r die numerische Eingabe folgt tats&auml;chlich der zuvor beschriebenen Erstellung f&uuml;r die Texteingabe. Tats&auml;chlich ist der Code bis auf die dritte und vierte Zeile identisch. Die dritte Zeile legt die von PySide definierte Maske fest, die in diesem Fall bis zu drei Ziffern (einschlie&szlig;lich 0) zul&auml;sst. Eine vollst&auml;ndige Liste der InputMask-Codes findet man unter <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-5/qlineedit.html#inputMask-prop">QLineEdit InputMask</a>.
</p><p><span id="Window_Display"></span>
</p>
<h3><span class="mw-headline" id="Fenster-Darstellung">Fenster-Darstellung</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># now make the window visible</span>
<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Es gibt nur eine Zeile, die daf&uuml;r sorgt, dass die GUI nach der Einrichtung angezeigt wird.
</p><p><span id="Code_Based_Discussion_-_Operative_Portion"></span>
</p>
<h2><span id="Code-basierte_Diskussion_.E2.80.93_Operativer_Teil"></span><span class="mw-headline" id="Code-basierte_Diskussion_&ndash;_Operativer_Teil">Code-basierte Diskussion &ndash; Operativer Teil</span></h2>
<p>Wir kommen nun zum operativen Teil der GUI-Definition, also dem Code, der als Reaktion auf Benutzerinteraktionen mit der GUI ausgef&uuml;hrt wird. Die Reihenfolge der Anweisungsgruppen ist nicht besonders relevant &ndash; mit der Einschr&auml;nkung, dass etwas deklariert werden muss, bevor darauf verwiesen werden kann. Manche Leute fassen alle Handler eines bestimmten Typs (z. B. Handler f&uuml;r Schaltfl&auml;chen) in einer Gruppe zusammen, andere listen die Handler alphabetisch auf. Bei bestimmten Anwendungen kann es aus praktischen Gr&uuml;nden sinnvoll sein, alle Handler, die sich auf einen bestimmten Aspekt beziehen, zusammenzufassen.
</p><p>Die Handler weisen eine hohe &Auml;hnlichkeit auf. Die meisten erhalten keinen Parameter, da die Tatsache, dass sie ausgef&uuml;hrt werden, der einzige Parameter (oder das einzige Signal) ist, den sie erhalten. Andere wie "onPopup1" und "mousePressEvent" akzeptieren einen Parameter.
</p><p>Es muss eine Eins-zu-Eins-Entsprechung zwischen den im deklarativen Abschnitt angegebenen Handlern und dem im operativen Abschnitt deklarierten Handler bestehen. Es k&ouml;nnen zus&auml;tzliche Handler deklariert sein, die nie aufgerufen werden, aber es d&uuml;rfen keine fehlen.
</p><p><span id="Generic_Handler"></span>
</p>
<h3><span class="mw-headline" id="Generische_Handler">Generische Handler</span></h3>
<p>In diesem Codebeispiel behandeln generische Handler die folgenden Ereignisse:
</p>
<ul><li>onCheckbox1</li>
<li>onCheckbox2</li>
<li>onRadioButton1</li>
<li>onRadioButton2</li>
<li>onPushButton1</li>
<li>onPopMenuAction1</li>
<li>onPopMenuAction2</li>
<li>onPopMenuDivider</li>
<li>onPopMenuAction3</li>
<li>onCancel</li>
<li>onOk</li></ul>
<p>Die allgemeine Form f&uuml;r die Handler lautet:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">handlerName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
	<span class="n">lineOfCode1</span>
	<span class="n">lineOfCode2</span>
</pre></div>
<p>Die erste Zeile enth&auml;lt das Schl&uuml;sselwort "def", gefolgt vom Namen des Handlers. Der Name des Handlers muss genau mit dem Namen aus dem vorherigen deklarativen Abschnitt &uuml;bereinstimmen. Der Parameter "self" ist ebenso wie die umschlie&szlig;enden Klammern und das abschlie&szlig;ende Doppelpunktzeichen Teil der Standardsyntax. Nach der ersten Zeile gibt es keine Anforderungen an den folgenden Code, dieser ist rein anwendungsspezifisch.
</p><p><span id="Pop-Up_Menu_Handler"></span>
</p>
<h3><span id="Popup-Men.C3.BC-Handler"></span><span class="mw-headline" id="Popup-Men&uuml;-Handler">Popup-Men&uuml;-Handler</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">onPopup1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selectedText</span><span class="p">):</span>
</pre></div>
<p>Der Popup-Men&uuml;-Handler entspricht dem generischen Handler, mit der Ausnahme, dass ein zweiter Parameter, der vom Benutzer ausgew&auml;hlte Text, &uuml;bergeben wird. Es muss beachtet werden, dass alles Text aus dem Popup-Men&uuml; ist und selbst wenn der Benutzer die Zahl 3 ausgew&auml;hlt hat, diese als Zeichenfolge "3" &uuml;bergeben wird.
</p><p><span id="Mouse_Event_Handler"></span>
</p>
<h3><span class="mw-headline" id="Mausereignis-Handler">Mausereignis-Handler</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
	<span class="c1"># print mouse position, X &amp; Y</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"X = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"Y = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
	<span class="c1">#</span>
	<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"left mouse button"</span><span class="p">)</span>
	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
</pre></div>
<p>The Mouse Event handler is the same as the generic handler with exception that a second parameter, the mouse event (e.g. left-click, right-click) from the user is passed  in. The name of the handler, "mousePressEvent", is reserved and if it is changed then the handler will no longer receive the event from the mouse presses.
</p><p>The X and Y coordinates of the mouse press are given by the reference "event.pos().x()" and "event.pos().y()". The constants "QtCore.Qt.LeftButton" and "QtCore.Qt.RightButton" are used to determine which mouse button was pressed.
</p><p>A reference to a widget can be made of the form "self.widgetName.underMouse()" which will return <code>true</code> or <code>false</code> as to whether the mouse cursor is over the widget "widgetName". Although presented in the same code excerpt the "underMouse()" handler is not tied to the "mousePressEvent" handler and can be used at any time.
</p><p><span id="Code_Based_Discussion_-_Main_Routine"></span>
</p>
<h2><span id="Code-basierte_Diskussion_.E2.80.93_Hauptroutine"></span><span class="mw-headline" id="Code-basierte_Diskussion_&ndash;_Hauptroutine">Code-basierte Diskussion &ndash; Hauptroutine</span></h2>
<p>Der Gro&szlig;teil des Codes befindet sich in der GUI-Klassendefinition, in der Hauptprozedur gibt es nicht viel.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Constant definitions</span>
<span class="k">global</span> <span class="n">userCancelled</span><span class="p">,</span> <span class="n">userOK</span>
<span class="n">userCancelled</span> <span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span> <span class="o">=</span> <span class="s2">"OK"</span>
</pre></div>
<p>Die Zeilen 2, 3 und 4 befassen sich mit der Koordinierung des Status der Benutzerinteraktion mit der GUI &ndash; z. B. &bdquo;Abgebrochen&ldquo;, &bdquo;OK&ldquo; oder einem anderen von der Anwendung definierten Status. Die zuvor genannten Handler-Routinen &bdquo;onCancel&ldquo; und &bdquo;onOk&ldquo; legen ebenfalls diese Stati fest.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="n">ExampleGuiClass</span><span class="p">()</span>
<span class="n">form</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userCancelled</span><span class="p">:</span>
	<span class="k">pass</span> <span class="c1"># steps to handle user clicking Cancel</span>
<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userOK</span><span class="p">:</span>
	<span class="c1"># steps to handle user clicking OK</span>
	<span class="n">localVariable1</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable2</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable3</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable4</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</pre></div>
<p>Die Zeilen 1 und 2 zeigen die Methode zum Aufrufen der GUI. Es kann mehrere GUI-Definitionen f&uuml;r ein Programm geben, und die GUI muss nicht als erstes Element in der Python-Datei aufgerufen werden, sondern kann an beliebiger Stelle aufgerufen werden. Der Name der GUI-Klasse wird in Zeile 1 angegeben (in diesem Fall "ExampleGuiClass"), aber die restlichen beiden Zeilen m&uuml;ssen w&ouml;rtlich kopiert werden.
</p><p>Die Zeilen 4 und 6 verwenden das Ergebnisfeld, um die entsprechende Aktion zu bestimmen. Die letzten 4 Zeilen zeigen lediglich das Kopieren der Daten im GUI-Objekt in lokale Variablen der ausf&uuml;hrenden Hauptprozedur.
</p><p><span id="Complete_Modal_Code_Example"></span>
</p>
<h2><span id="Vollst.C3.A4ndiges_Modal-Code-Beispiel"></span><span class="mw-headline" id="Vollst&auml;ndiges_Modal-Code-Beispiel">Vollst&auml;ndiges Modal-Code-Beispiel</span></h2>
<p>Dies ist das vollst&auml;ndige Codebeispiel (entwickelt auf FreeCAD v0.14):
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># import statements</span>
<span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>

<span class="c1"># UI Class definitions</span>

<span class="k">class</span> <span class="nc">ExampleModalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">	</span><span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleModalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
		<span class="c1"># create our window</span>
		<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Modal Program Window"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
		<span class="c1"># create some Labels</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                       "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"sample string number two"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                        "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">170</span><span class="p">)</span>
		<span class="c1"># checkboxes</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Left side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox1</span><span class="p">)</span>
		<span class="c1">#self.checkbox1.toggle() # will set an initial value if executed</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
		<span class="c1">#</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Right side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
		<span class="c1"># radio buttons</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"random string one"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
		<span class="c1">#</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"owt gnirts modnar"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
		<span class="c1"># set up lists for pop-ups</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"pizza"</span><span class="p">,</span><span class="s2">"apples"</span><span class="p">,</span><span class="s2">"candy"</span><span class="p">,</span><span class="s2">"cake"</span><span class="p">,</span><span class="s2">"potatoes"</span><span class="p">)</span>
		<span class="c1"># set up pop-up menu</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">"candy"</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">activated</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopup1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">115</span><span class="p">)</span>
		<span class="c1"># toggle visibility button</span>
		<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">165</span><span class="p">)</span>
		<span class="c1"># text input field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"cats &amp; dogs"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
		<span class="c1"># set contextual menu options for text editing widget</span>
		<span class="c1"># set text field to some dogerel</span>
		<span class="n">popMenuAction1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"load some text"</span><span class="p">)</span>
		<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction1</span><span class="p">)</span>
		<span class="c1"># make text uppercase</span>
		<span class="n">popMenuAction2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"uppercase"</span><span class="p">)</span>
		<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction2</span><span class="p">)</span>
		<span class="c1"># menu dividers</span>
		<span class="n">popMenuDivider</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'---------'</span><span class="p">)</span>
		<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuDivider</span><span class="p">)</span>
		<span class="c1"># remove all text</span>
		<span class="n">popMenuAction3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"clear"</span><span class="p">)</span>
		<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction3</span><span class="p">)</span>
		<span class="c1"># define menu and add options</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setContextMenuPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ActionsContextMenu</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuDivider</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction3</span><span class="p">)</span>
		<span class="c1"># numeric input field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setInputMask</span><span class="p">(</span><span class="s2">"999"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"000"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
		<span class="c1"># cancel button</span>
		<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
		<span class="c1"># OK button</span>
		<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
		<span class="c1"># now make the window visible</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
		<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">onCheckbox1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">' '</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'left'</span><span class="o">+</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'    '</span><span class="o">+</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>
	<span class="k">def</span> <span class="nf">onCheckbox2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">' '</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="s1">'right'</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="s1">'     '</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onRadioButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onRadioButton2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onPopup1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selectedText</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">selectedText</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="n">selectedText</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onPushButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># load some text into field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Lorem ipsum dolor sit amet"</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># set text in field to uppercase</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onPopMenuDivider</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># this option is the divider and is really there as a spacer on the menu list</span>
		<span class="c1"># consequently it has no functional code to execute if user selects it</span>
		<span class="k">pass</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># clear the text from the field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userCancelled</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onOk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userOK</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
		<span class="c1"># print mouse position, X &amp; Y</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"X = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"Y = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
		<span class="c1">#</span>
		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"left mouse button"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightButton</span><span class="p">:</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"right mouse button"</span><span class="p">)</span>
<span class="c1"># Class definitions</span>

<span class="c1"># Function definitions</span>

<span class="c1"># Constant definitions</span>
<span class="n">userCancelled</span> <span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span> <span class="o">=</span> <span class="s2">"OK"</span>

<span class="c1"># code ***********************************************************************************</span>

<span class="n">form</span> <span class="o">=</span> <span class="n">ExampleModalGuiClass</span><span class="p">()</span>
<span class="n">form</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userCancelled</span><span class="p">:</span>
	<span class="k">pass</span> <span class="c1"># steps to handle user clicking Cancel</span>
<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userOK</span><span class="p">:</span>
	<span class="c1"># steps to handle user clicking OK</span>
	<span class="n">localVariable1</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable2</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable3</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable4</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1">#OS: Mac OS X</span>
<span class="c1">#Word size: 64-bit</span>
<span class="c1">#Version: 0.14.3703 (Git)</span>
<span class="c1">#Branch: releases/FreeCAD-0-14</span>
<span class="c1">#Hash: c6edd47334a3e6f209e493773093db2b9b4f0e40</span>
<span class="c1">#Python version: 2.7.5</span>
<span class="c1">#Qt version: 4.8.6</span>
<span class="c1">#Coin version: 3.1.3</span>
<span class="c1">#SoQt version: 1.5.0</span>
<span class="c1">#OCC version: 6.7.0</span>
<span class="c1">#</span>
</pre></div>
<p>Am besten kopiert man diesen Code in einen Editor oder eine FreeCAD-Makrodatei und probieren ihn dort aus.
</p><p><span id="Code_Based_Discussion_-_Nonmodal_Code_Example"></span>
</p>
<h2><span id="Code-basierte_Diskussion_.E2.80.93_Beispiel_f.C3.BCr_nichtmodalen_Code"></span><span class="mw-headline" id="Code-basierte_Diskussion_&ndash;_Beispiel_f&uuml;r_nichtmodalen_Code">Code-basierte Diskussion &ndash; Beispiel f&uuml;r nichtmodalen Code</span></h2>
<p>Alle Widget-spezifischen Elemente aus dem vorherigen modalen Beispiel werden f&uuml;r die Verwendung in einem nicht-modalen Fenster &uuml;bertragen. Der Hauptunterschied besteht darin, dass das nicht-modale Fenster den Benutzer nicht daran hindert, mit anderen Fenstern zu interagieren. Grunds&auml;tzlich ist ein nicht-modales Fenster ein Fenster, das ge&ouml;ffnet und so lange wie n&ouml;tig ge&ouml;ffnet bleiben kann, ohne dass es Einschr&auml;nkungen f&uuml;r andere Anwendungsfenster gibt. Es gibt eine kleine Anzahl von Code-Unterschieden zwischen den beiden, die hervorgehoben werden, daher ist dieses Code-Beispiel recht kurz. Alles, was mit dem vorherigen modalen Beispiel identisch ist, wird weggelassen, um diesen &Uuml;berblick kurz zu halten. Dies ist der nichtmodale GUI-Bildschirm, den die PySide-Klasse generiert:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../index.php?title=PySideScreenSnapshot4.jpg&amp;filetimestamp=20150207163232&amp;.html" class="mw-file-description"><img src="../File/PySideScreenSnapshot4.jpg" decoding="async" width="400" height="172" class="mw-file-element" data-file-width="400" data-file-height="172"></a></span>
</p><p><span id="Import_Statement"></span>
</p>
<h3><span class="mw-headline" id="Import-Anweisung_2">Import-Anweisung</span></h3>
<p>Die zwingend erforderliche Import-Anweisung
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
</pre></div>
<p>Diese wird am besten am Anfang der Python-Datei eingesetzt.
</p><p><span id="Class_Definition"></span>
</p>
<h3><span class="mw-headline" id="Klassendefinition_2">Klassendefinition</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ExampleNonmodalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
<span class="w">	</span><span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleNonmodalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
<p>Dieser Code sollte am besten w&ouml;rtlich kopiert und ge&auml;ndert werden. Der Kern des Codes besteht darin, dass wir die Klasse QMainWindow von PySide unterteilen. Bei der Anpassung dieses Codes sollte man den Klassennamen "ExampleNonmodalGuiClass" &auml;ndern &ndash; darauf achten, ihn an beiden Stellen zu &auml;ndern (z. B. Zeile 1 und 4).
</p><p><span id="Window_Creation"></span>
</p>
<h3><span class="mw-headline" id="Erstellung_von_Fenstern">Erstellung von Fenstern</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create our window</span>
<span class="c1"># define window	xLoc,yLoc,xDim,yDim</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Nonmodal Program Window"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
<p>Offensichtlich unterscheiden sich unsere Fensterabmessungen und unser Titel. Der wichtigste Punkt ist die letzte Zeile, die PySide mitteilt, dass es Mauspositionsereignisse sofort nach ihrem Auftreten senden soll. Es muss beachtet werden, dass diese Ereignisse nicht gesendet werden, wenn sich die Maus &uuml;ber einem Widget wie einer Schaltfl&auml;che befindet, da das Widget die Ereignisse erfasst.
</p><p><span id="Mouse_Move_Event_Handler"></span>
</p>
<h3><span class="mw-headline" id="Mausbewegungs-EventHandler">Mausbewegungs-EventHandler</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"X: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">" Y: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
</pre></div>
<p>Dieser Handler empf&auml;ngt das Ereignis einer Mausbewegung und zeigt die formatierte Form davon an. Testen, was passiert, wenn es sich &uuml;ber Widgets oder au&szlig;erhalb des Fensters befindet.
</p><p><span id="Invoking_the_Window"></span>
</p>
<h3><span class="mw-headline" id="Das_Fenster_aufrufen">Das Fenster aufrufen</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="n">ExampleNonmodalGuiClass</span><span class="p">()</span>
</pre></div>
<p>Das Aufrufen des Fensters ist ein weiterer Unterschied zum vorherigen Beispiel. Dieses Mal ist nur eine Zeile erforderlich, um die GUI aufzurufen.
</p><p><span id="Complete_Nonmodal_Code_Example"></span>
</p>
<h2><span id="Vollst.C3.A4ndiges_Beispiel_f.C3.BCr_nichtmodalen_Code"></span><span class="mw-headline" id="Vollst&auml;ndiges_Beispiel_f&uuml;r_nichtmodalen_Code">Vollst&auml;ndiges Beispiel f&uuml;r nichtmodalen Code</span></h2>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>

<span class="c1"># UI Class definitions</span>

<span class="k">class</span> <span class="nc">ExampleNonmodalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
<span class="w">	</span><span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleNonmodalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
		<span class="c1"># create our window</span>
		<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Nonmodal Program Window"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="c1"># create Labels</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label5</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"Mouse position:"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label5</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"               "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="c1"># toggle visibility button</span>
		<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
		<span class="c1">#pushButton1.setAutoDefault(False)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="c1"># cancel button</span>
		<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
		<span class="c1"># OK button</span>
		<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
		<span class="c1"># now make the window visible</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
		<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">onPushButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userCancelled</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onOk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userOK</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"X: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">" Y: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
<span class="c1"># Class definitions</span>

<span class="c1"># Function definitions</span>

<span class="c1"># Constant definitions</span>
<span class="k">global</span> <span class="n">userCancelled</span><span class="p">,</span> <span class="n">userOK</span>
<span class="n">userCancelled</span>		<span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span>			<span class="o">=</span> <span class="s2">"OK"</span>

<span class="c1"># code ***********************************************************************************</span>

<span class="n">form</span> <span class="o">=</span> <span class="n">ExampleNonmodalGuiClass</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1">#OS: Mac OS X</span>
<span class="c1">#Word size: 64-bit</span>
<span class="c1">#Version: 0.14.3703 (Git)</span>
<span class="c1">#Branch: releases/FreeCAD-0-14</span>
<span class="c1">#Hash: c6edd47334a3e6f209e493773093db2b9b4f0e40</span>
<span class="c1">#Python version: 2.7.5</span>
<span class="c1">#Qt version: 4.8.6</span>
<span class="c1">#Coin version: 3.1.3</span>
<span class="c1">#SoQt version: 1.5.0</span>
<span class="c1">#OCC version: 6.7.0</span>
</pre></div>
<p><span id="Misc_Additional_Topics"></span>
</p>
<h2><span id="Verschiedene_zus.C3.A4tzliche_Themen"></span><span class="mw-headline" id="Verschiedene_zus&auml;tzliche_Themen">Verschiedene zus&auml;tzliche Themen</span></h2>
<p>Es gibt drei Konzepte f&uuml;r den Bildschirmplatz in einer GUI-Umgebung:
</p>
<ul><li>physischer Platz auf dem Bildschirm</li>
<li>Rahmen</li>
<li>Geometrie</li></ul>
<p>Innerhalb der Software werden alle in Pixeln gemessen. PySide verf&uuml;gt &uuml;ber eine Funktion zur Messung in realen Einheiten, diese sind jedoch unzuverl&auml;ssig, da die Hersteller keine Standards f&uuml;r Pixelgr&ouml;&szlig;e oder Seitenverh&auml;ltnis haben.
</p><p>Der Rahmen hat die Gr&ouml;&szlig;e eines Fensters einschlie&szlig;lich seiner Seitenleisten, der oberen Leiste (m&ouml;glicherweise mit einem Men&uuml; darin) und der unteren Leiste. Die Geometrie ist der Raum innerhalb des Rahmens und daher immer kleiner oder gleich dem Rahmen. Der Rahmen wiederum ist immer kleiner oder gleich der verf&uuml;gbaren Bildschirmgr&ouml;&szlig;e.
</p><p><span id="Available_Screen_Size"></span>
</p>
<h3><span id="Verf.C3.BCgbare_Bildschirmgr.C3.B6.C3.9Fen"></span><span class="mw-headline" id="Verf&uuml;gbare_Bildschirmgr&ouml;&szlig;en">Verf&uuml;gbare Bildschirmgr&ouml;&szlig;en</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># get screen dimensions (Available Screen Size)</span>
<span class="n">screenWidth</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">screenGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="n">screenHeight</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">screenGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
<span class="c1"># get dimensions for available space on screen</span>
<span class="n">availableWidth</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">availableGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="n">availableHeight</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">availableGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</pre></div>
<p>Im Allgemeinen sollte "availableHeight" um die H&ouml;he der Men&uuml;leiste kleiner sein als "screenHeight". Diese vier Werte basieren auf der Hardwareumgebung und variieren von Computer zu Computer. Sie sind nicht von der Gr&ouml;&szlig;e des Anwendungsfensters abh&auml;ngig.
</p><p>(Seit Python 3.9 erscheint bei Ausf&uuml;hrung des obigen Codes folgende Warnung: <b>DeprecationWarning: QDesktopWidget.screenGeometry(int screen) const ist veraltet</b>. Ab Python 3.10 scheint ein Ersatz erforderlich zu sein.)
</p><p><span id="Frame_Size_and_Geometry"></span>
</p>
<h3><span id="Rahmengr.C3.B6.C3.9Fe_und_Geometrie"></span><span class="mw-headline" id="Rahmengr&ouml;&szlig;e_und_Geometrie">Rahmengr&ouml;&szlig;e und Geometrie</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set up a variable to hold the Main Window to save some typing...</span>
<span class="n">mainWin</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Gui</span><span class="o">.</span><span class="n">getMainWindow</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showFullScreen</span><span class="p">()</span> <span class="c1"># no menu bars, every last pixel is given over to FreeCAD</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showMaximized</span><span class="p">()</span> <span class="c1"># show maximised within the screen, window edges and the menu bar will be displayed</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showNormal</span><span class="p">()</span> <span class="c1"># show at the last non-maximised or non-minimised size (and location)</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">)</span> <span class="c1"># specifically set FreeCAD main window's size and location, this will become the new setting for 'showNormal()'</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showMinimized</span><span class="p">()</span> <span class="c1"># FreeCAD will disappear from view after this command...</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>
</pre></div>
<p>Dieselben Befehle k&ouml;nnen in einem vom Benutzer erstellten Fenster ausgef&uuml;hrt werden, die Syntax &auml;ndert sich dabei nicht.
</p><p><br>
</p>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: var(--background-color-neutral-subtle, #fefefe);"><span typeof="mw:File"><a href="../index.php?title=Power_user_hub.png&amp;filetimestamp=20200511213015&amp;.html" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></a></span> <a href="../de/Power_users_hub.html" title="Power users hub/de">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid var(--border-color-base, #aaaaaa); text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: var(--background-color-neutral-subtle, #fefefe);">
<ul><li><b>FreeCAD scripting:</b> <a href="../de/Python.html" title="Python/de">Python</a>, <a href="../de/Introduction_to_Python.html" title="Introduction to Python/de">Introduction to Python</a>, <a href="../de/Python_scripting_tutorial.html" title="Python scripting tutorial/de">Python scripting tutorial</a>, <a href="../de/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/de">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="../de/Builtin_modules.html" title="Builtin modules/de">Builtin modules</a>, <a href="../de/Units.html" title="Units/de">Units</a>, <a href="../de/Quantity.html" title="Quantity/de">Quantity</a></li>
<li><b>Workbenches:</b> <a href="../de/Workbench_creation.html" title="Workbench creation/de">Workbench creation</a>, <a href="../de/Gui_Command.html" title="Gui Command/de">Gui Commands</a>, <a href="../de/Command.html" title="Command/de">Commands</a>, <a href="../de/Installing_more_workbenches.html" title="Installing more workbenches/de">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../de/Mesh_Scripting.html" title="Mesh Scripting/de">Mesh Scripting</a>, <a href="../de/Topological_data_scripting.html" title="Topological data scripting/de">Topological data scripting</a>, <a href="../de/Mesh_to_Part.html" title="Mesh to Part/de">Mesh to Part</a>, <a href="../de/PythonOCC.html" title="PythonOCC/de">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="../de/Scripted_objects.html" title="Scripted objects/de">Scripted objects</a>, <a href="../de/Viewprovider.html" title="Viewprovider/de">Viewproviders</a> <small>(<a href="../de/Custom_icon_in_tree_view.html" title="Custom icon in tree view/de">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../de/Scenegraph.html" title="Scenegraph/de">Coin (Inventor) scenegraph</a>, <a href="../de/Pivy.html" title="Pivy/de">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../de/Interface_creation.html" title="Interface creation/de">Interface creation</a>, <a href="../de/Dialog_creation.html" title="Dialog creation/de">Interface creation completely in Python</a> <small>(<a href="../de/Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/de">1</a>, <a href="../de/Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/de">2</a>, <a href="../de/Dialog_creation_setting_colors.html" title="Dialog creation setting colors/de">3</a>, <a href="../de/Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/de">4</a>, <a href="../de/PySide_usage_snippets.html" title="PySide usage snippets/de">5</a>)</small>, <a href="../de/PySide.html" title="PySide/de">PySide</a>, PySide examples <a href="../de/PySide_Beginner_Examples.html" title="PySide Beginner Examples/de">beginner</a>, <a class="mw-selflink selflink">intermediate</a>, <a href="../de/PySide_Advanced_Examples.html" title="PySide Advanced Examples/de">advanced</a></li>
<li><b>Macros:</b> <a href="../de/Macros.html" title="Macros/de">Macros</a>, <a href="../de/How_to_install_macros.html" title="How to install macros/de">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../de/Embedding_FreeCAD.html" title="Embedding FreeCAD/de">Embedding FreeCAD</a>, <a href="../de/Embedding_FreeCADGui.html" title="Embedding FreeCADGui/de">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="../de/Expressions.html" title="Expressions/de">Expressions</a>, <a href="../de/Code_snippets.html" title="Code snippets/de">Code snippets</a>, <a href="../de/Line_drawing_function.html" title="Line drawing function/de">Line drawing function</a>, <a href="../de/FreeCAD_vector_math_library.html" title="FreeCAD vector math library/de">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="../de/User_hub.html" title="User hub/de">User hub</a>, <a href="../de/Power_users_hub.html" title="Power users hub/de">Power users hub</a>, <a href="../de/Developer_hub.html" title="Developer hub/de">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20251207152803
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.158 seconds
Real time usage: 0.207 seconds
Preprocessor visited node count: 621/1000000
Post&#8208;expand include size: 9483/2097152 bytes
Template argument size: 18041/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 30/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 90021/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   41.906      1 -total
 43.22%   18.111      1 Template:TOCright
 25.01%   10.481     30 Template:Code
 12.06%    5.054      1 Template:Powerdocnavi/de
  4.97%    2.084      1 Template:Navigation_menu_2
  4.60%    1.929      2 Template:KEY
  4.27%    1.789      1 Template:TRUE
  3.77%    1.579      1 Template:FALSE
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:223014-0!canonical and timestamp 20251207152803 and revision id 1712587. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>