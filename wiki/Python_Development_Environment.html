<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Python Development Environment</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="de\Python_Development_Environment.html" lang="de" title="Python Entwicklungsumgebung (100% translated)">Deutsch</a></li>
<li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="en">English</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="fr\Python_Development_Environment.html" lang="fr" title="Environnement de développement pour Python (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="it\Python_Development_Environment.html" lang="it" title="Ambiente di sviluppo Python (58% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="pl\Python_Development_Environment.html" lang="pl" title="Środowisko programistyczne Python (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="ru\Python_Development_Environment.html" lang="ru" title="Среда разработки Python (2% translated)">русский</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#A_Simplistic_Development_Environment_for_Python_within_FreeCAD"><span class="tocnumber">1</span> <span class="toctext">A Simplistic Development Environment for Python within FreeCAD</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Background"><span class="tocnumber">2</span> <span class="toctext">Background</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Editors"><span class="tocnumber">3</span> <span class="toctext">Editors</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Macro_Source_Code_Directories"><span class="tocnumber">3.1</span> <span class="toctext">Macro Source Code Directories</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Debugger"><span class="tocnumber">4</span> <span class="toctext">Debugger</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Breakpoints"><span class="tocnumber">4.1</span> <span class="toctext">Breakpoints</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Variable_Inspection"><span class="tocnumber">4.2</span> <span class="toctext">Variable Inspection</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Usage"><span class="tocnumber">4.3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Variable_Watcher"><span class="tocnumber">4.4</span> <span class="toctext">Variable Watcher</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Name_Space_Clash"><span class="tocnumber">4.5</span> <span class="toctext">Name Space Clash</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Coding_Framework"><span class="tocnumber">5</span> <span class="toctext">Coding Framework</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Putting_It_All_Together"><span class="tocnumber">6</span> <span class="toctext">Putting It All Together</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Miscellaneous_Links"><span class="tocnumber">7</span> <span class="toctext">Miscellaneous Links</span></a></li>
</ul>
</div>
</div>
<h2><span class="mw-headline" id="A_Simplistic_Development_Environment_for_Python_within_FreeCAD">A Simplistic Development Environment for Python within FreeCAD</span></h2>
<p><a class="extiw" href="http://en.wikipedia.org/wiki/Python_(programming_language)" title="wikipedia:Python (programming language)">Python</a> is a programming environment which has been incorporated into the <a class="external text" href="https://www.freecadweb.org/" rel="nofollow">FreeCAD</a> system. Using Python many operations offered by FreeCAD are available for programmatic access. Python programs for FreeCAD are usually developed to be either run on the Python console or through the Macro facility of FreeCAD (see <a href="How_to_install_macros.html" title="How to install macros">How to install macros</a>).
</p><p>There are numerous tools available for program development in Python. The complicating factors for developing Python to use with FreeCAD are twofold: first the tools do not have any support for the numerous data structures and access points of FreeCAD; secondly they do not work "within FreeCAD". This means that you can use them to develop code outside of FreeCAD and not be able to test in the target environment; or you can develop Python in the target environment (i.e. the FreeCAD environment) but not have any support from the development tools. Neither of these is an acceptable solution.
</p>
<h2><span class="mw-headline" id="Background">Background</span></h2>
<p>Modern software development at the commercial standard is usually done using a set of tools generically referred to as <a class="extiw" href="http://en.wikipedia.org/wiki/Integrated_development_environment" title="wikipedia:Integrated development environment">'IDE'</a>. Typically these tools include the following 3:
</p>
<ul><li>source code editor</li>
<li>build automation tools</li>
<li>debugger</li></ul>
<p>which are standard while the following are present in some IDEs but not in others:
</p>
<ul><li>intelligent code completion</li>
<li>integrated compiler, interpreter, or both</li>
<li>version control system</li>
<li>Graphical User Interface (GUI) construction</li>
<li>class browser</li>
<li>object browser</li>
<li>class hierarchy diagram</li></ul>
<p>A summary of the status of these tools within FreeCAD is ('N/A' meaning 'Not Available'):
</p>
<table border="1" style="width: 100%">
<tbody><tr>
<td>source code editor<br/>
</td>
<td>a variety of editors are available for the platforms supported by FreeCAD, discussed below<br/>
</td>
</tr>
<tr>
<td>build automation tools<br/>
</td>
<td>N/A<br/>
</td>
</tr>
<tr>
<td>debugger<br/>
</td>
<td>planned but not available yet, there are some work-arounds discussed below<br/>
</td>
</tr>
<tr>
<td>intelligent code completion<br/>
</td>
<td>there is some available through the Python console but that is all<br/>
</td>
</tr>
<tr>
<td>integrated compiler, interpreter, or both<br/>
</td>
<td>the Python compiler is integrated with the Python console but not with the editors<br/>
</td>
</tr>
<tr>
<td>version control system<br/>
</td>
<td>N/A - there is only one version of the file<br/>
</td>
</tr>
<tr>
<td>Graphical User Interface (GUI) construction<br/>
</td>
<td>what is available is basic and based on copy/paste of code (see <a href="PySide.html" title="PySide">PySide</a>)<br/>
</td>
</tr>
<tr>
<td>class browser<br/>
</td>
<td>N/A<br/>
</td>
</tr>
<tr>
<td>object browser<br/>
</td>
<td>N/A<br/>
</td>
</tr>
<tr>
<td>class hierarchy diagram<br/>
</td>
<td>N/A<br/>
</td>
</tr>
</tbody></table>
<p>Many tools exist to support the above function for Python programming but unfortunately they do not integrate with the FreeCAD development environment.
</p><p>A list of IDEs for Python is located at <a class="external text" href="https://wiki.python.org/moin/IntegratedDevelopmentEnvironments" rel="nofollow">Integrated Development Environments for Python</a>.
</p>
<h2><span class="mw-headline" id="Editors">Editors</span></h2>
<p>There is an editor for Python as part of FreeCAD, it is started by clicking the Edit button on the Macro -&gt; <a href="Std_DlgMacroExecute.html" title="Std DlgMacroExecute">Macros...</a>. If you want to use a 3rd party editor which takes advantage of your platform then there are various Python editors available, for numerous platforms and with a variety of level of functionality. One advantage of using an external editor is that the display area of FreeCAD can be used for output (both graphic and textual to the console) while the source code is displayed in a different application. A list of editors for Python for a variety of platforms is available at <a class="external text" href="https://wiki.python.org/moin/PythonEditors" rel="nofollow">Python Editors</a>
</p><p><strong>Note</strong>: For the Macintosh the text editor <a class="external text" href="http://www.barebones.com/products/textwrangler/" rel="nofollow">TextWrangler</a> works well. It has code highlighting and excellent search facilities. There are options to execute jobs in Python but of course they do not work with the FreeCAD environment.
</p>
<h3><span class="mw-headline" id="Macro_Source_Code_Directories">Macro Source Code Directories</span></h3>
<p>There are two directories used by FreeCAD, by default they are the same directory but they are pointed to by different callable point in FreeCAD:
</p>
<ul><li>FreeCAD.ConfigGet("UserAppData")</li>
<li>FreeCAD.ParamGet('User parameter:BaseApp/Preferences/Macro').GetString('MacroPath')</li></ul>
<p>The first one "UserAppData" points to a directory where things like configuration files or other files intended for the user but not to be edited by the user may be stored.
</p><p>The second one "MacroPath" points to a directory where the Python files which are macro files for FreeCAD are stored. To mark a Python file as a macro file for FreeCAD, the file extension is changed from ".py" to ".FCMacro".
</p><p>By default these two directories are the same location but this is not necessary. It might be convenient to alter the location for the macro files (*.FCMacro) to a different location.
</p><p>Editing files located in the "MacroPath" is straight forward, the text editor will accommodate this. For ease of use of FreeCAD Macro files, it is advisable to keep all the macro files in the directory pointed to by "MacroPath".
</p><p>To alter the "MacroPath" directory, use Tools-&gt;Edit Parameters and then select Preferences/Macro/MacroPath where the text may be double-clicked and edited. Alternatively "MacroPath" can be altered by the code:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ParamGet</span><span class="p">(</span><span class="s1">'User parameter:BaseApp/Preferences/Macro'</span><span class="p">)</span><span class="o">.</span><span class="n">SetString</span><span class="p">(</span><span class="s1">'MacroPath'</span><span class="p">,</span><span class="s1">'/me/myself/and/I'</span><span class="p">)</span>
</pre></div>
<h2><span class="mw-headline" id="Debugger">Debugger</span></h2>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;"><b>A debugger is planned for FreeCAD and these steps are a work-around until it is available. See github.com/mumme74/FreeCAD/tree/editor_fixes</b></div>
<p><a class="external text" href="https://en.wikipedia.org/wiki/Debugger" rel="nofollow">Debuggers</a> typically provide two main features (among others):
</p>
<ul><li>breakpoints in the source code</li>
<li>variable inspection</li></ul>
<p><b>Breakpoints</b> are 'traps' that are placed in the code, if the execution path through the code encounters one of these breakpoints, then execution is halted or suspended. Note that execution is not stopped as when a program is stopped all memory resident information such as variables is lost. While the program is suspended the contents of variables can be inspected and sometimes altered (which depends on the ability of the debugger). Generally the source code can not be changed although some environments do support this. When ready, the execution of the source code can be resumed. Numerous breakpoints can be placed in the code and numerous suspensions through the breakpoints may occur. The purpose of the debugger is to make sure that the execution with the breakpoints and suspensions is functionally identical to execution without breakpoints.
</p><p><b>Variable Inspections</b> are available during the suspension of execution caused by a breakpoint. Generally the contents of variables can be viewed, many debuggers also support the editing of the contents before execution resumes.
</p><p>Although a fully functioned debugger is planned for FreeCAD it is not available as of yet. This section will detail some work-arounds for the interim until the debugger is released.
</p>
<h3><span class="mw-headline" id="Breakpoints">Breakpoints</span></h3>
<p>Implementing breakpoints involves a supervisory level of code which administers the execution of the code under development. Such a level of code for Python development within FreeCAD is not presently available. As a weak substitute, the following code is an option. Instead of suspending the execution the code will halt execution completely by dividing a number by zero. This really is a very weak option compared to a proper debugger breakpoint, also this option is only of use when used alongside the routine shown in the next section 'Variable Inspection'.
</p><p><b>Breakpoint Code</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">breakpoint</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
	<span class="c1"># this routine will print an optional parameter on the console and then stop execution by diving by zero</span>
	<span class="c1"># e.g. breakpoint()</span>
	<span class="c1"># e.g. breakpoint("summation module")</span>
	<span class="c1">#</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
		<span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="s1">'Breakpoint: '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
	<span class="n">hereWeStop</span> <span class="o">=</span> <span class="mi">12</span><span class="o">/</span><span class="mi">0</span>
</pre></div>
<p><b>Console Traceback</b>
</p><p>When a program fails during execution, Python generates what is known as a traceback which lists the order of program execution (i.e. which program called which program in which order).
</p><p>For the code sample
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">breakpoint</span><span class="p">(</span><span class="s1">'amalgamation routine'</span><span class="p">)</span>
</pre></div>
<p>we get the following traceback:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Breakpoint</span><span class="p">:</span> <span class="n">amalgamation</span> <span class="n">routine</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"/Users/wylbur/Library/Preferences/FreeCAD/testStub.FCMacro"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">40</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">breakpoint</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">"/Users/wylbur/Library/Preferences/FreeCAD/myNewMacro.FCMacro"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">28</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">breakpoint</span>
    <span class="n">hereWeStop</span> <span class="o">=</span> <span class="mi">12</span><span class="o">/</span><span class="mi">0</span>
<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">integer</span> <span class="n">division</span> <span class="ow">or</span> <span class="n">modulo</span> <span class="n">by</span> <span class="n">zero</span>
</pre></div>
<p>Reading the traceback we can determine that:
</p>
<ul><li>a message of 'Breakpoint: amalgamation routine' was sent by the breakpoint which has the string 'amalgamation routine'</li>
<li>the execution error occurred at line 28 of module 'myNewMacro'</li>
<li>routine 'myNewMacro' was called from line 40 in the module 'testStub'</li></ul>
<p>Assuming the string passed to the breakpoint call is meaningful then the location of the breakpoint can easily be determined. Note that is a complex system the traceback may have tens or even hundreds of entries in it.
</p><p>To become productive with these breakpoints, continue on to the next section.
</p>
<h3><span class="mw-headline" id="Variable_Inspection">Variable Inspection</span></h3>
<p>The second main feature of a debugger is to examine and possibly alter the contents of variables. Once again, until the FreeCAD debugger for Python is ready we have to depend on work-arounds.
</p><p>A feature of the FreeCAD system is the provision of global variables. These variables that are created by the Python code and exist in FreeCAD's memory until the user quits from FreeCAD. The form of these variables is:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">myVariable</span> <span class="o">=</span> <span class="mi">123</span>
</pre></div>
<p>The statement creates a Python variable in the FreeCAD memory which is fully accessible to Python code, in fact it behaves identically to a normal Python variable. Yet after the Python code finishes running, no matter if it is running as a macro or through the console, there will be a variable 'FreeCAD.myVariable' remaining in memory with the value of 123. Entering:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">myVariable</span>
<span class="mi">123</span>
</pre></div>
<p>will produce the contents of the variable on the console. This value will remain in FreeCAD until either it is changed or the user Quits from FreeCAD. This means the value is present and available for a subsequent Python program to read from. At any time it can be checked from the console by typing it's name. So a program called 'Program A':
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># program A</span>
<span class="n">myListVariable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">myListVariable</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="n">myListVariable</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'abc'</span><span class="p">)</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">myVariable</span> <span class="o">=</span> <span class="n">myListVariable</span>
</pre></div>
<p>can run and load values into the global variable. Later a second program called 'Program B' can run and retrieve the value:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">myOtherVariable</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">myVariable</span>
<span class="c1"># further calculations involving myOtherVariable</span>
</pre></div>
<p>Presumably 'Program B' then goes on to make calculations involving the values left in FreeCAD.myVariable. At any time the user can type on the console to inspect the variable contents:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">myVariable</span>
<span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">'abc'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>An important fact to be aware of with FreeCAD global variables is that they exist in memory and are lost when the program is Quit from. They are not saved with documents but only exist in memory.
</p>
<h3><span class="mw-headline" id="Usage">Usage</span></h3>
<p>This brings us to a point where we can put the two steps together and use them to trace down errors in code. This is a bit cumbersome to use but is only the option until the FreeCAD debugger is ready.
</p><p>It's probably easiest to present through an example, say the following program is being debugged:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">monthCounter</span><span class="p">():</span>
	<span class="c1"># program to calculate the number of months in the year</span>
	<span class="n">signsInTheZodiac</span> <span class="o">=</span> <span class="mi">12</span>
	<span class="n">numberOfSeasons</span> <span class="o">=</span> <span class="mi">3</span>
	<span class="n">numberOfCompassPoints</span> <span class="o">=</span> <span class="mi">5</span>
	<span class="c1">#</span>
	<span class="n">temporaryVariable1</span> <span class="o">=</span> <span class="n">signsInTheZodiac</span> <span class="o">+</span> <span class="n">numberOfSeasons</span>
	<span class="n">numberOfMonths</span> <span class="o">=</span> <span class="n">temporaryVariable1</span> <span class="o">-</span> <span class="n">numberOfCompassPoints</span>
	<span class="c1">#</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="n">numberOfMonths</span><span class="p">)</span>
</pre></div>
<p>Execution of the program on the console yields:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">monthCounter</span><span class="p">()</span>
<span class="mi">10</span>
</pre></div>
<p>which is not what we expected! Assuming we are unable to see the errors we can use our unsophisticated breakpoint and variable examiner as follows. We can insert a line to copy the value of the variable we are wondering about to a global variable, then we can place a breakpoint to halt execution there:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">monthCounter</span><span class="p">():</span>
	<span class="c1"># program to calculate the number of months in the year</span>
	<span class="n">signsInTheZodiac</span> <span class="o">=</span> <span class="mi">12</span>
	<span class="n">numberOfSeasons</span> <span class="o">=</span> <span class="mi">3</span>
	<span class="n">numberOfCompassPoints</span> <span class="o">=</span> <span class="mi">5</span>
	<span class="c1">#</span>
	<span class="n">temporaryVariable1</span> <span class="o">=</span> <span class="n">signsInTheZodiac</span> <span class="o">+</span> <span class="n">numberOfSeasons</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable</span> <span class="o">=</span> <span class="n">temporaryVariable1</span> <span class="c1"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; first inserted line</span>
	<span class="nb">breakpoint</span><span class="p">(</span><span class="s1">'is this assignment faulty?'</span><span class="p">)</span> <span class="c1"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; second inserted line</span>
	<span class="n">numberOfMonths</span> <span class="o">=</span> <span class="n">temporaryVariable1</span> <span class="o">-</span> <span class="n">numberOfCompassPoints</span>
	<span class="c1">#</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="n">numberOfMonths</span><span class="p">)</span>
</pre></div>
<p>Now when we run the program we get:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">monthCounter</span><span class="p">()</span>
<span class="n">Breakpoint</span><span class="p">:</span> <span class="ow">is</span> <span class="n">this</span> <span class="n">assignment</span> <span class="n">faulty</span><span class="err">?</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"&lt;input&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s2">"&lt;input&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">monthCounter</span>
  <span class="n">File</span> <span class="s2">"&lt;input&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5</span><span class="p">,</span> <span class="ow">in</span> <span class="nb">breakpoint</span>
<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">integer</span> <span class="n">division</span> <span class="ow">or</span> <span class="n">modulo</span> <span class="n">by</span> <span class="n">zero</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>Probably things don't look so good, but what we can now do is inspect the value of the Python variable 'temporaryVariable1' as we assigned it's value to the global variable 'FreeCAD.saveMyVariable':
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable</span>
<span class="mi">15</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>Remembering that the variable 'FreeCAD.saveMyVariable' holds the value of the Python variable 'temporaryVariable1' we can now determine the error in the value and start tracing back to determine where the error came from. When we are looking at 'FreeCAD.saveMyVariable' it is important to realise that the variable 'temporaryVariable1' is no longer available - it has been garbage collected away by the Python system.
</p><p>Once the error has been located in the statement
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">numberOfSeasons</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
<p>and corrected to:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">numberOfSeasons</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
<p>Then we can run the program again, and get the value of '11' which is still not right. We can make more assignments to FreeCAD global variables, have multiple breakpoints (although the first one encountered will stop execution)
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">monthCounter</span><span class="p">():</span>
	<span class="c1"># program to calculate the number of months in the year</span>
	<span class="n">signsInTheZodiac</span> <span class="o">=</span> <span class="mi">12</span>
	<span class="n">numberOfSeasons</span> <span class="o">=</span> <span class="mi">4</span>
	<span class="n">numberOfCompassPoints</span> <span class="o">=</span> <span class="mi">5</span>
	<span class="c1">#</span>
	<span class="n">temporaryVariable1</span> <span class="o">=</span> <span class="n">signsInTheZodiac</span> <span class="o">+</span> <span class="n">numberOfSeasons</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable1</span> <span class="o">=</span> <span class="n">temporaryVariable1</span>
	<span class="c1">#breakpoint('first assignment')</span>
	<span class="n">numberOfMonths</span> <span class="o">=</span> <span class="n">temporaryVariable1</span> <span class="o">-</span> <span class="n">numberOfCompassPoints</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable2</span> <span class="o">=</span> <span class="n">numberOfMonths</span>
	<span class="nb">breakpoint</span><span class="p">(</span><span class="s1">'second assignment'</span><span class="p">)</span>
	<span class="c1">#</span>
	<span class="n">FreeCAD</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">PrintMessage</span><span class="p">(</span><span class="n">numberOfMonths</span><span class="p">)</span>
</pre></div>
<p>We now have two breakpoints (although one is commented out) and two FreeCAD global variables in use. There is no practical limit to the global variables available from FreeCAD so there is no need to economise unnecessarily. We can now produce the following on the console:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable1</span>
<span class="mi">10</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">saveMyVariable2</span>
<span class="mi">11</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>Some points about the use of the FreeCAD global variables:
</p>
<ul><li>Python treats these variables identically to any other Python variable</li>
<li>these variables may hold any Python data type - anything a regular Python variable would hold</li>
<li>these variables may be used to 'bring out' the contents of a Python variable so we can see them</li>
<li>also these variables may be used to 'supply' values to a Python variable by setting their value from the console prior to running a routine, or setting it in a previous Python program</li>
<li>these variables may be used to pass data between two programs that run at different points in time</li>
<li>(to repeat) these variables are only for the duration of the FreeCAD session, once the user Quits from FreeCAD then the variables are lost</li></ul>
<h3><span class="mw-headline" id="Variable_Watcher">Variable Watcher</span></h3>
<p>There is a utility <a href="Macro_Global_Variable_Watcher.html" title="Macro Global Variable Watcher">Global Variable Watcher</a> to help monitor the global variables of FreeCAD. It can display the contents of a global variable either on request or on a timed basis.
</p>
<h3><span class="mw-headline" id="Name_Space_Clash">Name Space Clash</span></h3>
<p>One thing to be aware of is as there is no management of global variable names by FreeCAD so there is the possibility of changing a variable from the system or another piece of code. Consequently it is a good idea to prefix your variables with something unique such as the routine name. For example to use a variablefrom a routine called 'alpha1' the global name could be 'FreeCAD.alpha1MyVariable'.
</p>
<h2><span class="mw-headline" id="Coding_Framework">Coding Framework</span></h2>
<p>When developing small pieces of Python code in FreeCAD it may be sufficient to use the Python console. However as the number of lines of code grows it makes more sense to store them in a file. Python can be in any file ending with the extension ".py", however FreeCAD also provides a mechanism called Macro for storing such programs and interacting with them (e.g. editing, running). Python in regular '.py' files may only run from the Python console while python in macro file '.FCMacro' can be run from the FreeCAD interface for executing macros. One downside with the FreeCAD menu interface is it is menu based with a control window and potentially causes some clutter on the on-screen GUI.
</p><p>An easier approach is to take the Python code and instead of starting it from the FreeCAD Macro menu, start it from a toolbar. A Python routine linked to a button on a toolbar may be executed by one click. Also as the toolbars are floating windows they do not clutter the on-screen display. In fact if the FreeCAD window is less then the physical size of the screen the toolbar may be left to float outside of the FreeCAD window. This is beneficial when screen snapshots are required of the FreeCAD display. Also the toolbar can be much smaller than the macro control window displayed by the Macro menu of FreeCAD.
</p><p>Connecting a macro to a button on a toolbar is covered in <a href="How_to_install_macros.html" title="How to install macros">How to Install Macros</a> and <a href="Customize_Toolbars.html" title="Customize Toolbars">How to Customise a Toolbar</a>. It can take a number of minutes to connect a macro to button on toolbar, select an icon etc. This is not always required as sometimes you simply want to quickly flesh out a piece of code which will then be integrated in some other code. For this situation a Test Stub can be beneficial. There is no real definition for what a test stub would entail, it really depends on the person and the application area. An example is shown below:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">#</span>
<span class="c1">#			TEST</span>
<span class="c1">#			TEST stub to clip any code onto...</span>
<span class="c1">#			TEST</span>
<span class="c1">#</span>
<span class="c1">################################</span>
<span class="c1"># routine to &lt;description goes here&gt;</span>
<span class="sd">"""</span>
<span class="sd">script does &lt;long winded description goes here&gt;</span>
<span class="sd">"""</span>

<span class="c1"># import statements</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Base</span>
<span class="kn">import</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">collections</span>
<span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>

<span class="c1"># UI Class definitions</span>

<span class="c1"># Class definitions</span>

<span class="c1"># Functions definitions</span>

<span class="c1"># Constant definitions</span>

<span class="c1"># code ***********************************************************************************</span>

<span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="s2">""</span><span class="p">,</span><span class="s2">"Test Stub"</span><span class="p">)</span>

<span class="c1">##########################################################################################</span>
<span class="c1">##########################################################################################</span>
<span class="c1">##########################################################################################</span>
</pre></div>
<p>This test stub also serves as a template for code with locations defined for the different aspects of a large Python program. When executed the test stub program simply generates a message showing it's name and finishes. In using a test stub, any main line code written is placed at the very end of the file with code for class definition, functions etc. placed in the previous sections. The template can easily be altered to match the situation. Obviously for a program of 5 lines there is no need for such an amount of documentation.
</p><p>By keeping a button permanently on a toolbar and linking that button to the test stub, there is always an area to write code and execute it immediately. The execution will be independent of the Python console. Also the execution can be independent of the screen GUI. Output from the program under development will appear as it should on the screen without any other artifacts from the programming environment. The Python console can be hidden to increase display area or used for any other purpose if needed. When execution is handled by the button on the toolbar the console is not required.
</p><p>When the code is finished then is can simply be copied/pasted over to another file and the test stub left empty until the next time it is needed.
</p><p>Multiple pieces of code can be developed using the same test stub with some extra code for providing multiple buttons which is located at <a href="PySide_Beginner_Examples.html#More_Than_2_Buttons" title="PySide Beginner Examples">PySide Beginner Examples - More Than 2 Buttons</a>.
</p><p><b>More PySide Support</b>
</p><p>For more support using the PySide GUI there is the page <a href="PySide.html" title="PySide">PySide</a>
</p><p><b>More Python Programming Support</b>
</p><p>For more assistance with Python coding, there is a macro written to aid in developing Python code, it is located at <a href="Macro_Python_Assistant_Window.html" title="Macro Python Assistant Window">Python Assistant Window</a>.
</p>
<h2><span class="mw-headline" id="Putting_It_All_Together">Putting It All Together</span></h2>
<p>Screen management can be a challenge when developing code that has complex and detailed graphical output like FreeCAD does. The following system works well:
</p>
<ul><li>FreeCAD for console, report, GUI display</li>
<li>toolbar to invoke code being developed</li>
<li>external editor to modify code</li>
<li>PAW (Python Assistant Window) to aid Python code generation</li></ul>
<p><b>Screen Management</b>
</p><p>With the test stub operated from a toolbar, and an external editor used, the window layout on the screen will be something like:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="File/PythonDevelopmentEnvironment.jpg"><img decoding="async" height="400" src="File/PythonDevelopmentEnvironment.jpg" width="500"/></a></span>
</p><p>"tree" in the diagram refers to the Combi or Tree browsers, the Python console and Report view are combined into the lower window and selectable by buttons. By selective use of the tools the development stream can be optimised, the above is only one idea. Tailoring is done on a personal basis.
</p>
<h2><span class="mw-headline" id="Miscellaneous_Links">Miscellaneous Links</span></h2>
<p>Some other links about IDEs for Python which might be of interest are:
</p>
<ul><li><a class="external text" href="http://www.pythoncentral.io/comparison-of-python-ides-development/" rel="nofollow">Comparison of Python IDEs for Development</a></li>
<li><a class="external text" href="http://pedrokroger.net/choosing-best-python-ide/" rel="nofollow">Choosing the Best Python IDE</a></li>
<li><a class="external text" href="http://docs.python-guide.org/en/latest/dev/env/" rel="nofollow">Your Development Environment</a></li>
<li><a class="external text" href="http://www.jetbrains.com/pycharm/" rel="nofollow">PyCharm Community Edition IDE</a></li>
<li><a href="Pyzo.html" title="Pyzo">Using Pyzo Python IDE with FreeCAD</a></li></ul>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="File/User_hub.png"><img decoding="async" height="24" src="File/User_hub.png" width="24"/></a></span> <a href="User_hub.html" title="User hub">User documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b><a href="Getting_started.html" title="Getting started">Getting started</a></b></li>
<li><b>Installation:</b> <a href="Download.html" title="Download">Download</a>, <a href="Installing_on_Windows.html" title="Installing on Windows">Windows</a>, <a href="Installing_on_Linux.html" title="Installing on Linux">Linux</a>, <a href="Installing_on_Mac.html" title="Installing on Mac">Mac</a>, <a href="Installing_additional_components.html" title="Installing additional components">Additional components</a>, <a href="Compile_on_Docker.html" title="Compile on Docker">Docker</a>, <a href="AppImage.html" title="AppImage">AppImage</a>, <a href="Ubuntu_Snap.html" title="Ubuntu Snap">Ubuntu Snap</a></li>
<li><b>Basics:</b> <a href="About_FreeCAD.html" title="About FreeCAD">About FreeCAD</a>, <a href="Interface.html" title="Interface">Interface</a>, <a href="Mouse_navigation.html" title="Mouse navigation">Mouse navigation</a>, <a href="Selection_methods.html" title="Selection methods">Selection methods</a>, <a href="Object_name.html" title="Object name">Object name</a>, <a href="Preferences_Editor.html" title="Preferences Editor">Preferences</a>, <a href="Workbenches.html" title="Workbenches">Workbenches</a>, <a href="Document_structure.html" title="Document structure">Document structure</a>, <a href="Property.html" title="Property">Properties</a>, <a href="Help_FreeCAD.html" title="Help FreeCAD">Help FreeCAD</a>, <a href="Donate.html" title="Donate">Donate</a></li></ul>
<hr/>
<ul><li><b>Help:</b> <a href="Tutorials.html" title="Tutorials">Tutorials</a>, <a href="Video_tutorials.html" title="Video tutorials">Video tutorials</a></li>
<li><b><a href="Workbenches.html" title="Workbenches">Workbenches</a>:</b> <a href="Std_Base.html" title="Std Base">Std Base</a>, <a href="Assembly_Workbench.html" title="Assembly Workbench">Assembly</a>, <a href="BIM_Workbench.html" title="BIM Workbench">BIM</a>, <a href="CAM_Workbench.html" title="CAM Workbench">CAM</a>, <a href="Draft_Workbench.html" title="Draft Workbench">Draft</a>, <a href="FEM_Workbench.html" title="FEM Workbench">FEM</a>, <a href="Inspection_Workbench.html" title="Inspection Workbench">Inspection</a>, <a href="Material_Workbench.html" title="Material Workbench">Material</a>, <a href="Mesh_Workbench.html" title="Mesh Workbench">Mesh</a>, <a href="OpenSCAD_Workbench.html" title="OpenSCAD Workbench">OpenSCAD</a>, <a href="Part_Workbench.html" title="Part Workbench">Part</a>, <a href="PartDesign_Workbench.html" title="PartDesign Workbench">PartDesign</a>, <a href="Points_Workbench.html" title="Points Workbench">Points</a>, <a href="Reverse_Engineering_Workbench.html" title="Reverse Engineering Workbench">Reverse Engineering</a>, <a href="Robot_Workbench.html" title="Robot Workbench">Robot</a>, <a href="Sketcher_Workbench.html" title="Sketcher Workbench">Sketcher</a>, <a href="Spreadsheet_Workbench.html" title="Spreadsheet Workbench">Spreadsheet</a>, <a href="Surface_Workbench.html" title="Surface Workbench">Surface</a>, <a href="TechDraw_Workbench.html" title="TechDraw Workbench">TechDraw</a>, <a href="Testing.html" title="Testing">Test Framework</a></li></ul>
<hr/>
<ul><li><b><a href="Addon.html" title="Addon">Addons</a>:</b> <a href="Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>, <a href="External_workbenches.html" title="External workbenches">External workbenches</a>, <a href="Scripting_and_macros.html" title="Scripting and macros">Scripting and macros</a></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="User_hub.html" title="User hub">User hub</a>, <a href="Power_users_hub.html" title="Power users hub">Power users hub</a>, <a href="Developer_hub.html" title="Developer hub">Developer hub</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214203249
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.082 seconds
Real time usage: 0.152 seconds
Preprocessor visited node count: 532/1000000
Post‐expand include size: 7012/2097152 bytes
Template argument size: 5478/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 19/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 17584/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.107      1 -total
 59.29%    7.772     19 Template:Code
 21.07%    2.762      1 Template:Userdocnavi
 15.35%    2.012      1 Template:Navigation_menu_2
  6.62%    0.868      1 Template:TOCright
  3.61%    0.473      1 Template:VeryImportantMessage
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:57836-0!canonical and timestamp 20241214203249 and revision id 1302180. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
