<link href="site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Macro findConfigFiles</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="de/Macro_findConfigFiles.html" class="mw-pt-progress mw-pt-progress--low" title="Makro findeKonfigurationsDateien (36% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="en" dir="ltr">English</span></li>
<li><a href="fr/Macro_findConfigFiles.html" class="mw-pt-progress mw-pt-progress--complete" title="Macro findConfigFiles (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="it/Macro_findConfigFiles.html" class="mw-pt-progress mw-pt-progress--complete" title="Macro findConfigFiles (100% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="pl/Macro_findConfigFiles.html" class="mw-pt-progress mw-pt-progress--stub" title="Makro findConfigFiles (9% translated)" lang="pl" dir="ltr">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" width="100%" style="float: right; width: 230px; margin-left: 10px;">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a href="index.php?title=Macro_findConfigFiles.png&amp;filetimestamp=20190713142505&amp;.html" class="mw-file-description"><img src="File/Macro_findConfigFiles.png" decoding="async" width="32" height="32"></a></span><span> </span>
findConfigFiles
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Use this macro to find your user setting configuration files, that is,<br><b>system.cfg</b><br><b>user.cfg</b><br>These files can be renamed in order to reset FreeCAD's settings back to their original defaults. This can sometimes fix problems you are having with FreeCAD.<br>You should exit FreeCAD before renaming the files, and then open FreeCAD again afterwards. If renaming the files did not solve the issue you were having you can delete the new files FreeCAD created and rename the original files back to their original names in order to restore your previous settings. You can also safely delete the renamed files once you are certain you no longer need or want them, but it is recommended to rename them instead of deleting until you are certain they are no longer needed.<br>Note: The macro does not rename the files or make any changes to your settings. It merely finds the location of these files, copies that location to the clipboard, and (attempts to) open the folder containing these files on your computer using the default file browser.<br><br>Macro version: 2022.03.15<br>Last modified: 2022-03-15<br>FreeCAD version: All<br>Download: <a rel="nofollow" class="external text" href="https://wiki.freecad.org/images/b/b5/Macro_findConfigFiles.png">ToolBar Icon</a><br>Author: TheMarkster<br>
</td></tr>
<tr>
<th class="ctOdd">Author
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="index.php?title=User;TheMarkster&amp;action=edit&amp;redlink=1.html" class="new" title="User:TheMarkster (page does not exist)">TheMarkster</a>
</td></tr>
<tr>
<th class="ctOdd">Download
</th></tr>
<tr>
<td class="ctEven macro-download"><a rel="nofollow" class="external text" href="https://wiki.freecad.org/images/b/b5/Macro_findConfigFiles.png">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Links
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="Macros_recipes.html" title="Macros recipes">Macros recipes</a><br><a href="How_to_install_macros.html" title="How to install macros">How to install macros</a><br><a href="Customize_Toolbars.html" title="Customize Toolbars">How to customize toolbars</a>
</td></tr>
<tr>
<th class="ctOdd">Macro Version
</th></tr>
<tr>
<td class="ctEven macro-version">2022.03.15
</td></tr>
<tr>
<th class="ctOdd">Date last modified
</th></tr>
<tr>
<td class="ctEven macro-date">2022-03-15
</td></tr>
<tr>
<th class="ctOdd">FreeCAD Version(s)
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">All
</td></tr>
<tr>
<th class="ctOdd">Default shortcut
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">See also
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br><meta property="mw:PageProp/toc">
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Use this macro to find your user setting configuration files, that is,
</p>
<ul><li><code>system.cfg</code></li>
<li><code>user.cfg</code></li></ul>
<p>These files can be renamed in order to reset FreeCAD's settings back to their original defaults.  This can sometimes fix problems you are having with FreeCAD.
</p><p>You should exit FreeCAD before renaming the files, and then open FreeCAD again afterwards.  If renaming the files did not solve the issue you were having you can delete the new files FreeCAD created and rename the original files back to their original names in order to restore your previous settings.  You can also safely delete the renamed files once you are certain you no longer need or want them, but it is recommended to rename them instead of deleting until you are certain they are no longer needed.
</p><p>Note: The macro does not rename the files or make any changes to your settings.  It merely finds the location of these files, copies that location to the clipboard, and (attempts to) open the folder containing these files on your computer using the default file browser.
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>ToolBar icon <span class="mw-default-size" typeof="mw:File"><a href="index.php?title=Macro_findConfigFiles.png&amp;filetimestamp=20190713142505&amp;.html" class="mw-file-description"><img src="File/Macro_findConfigFiles.png" decoding="async" width="64" height="64"></a></span>
</p><p><b>Macro_findConfigFiles.FCMacro</b>
</p>
<pre># -*- coding: utf-8 -*-
import FreeCAD
import subprocess, os 
from PySide import QtCore,QtGui
import platform 
__title__ = "findConfigFiles"
__author__ = "TheMarkster"
__url__ = "https://wiki.freecad.org/Macro_findConfigFiles"
__Wiki__ = "https://wiki.freecad.org/index.php?title=Macro_findConfigFiles"
__date__ = "2022.03.15" 
__version__ = __date__


"""A macro to help with user configuration files --&lt;TheMarkster&gt;"""

clipboard = QtGui.QApplication.clipboard()
sys = platform.system()
userFolder = App.getUserConfigDir() if hasattr(App,"getUserConfigDir") else App.getUserAppDataDir()

msgBox = QtGui.QMessageBox()
msgBox.setWindowTitle('findConfigFiles macro')
msgBox.setTextFormat(QtCore.Qt.RichText)
#msgBox.setStandardButtons(QtGui.QMessageBox.Ok.__or__(QtGui.QMessageBox.Cancel))
#__or__() is deprecated in python 3.8 and the pipe symbol interferes with addon manager, so add buttons separately
msgBox.addButton(QtGui.QMessageBox.Ok)
msgBox.addButton(QtGui.QMessageBox.Cancel)
msgBox.addButton("Copy to Clipboard and Open",QtGui.QMessageBox.ApplyRole)

#HTML tags are part of the source -- do not edit
#thanks to user C4e for help with the paragraph formatting
msg = """
 These files are located here on your system:
 &lt;p&gt;
    &lt;b&gt;&lt;font color = 'blue'&gt;""" + userFolder + """&lt;/font&gt;&lt;/b&gt;
 &lt;/p&gt;
 &lt;p&gt;
 This macro was created to support you in renaming the configuration files of your user application. 
 This can &lt;i&gt;sometimes&lt;/i&gt; correct some issues you are having using FreeCAD.
 If it doesn't work you can always go back and rename them back to their original names.
 &lt;/p&gt;
 &lt;p&gt;
 To reset your configuration settings, exit FreeCAD and rename these 2 files:
 &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;&lt;font color='blue'&gt;system.cfg&lt;/font&gt;&lt;/b&gt;
    &lt;li&gt;&lt;b&gt;&lt;font color = 'blue'&gt;user.cfg&lt;/font&gt;&lt;/b&gt;
 &lt;/ul&gt;
 Rename them e.g. to user/system.cfg.backup or something similar.
 &lt;/p&gt;
 &lt;p&gt;
 When you press OK the macro will attempt to open the folder location for you, but 
 you might need to open it manually if this doesn't work.
 &lt;/p&gt;
 &lt;p&gt;
 Renaming these files will reset &lt;i&gt;all&lt;/i&gt; of your FreeCAD settings back to default.
 &lt;/p&gt;
 &lt;p&gt;
 (This macro does &lt;i&gt;not&lt;/i&gt; make any changes to these files or to your user settings.)&lt;/p&gt;
 """


msgBox.setText(msg)
ok = msgBox.exec_()
if ok==0:
    clipboard.setText(userFolder)
if ok == QtGui.QMessageBox.Ok or ok==0:
    if 'Windows' in sys:
        subprocess.Popen('start explorer.exe '+userFolder, shell=True)
    elif 'Linux' in sys:
        os.system("xdg-open '%s'"&nbsp;% userFolder)
    elif 'Darwin' in sys:
        subprocess.Popen(["open", userFolder])
    else:
        msgBox = QtGui.QMessageBox()
        msg = "We were unable to determine your platform, and thus cannot open your '+userFolder+' for you, but you can still do it manually.\n"
        msgBox.exec_()</pre>
<h2><span class="mw-headline" id="Link">Link</span></h2>
<p><a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?f=22&amp;t=29888">findConfigFiles macro</a>
</p>
<!-- 
NewPP limit report
Cached time: 20250705133003
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.085 seconds
Real time usage: 0.130 seconds
Preprocessor visited node count: 110/1000000
Post&#8208;expand include size: 2999/2097152 bytes
Template argument size: 4267/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 3997/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.984      1 -total
 49.58%    6.934      1 Template:Macro
 26.34%    3.683      2 Template:Incode
 21.80%    3.049      1 Template:MacroCode
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:98550-0!canonical and timestamp 20250705133003 and revision id 1602797. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="site.js"></script>