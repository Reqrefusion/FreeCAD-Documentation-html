<link href="site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Preference Packs</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="de/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--low" title="Voreinstellungspakete (24% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" lang="en" dir="ltr">English</span></li>
<li><a href="es/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--stub" title="Paquetes de preferencias (19% translated)" lang="es" dir="ltr">espa&ntilde;ol</a></li>
<li><a href="fr/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--complete" title="Kits de pr&eacute;f&eacute;rences (100% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="it/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--stub" title="Pacchetti di Preferenze (5% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="pl/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--complete" title="Pakiety preferencji (100% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="ru/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--stub" title="&#1055;&#1072;&#1082;&#1077;&#1090;&#1099; &#1085;&#1072;&#1089;&#1090;&#1088;&#1086;&#1077;&#1082; (5% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li>
<li><a href="ja/Preference_Packs.html" class="mw-pt-progress mw-pt-progress--stub" title="&#35373;&#23450;&#12497;&#12483;&#12463; (5% translated)" lang="ja" dir="ltr">&#26085;&#26412;&#35486;</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><meta property="mw:PageProp/toc"></div>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>A <b>Preference Pack</b> is a distributable collection of user preferences (<span style="font-size:small;"><a href="Release_notes_0.20.html" title="Release notes 0.20">introduced in 0.20</a></span>) that can be installed as an add-on and applied as a single set. Any user parameter that can be set in the user.cfg file can be included in a Preference Pack. Applying a preference pack sets all of the variables in the supplied CFG file without modifying any other user settings. For example, these packs can be used to create "Themes" by bundling together a custom stylesheet along with a set of user preferences that sets the various colors and styles of items in FreeCAD that aren't controlled by the stylesheet.
</p>
<h2><span class="mw-headline" id="Main_Preference_Packs_user_interface">Main Preference Packs user interface</span></h2>
<p>Most user interaction with installed Preference Packs is via the <b>General</b> tab in the <b>General settings</b> section of the <a href="Preferences_Editor.html" title="Preferences Editor">Preferences editor</a>.
</p><p><span typeof="mw:File"><a href="index.php?title=PreferencePacks_MainInterface.png&amp;filetimestamp=20211209193955&amp;.html" class="mw-file-description"><img src="File/PreferencePacks_MainInterface.png" decoding="async" width="400" height="516"></a></span>
</p>
<h2><span class="mw-headline" id="Applying_an_installed_pack">Applying an installed pack</span></h2>
<p>To apply a Preference Pack, click the <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Apply</span> button next to its name in the <b>General</b> tab of the <a href="Preferences_Editor.html" title="Preferences Editor">Preferences editor</a>. The core of a Preference Pack is a set of user preferences. When applying a pack each of these preferences is changed to the value defined in the pack. Optionally, the pack author may have included a pre- and/or post-application macro that may also be run. Because packs can potentially make large (and possibly undesirable) changes to your user preferences, a timestamped backup of your original preferences is taken, and stored in <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">FREECAD_USER_DATA/SavedPreferencePacks/Backups</span>. These backups are retained for one week.
</p>
<h2><span class="mw-headline" id="Creating_a_new_pack">Creating a new pack</span></h2>
<p>Packs can be created by hand, or jump-started by using the <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Save new...</span>  button in the  <b>General</b> tab of the <a href="Preferences_Editor.html" title="Preferences Editor">Preferences editor</a>. Clicking the button shows a dialog requesting a name for the new pack, and displays a set of checkboxes allowing only a subset of preferences to be stored.
</p><p><span typeof="mw:File"><a href="index.php?title=PreferencePacks_SaveNewPack.png&amp;filetimestamp=20211207034725&amp;.html" class="mw-file-description"><img src="File/PreferencePacks_SaveNewPack.png" decoding="async" width="400" height="379"></a></span>
</p><p>Because of the way FreeCAD uses preferences internally, only items contained in these template files can be saved automatically using this procedure. Items not included in the template files must be manually included in the pack's *.cfg file. There is no built-in limit to which preferences items may be included in a preference pack, but authors are strongly discouraged from changing a user's set language, or from modifying the recent files list, or from changing anything related to a temporary UI state (e.g. the saved size of a resizable window, etc.).
</p>
<h3><span class="mw-headline" id="Template_details">Template details</span></h3>
<p>These sections list all preferences contained in the built-in templates. Right now they are focused on appearance-related items, but pull requests and forum suggestions for additional inclusions are welcome. Installed Addons may also provide their own templates (not documented here). Click "Expand" on the far right of each entry to see the list.
</p>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Arch Colors</b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Mod/Arch/WallColor</li>
<li>Preferences/Mod/Arch/StructureColor</li>
<li>Preferences/Mod/Arch/RebarColor</li>
<li>Preferences/Mod/Arch/WindowColor</li>
<li>Preferences/Mod/Arch/WindowGlassColor</li>
<li>Preferences/Mod/Arch/PanelColor</li>
<li>Preferences/Mod/Arch/ColorHelpers</li>
<li>Preferences/Mod/Arch/defaultSpaceColor</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Console Colors</b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/OutputWindow/colorText</li>
<li>Preferences/OutputWindow/colorLogging</li>
<li>Preferences/OutputWindow/colorWarning</li>
<li>Preferences/OutputWindow/colorError</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Draft Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Mod/Draft/constructioncolor</li>
<li>Preferences/Mod/Draft/gridTransparency</li>
<li>Preferences/Mod/Draft/gridColor</li>
<li>Preferences/Mod/Draft/snapcolor</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Editor Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Editor/Text</li>
<li>Preferences/Editor/Bookmark</li>
<li>Preferences/Editor/Breakpoint</li>
<li>Preferences/Editor/Keyword</li>
<li>Preferences/Editor/Comment</li>
<li>Preferences/Editor/Block comment</li>
<li>Preferences/Editor/Number</li>
<li>Preferences/Editor/String</li>
<li>Preferences/Editor/Character</li>
<li>Preferences/Editor/Class name</li>
<li>Preferences/Editor/Define name</li>
<li>Preferences/Editor/Operator</li>
<li>Preferences/Editor/Python output</li>
<li>Preferences/Editor/Python error</li>
<li>Preferences/Editor/Current line highlight</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Editor Font </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Editor/FontSize</li>
<li>Preferences/Editor/Font</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Main Window Layout </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/MainWindow/DockWindows/Std_SelectionView</li>
<li>Preferences/MainWindow/DockWindows/Std_ComboView</li>
<li>Preferences/MainWindow/DockWindows/Std_ReportView</li>
<li>Preferences/MainWindow/DockWindows/Std_PythonView</li>
<li>Preferences/MainWindow/DockWindows/Std_TreeView</li>
<li>Preferences/MainWindow/DockWindows/Std_PropertyView</li>
<li>Preferences/MainWindow/DockWindows/Std_DAGView</li>
<li>Preferences/MainWindow/Toolbars/File</li>
<li>Preferences/MainWindow/Toolbars/Workbench</li>
<li>Preferences/MainWindow/Toolbars/Macro</li>
<li>Preferences/MainWindow/Toolbars/View</li>
<li>Preferences/MainWindow/Toolbars/Structure</li>
<li>Preferences/MainWindow/Toolbars/Navigation</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Path Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Mod/Path/DefaultNormalPathColor</li>
<li>Preferences/Mod/Path/DefaultRapidPathColor</li>
<li>Preferences/Mod/Path/DefaultPathMarkerColor</li>
<li>Preferences/Mod/Path/DefaultExtentsColor</li>
<li>Preferences/Mod/Path/DefaultProbePathColor</li>
<li>Preferences/Mod/Path/DefaultHighlightPathColor</li>
<li>Preferences/Mod/Path/DefaultBBoxSelectionColor</li>
<li>Preferences/Mod/Path/DefaultBBoxNormalColor</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Sketcher Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/View/SketchEdgeColor</li>
<li>Preferences/View/SketchVertexColor</li>
<li>Preferences/View/EditedEdgeColor</li>
<li>Preferences/View/EditedVertexColor</li>
<li>Preferences/View/ConstructionColor</li>
<li>Preferences/View/ExternalColor</li>
<li>Preferences/View/InvalidSketchColor</li>
<li>Preferences/View/FullyConstrainedColor</li>
<li>Preferences/View/InternalAlignedGeoColor</li>
<li>Preferences/View/FullyConstraintElementColor</li>
<li>Preferences/View/FullyConstraintConstructionElementColor</li>
<li>Preferences/View/FullyConstraintInternalAlignmentColor</li>
<li>Preferences/View/FullyConstraintConstructionPointColor</li>
<li>Preferences/View/ConstrainedIcoColor</li>
<li>Preferences/View/NonDrivingConstrDimColor</li>
<li>Preferences/View/ConstrainedDimColor</li>
<li>Preferences/View/ExprBasedConstrDimColor</li>
<li>Preferences/View/DeactivatedConstrDimColor</li>
<li>Preferences/View/CursorTextColor</li>
<li>Preferences/View/CursorCrosshairColor</li>
<li>Preferences/View/CreateLineColor</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Start Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Mod/Start/BackgroundColor1</li>
<li>Preferences/Mod/Start/BackgroundTextColor</li>
<li>Preferences/Mod/Start/PageColor</li>
<li>Preferences/Mod/Start/PageTextColor</li>
<li>Preferences/Mod/Start/BoxColor</li>
<li>Preferences/Mod/Start/LinkColor</li>
<li>Preferences/Mod/Start/BackgroundColor2</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>TechDraw Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/Mod/TechDraw/Decorations/SectionColor</li>
<li>Preferences/Mod/TechDraw/Decorations/CenterColor</li>
<li>Preferences/Mod/TechDraw/Decorations/VertexColor</li>
<li>Preferences/Mod/TechDraw/Decorations/HighlightColor</li>
<li>Preferences/Mod/TechDraw/Colors/Hatch</li>
<li>Preferences/Mod/TechDraw/Colors/Background</li>
<li>Preferences/Mod/TechDraw/Colors/PreSelectColor</li>
<li>Preferences/Mod/TechDraw/Colors/HiddenColor</li>
<li>Preferences/Mod/TechDraw/Colors/SelectColor</li>
<li>Preferences/Mod/TechDraw/Colors/NormalColor</li>
<li>Preferences/Mod/TechDraw/Colors/CutSurfaceColor</li>
<li>Preferences/Mod/TechDraw/Colors/GeomHatch</li>
<li>Preferences/Mod/TechDraw/Colors/FaceColor</li>
<li>Preferences/Mod/TechDraw/Colors/ClearFace</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><b>Window Colors </b>
</p>
<div class="mw-collapsible-content">
<ul><li>Preferences/View/BacklightColor</li>
<li>Preferences/View/BackgroundColor</li>
<li>Preferences/View/BackgroundColor2</li>
<li>Preferences/View/BackgroundColor3</li>
<li>Preferences/View/BackgroundColor4</li>
<li>Preferences/View/Simple</li>
<li>Preferences/View/Gradient</li>
<li>Preferences/View/UseBackgroundColorMid</li>
<li>Preferences/View/HighlightColor</li>
<li>Preferences/View/SelectionColor</li>
<li>Preferences/View/DefaultShapeColor</li>
<li>Preferences/View/RandomColor</li>
<li>Preferences/TreeView/TreeEditColor</li>
<li>Preferences/TreeView/TreeActiveColor</li>
<li>Preferences/MainWindow/TiledBackground</li>
<li>Preferences/MainWindow/StyleSheet</li></ul>
</div>
</div>
<h3><span class="mw-headline" id="Preference_Pack_structure">Preference Pack structure</span></h3>
<p>While the core of most Preference Packs is a single configuration file, because of their design for distribution, some auxiliary structure is also required. Four core files define a pack, laid out in the following directory structure (for a Preference Pack named "SamplePreferencePack"):
</p>
<ul><li>package.xml</li>
<li>SamplePreferencePack/
<ul><li>SamplePreferencePack.cfg</li>
<li>pre.FCMacro</li>
<li>post.FCMacro</li></ul></li></ul>
<p>The <a href="Package_Metadata.html" title="Package Metadata">Package Metadata</a> file, package.xml, defines the name of the Preference Pack, and allows you to assign other metadata items such as a version number, author information, and tags (which are displayed in the main UI as a comma-separated list). For a Preference Pack saved using the GUI as explained above, a single package.xml file is created in the <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">FREECAD_USER_DATA/SavedPreferencePacks/</span> directory. This file is used to describe the details such as the name and tags of all user-saved preference packs. To change a pack's name or tags, that file must be manually edited with a text editor. It can also provide a template for distributed preference packs: the author of a distributed pack may choose to start by saving a pack locally, then copying the pack's subdirectory and this global package.xml file as a starting point, modifying the copied package.xml file to only reference the pack being packaged for distribution.
</p><p>Other files may also be included in a distribution, depending on what's required for the pack. A well-produced preference pack designed for distributing a visual theme called "DarkSide" for FreeCAD might look like:
</p>
<ul><li>package.xml</li>
<li>resources/
<ul><li>icons/
<ul><li>DarkSide.svg</li></ul></li></ul></li>
<li>DarkSide/
<ul><li>DarkSide.cfg</li>
<li>DarkSide.qss</li></ul></li></ul>
<p>Note the omission of the <i>pre.FCMacro</i> and <i>post.FCMacro</i> files, which are often unnecessary, as well as the inclusion of an icon (for display by the <span typeof="mw:File"><a href="Std_AddonMgr.html" title="Std AddonMgr"><img src="File/Std_AddonMgr.svg" decoding="async" width="24" height="24"></a></span> <a href="Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>), and the inclusion of a qss file (which will then be referenced in the <i>DarkSide.cfg</i> configuration data file).
</p><p>The pre- and post- macro files are standard FreeCAD Python macros, and may contain any commands valid in such a macro. If the pre.FCMacro raises an exception (of any type), the application of the preference pack is cancelled. If the post.FCMacro raises an exception (of any type), the application of the pack is rolled back using the backup taken prior to its application. For example, these macros may be used to query the user for license acceptance, or to verify they are happy with the final state of their system after application.
</p><p>The package.xml file for this example pack might be:
</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8" standalone="no"&nbsp;?&gt;
&lt;package format="1" xmlns="https://wiki.freecad.org/Package_Metadata"&gt;
  &lt;name&gt;DarkSide Theme Package&lt;/name&gt;
  &lt;description&gt;A preference pack including a stylesheet and other GUI color information for a Dark mode.&lt;/description&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
  &lt;maintainer email="chennes@pioneerlibrarysystem.org"&gt;Chris Hennes&lt;/maintainer&gt;
  &lt;license file="LICENSE"&gt;GPLv3&lt;/license&gt;
  &lt;url type="repository" branch="main"&gt;https://github.com/chennes/DarkSideThemePackage&lt;/url&gt;
  &lt;icon&gt;resources/icons/DarkSide.svg&lt;/icon&gt;

  &lt;content&gt;
    &lt;preferencepack&gt;
      &lt;name&gt;DarkSide&lt;/name&gt;
      &lt;description&gt;Dark mode color scheme&lt;/description&gt;
      &lt;tag&gt;color&lt;/tag&gt;
      &lt;tag&gt;stylesheet&lt;/tag&gt;
      &lt;tag&gt;dark&lt;/tag&gt;
      &lt;file&gt;DarkSide.qss&lt;/file&gt;
    &lt;/preferencepack&gt;
  &lt;/content&gt;

&lt;/package&gt;
</pre>
<h3><span class="mw-headline" id="Including_templates_in_your_add-on">Including templates in your add-on</span></h3>
<p>Many add-ons have user-specifiable preference information that is added to the user.cfg file. An add-on author may also choose to provide a Preference Pack Template file that lists the user configuration variables that can be automatically saved using the "Save new pack" method described above. To include these template files, add-on authors should create a subdirectory in their package called either "PreferencePackTemplates" or "preference_pack_templates". Within that folder should be one or more *.cfg files: each must be a valid, well-formed user.cfg XML file containing one or more configuration variables set to their default values. The name of the file should reflect its purpose, e.g. "colors.cfg", "active_tabs.cfg", etc. This set of files will be presented to the user when they save a new preference pack, with each file receiving a checkable entry in the list of items to save. The filename is used to generate the UI entry, with underscores replaced by spaces (and the extension omitted).
</p>
<h2><span class="mw-headline" id="Distributing_a_pack">Distributing a pack</span></h2>
<p>Preference Packs are distributed identically to <a href="External_workbenches.html" title="External workbenches">External Workbenches</a> through the  <span typeof="mw:File"><a href="Std_AddonMgr.html" title="Std AddonMgr"><img src="File/Std_AddonMgr.svg" decoding="async" width="24" height="24"></a></span> <a href="Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>. To install a pack manually, use git to clone the package repository into your FreeCAD data directory (enter <code>App.getUserAppDataDir()</code> in the <a href="Python_console.html" title="Python console">Python console</a> to get this path), in a subdirectory called "Preference Packs". Note that user-installed packs with the same name as an included pack take precedence.
</p><p>See also <a href="Private_Preference_Packs.html" title="Private Preference Packs">Private Preference Packs</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20250629104253
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.093 seconds
Real time usage: 0.108 seconds
Preprocessor visited node count: 159/1000000
Post&#8208;expand include size: 1110/2097152 bytes
Template argument size: 132/2097152 bytes
Highest expansion depth: 3/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 2514/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   10.193      1 -total
 23.76%    2.422      1 Template:TOCright
 18.83%    1.919      2 Template:Button
 17.91%    1.825      1 Template:Version
 16.53%    1.685      1 Template:Incode
 15.56%    1.586      2 Template:FileName
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:269612-0!canonical and timestamp 20250629104253 and revision id 1597854. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="site.js"></script>