<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Workbench creation/zh-cn</span></h1><?xml encoding="UTF-8"><div class="mw-content-ltr mw-parser-output" lang="zh-Hans-CN" dir="ltr"><div class="mw-pt-languages noprint navigation-not-searchable" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../index.php?title=Special;Translate&amp;group=page-Workbench+creation&amp;language=&amp;task=view.html" class="new" title="Start translation for this language" lang="" dir="ltr"></a></li>
<li><a href="../de/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="Erstellung von Arbeitsbereichen (85% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="../Workbench_creation.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Workbench creation (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="../es/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/es (2% translated)" lang="es" dir="ltr">espa&ntilde;ol</a></li>
<li><a href="../fr/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="Cr&eacute;ation d'atelier (85% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="../it/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="Creare un Ambiente di lavoro (85% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="../pl/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="Tworzenie &#347;rodowiska pracy (85% translated)" lang="pl" dir="ltr">polski</a></li>
<li><a href="../pt-br/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--med" title="Cria&ccedil;&atilde;o de bancadas de trabalho (23% translated)" lang="pt-BR" dir="ltr">portugu&ecirc;s do Brasil</a></li>
<li><a href="../ro/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/ro (2% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="../ru/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--high" title="&#1056;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1072; &#1074;&#1077;&#1088;&#1089;&#1090;&#1072;&#1082;&#1072; (85% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--high" lang="zh-Hans-CN" dir="ltr">&#20013;&#25991;&#65288;&#20013;&#22269;&#22823;&#38470;&#65289;</span></li>
<li><a href="../zh-hant/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="Workbench creation/zh-hant (0% translated)" lang="zh-Hant" dir="ltr">&#20013;&#25991;&#65288;&#32321;&#39636;&#65289;</a></li>
<li><a href="../zh-tw/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#24314;&#31435;Workbench (8% translated)" lang="zh-Hant-TW" dir="ltr">&#20013;&#25991;&#65288;&#33274;&#28771;&#65289;</a></li>
<li><a href="../ja/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#12527;&#12540;&#12463;&#12505;&#12531;&#12481;&#12398;&#36861;&#21152; (2% translated)" lang="ja" dir="ltr">&#26085;&#26412;&#35486;</a></li>
<li><a href="../ko/Workbench_creation.html" class="mw-pt-progress mw-pt-progress--low" title="&#51089;&#50629;&#45824; &#47564;&#46308;&#44592; (10% translated)" lang="ko" dir="ltr">&#54620;&#44397;&#50612;</a></li></ul></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<div class="warning-box">This page describes a proven way to create workbenches, but some years ago there was a suggestion how to improve the structure of the Python based external workbenches. There seems to be some kind of agreement that this structure should set a new standard but it hasn't found its way into this wiki yet (except two links in the Related section).
Another paragraph is created to describe the new standard.  See [<a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?t=101843">discussion</a>]</div>
</div>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../zh-cn/Localisation.html" title="Localisation/zh-cn">&#26412;&#22320;&#21270;</a></div>
    <div><a href="../index.php?title=Extra_python_modules/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Extra python modules/zh-cn (page does not exist)">&#20854;&#23427; Python &#27169;&#22359;</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../zh-cn/Online_Help_Toc.html" title="Online Help Toc/zh-cn">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="48" data-file-height="48"></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><meta property="mw:PageProp/toc"></div>
<p><span id="Introduction"></span>
</p>
<h2><span id=".E7.AE.80.E4.BB.8B"></span><span class="mw-headline" id="&#31616;&#20171;">&#31616;&#20171;</span></h2>
<p>&#26412;&#39029;&#38754;&#23558;&#23637;&#31034;&#23558;&#26032;&#30340;&#24037;&#20316;&#21488;&#28155;&#21152;&#33267; FreeCAD &#30028;&#38754;&#30340;&#26041;&#27861;&#12290;<a href="../zh-cn/Workbenches.html" title="Workbenches/zh-cn">&#24037;&#20316;&#21488;</a> &#26159;&#23481;&#32435; FreeCAD &#21629;&#20196;&#30340;&#23481;&#22120;&#65292;&#21487;&#20197;&#20351;&#29992; Python &#25110; C++ &#32534;&#20889;&#65292;&#20134;&#21487;&#20108;&#32773;&#24182;&#29992;&#65292;&#20197;&#20860;&#39038; C++ &#30340;&#36895;&#24230;&#19982; Python &#30340;&#28789;&#27963;&#24615;&#12290;&#26080;&#35770;&#20351;&#29992;&#20309;&#31181;&#35821;&#35328;&#32534;&#20889;&#65292;&#24037;&#20316;&#21488;&#37117;&#23558;&#22522;&#20110;&#20004;&#20010; Python &#25991;&#20214;&#36816;&#34892;&#12290;&#24037;&#20316;&#21488;&#21487;&#33021;&#26159; FreeCAD &#21457;&#34892;&#29256;&#33258;&#24102;&#30340;&#65288;&ldquo;&#20869;&#37096;&#24037;&#20316;&#21488;&rdquo;&#65289;&#65292;&#20063;&#21487;&#33021;&#26159;&#26469;&#33258;&#20110;&#22312;&#32447;&#20179;&#24211;&#25110; <a href="../index.php?title=Std_AddonMgr/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Std AddonMgr/zh-cn (page does not exist)">&#25554;&#20214;&#31649;&#29702;&#22120;</a>&#65288;&ldquo;&#22806;&#37096;&#24037;&#20316;&#21488;&rdquo;&#65289;&#12290;&#20869;&#37096;&#24037;&#20316;&#21488;&#21487;&#33021;&#26159;&#20351;&#29992; Python&#12289;C++ &#25110;&#20108;&#32773;&#32467;&#21512;&#32534;&#20889;&#30340;&#65292;&#22806;&#37096;&#24037;&#20316;&#21488;&#24517;&#39035;&#22522;&#20110; Python.
</p><p><span id="The_workbench_structure"></span>
</p>
<h2><span id=".E5.B7.A5.E4.BD.9C.E5.8F.B0.E7.9A.84.E7.BB.93.E6.9E.84"></span><span class="mw-headline" id="&#24037;&#20316;&#21488;&#30340;&#32467;&#26500;">&#24037;&#20316;&#21488;&#30340;&#32467;&#26500;</span></h2>
<p>&#21019;&#24314;&#19968;&#20010;&#20219;&#24847;&#21517;&#31216;&#30340;&#25991;&#20214;&#22841;&#65292;&#20854;&#20013;&#24212;&#21253;&#21547;&#19968;&#20010; <code>Init.py</code> &#25991;&#20214;&#65292;&#21487;&#26377;&#19968;&#20010; <code>InitGui.py</code> &#25991;&#20214;&#12290;&#23558;&#36825;&#20010;&#25991;&#20214;&#22841;&#25918;&#32622;&#20110;&#29992;&#25143; Mod &#25991;&#20214;&#22841;&#12290;&#24403; FreeCAD &#21551;&#21160;&#26102;&#20250;&#25191;&#34892; <code>Init.py</code> &#25991;&#20214;&#65292;&#22914;&#26524; FreeCAD &#26159;&#20197; GUI &#27169;&#24335;&#21551;&#21160;&#30340;&#65292;&#21017;&#22312;&#25191;&#34892; <code>Init.py</code> &#20043;&#21518;&#20250;&#31435;&#21363;&#25191;&#34892; <code>InitGui.py</code> &#25991;&#20214;&#12290;&#22914;&#27492;&#65292;FreeCAD &#21363;&#21487;&#22312;&#21551;&#21160;&#26102;&#25214;&#21040;&#24744;&#30340;&#24037;&#20316;&#21488;&#65292;&#24182;&#22312;&#30028;&#38754;&#19978;&#21152;&#36733;&#12290;
</p><p>&#29992;&#25143; Mod &#25991;&#20214;&#22841;&#21487;&#22312;&#29992;&#25143;&#24212;&#29992;&#25968;&#25454;&#30446;&#24405;&#19979;&#25214;&#21040;&#12290;&#27442;&#23547;&#25214;&#29992;&#25143;&#24212;&#29992;&#25968;&#25454;&#30446;&#24405;&#65292;&#21487;&#22312; <a href="../index.php?title=Python_console/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Python console/zh-cn (page does not exist)">Python &#25511;&#21046;&#21488;</a> &#20013;&#36755;&#20837;<code>App.getUserAppDataDir()</code>&#65306;
</p>
<ul><li>&#22312; Linux &#19978;&#65292;Mod &#25991;&#20214;&#22841;&#36890;&#24120;&#26159; <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;username&gt;/.local/share/FreeCAD/Mod/</span> &#65288;<span style="font-size:small;color:green;">0.20 and above</span> &#29256;&#26412;&#65289; &#25110;&#32773; <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;username&gt;/.FreeCAD/Mod/</span> &#65288;<span style="font-size:small;color:blue;">0.19 and below</span> &#29256;&#26412;&#65289;&#65307;</li>
<li>&#22312; Windows &#19978;&#26159; <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">%APPDATA%\FreeCAD\Mod\</span>&#65292;&#36890;&#24120;&#23601;&#26159; <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">C:\Users\&lt;username&gt;\Appdata\Roaming\FreeCAD\Mod\</span>&#65307;</li>
<li>&#22312; macOS &#19978;&#36890;&#24120;&#26159; <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/Users/&lt;username&gt;/Library/Application Support/FreeCAD/Mod/</span>&#12290;</li></ul>
<p>Mod &#25991;&#20214;&#22841;&#36890;&#24120;&#26377;&#22914;&#19979;&#32467;&#26500;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">/</span><span class="n">Mod</span><span class="o">/</span>
 <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
     <span class="o">+--</span> <span class="n">Init</span><span class="o">.</span><span class="n">py</span>
     <span class="o">+--</span> <span class="n">InitGui</span><span class="o">.</span><span class="n">py</span>
</pre></div>
<p>&#24744;&#21487;&#20197;&#38543;&#24847;&#20462;&#25913;&#36825;&#20123;&#25991;&#20214;&#65292;&#19968;&#33324;&#30340;&#29992;&#27861;&#26159;&#36825;&#26679;&#30340;&#65306;
</p>
<ul><li>&#22312; Init.py &#25991;&#20214;&#20013;&#65292;&#21152;&#20837; FreeCAD &#22312;&#21629;&#20196;&#34892;&#29366;&#24577;&#19979;&#20063;&#21487;&#33021;&#29992;&#21040;&#30340;&#21151;&#33021;&#65292;&#20363;&#22914;&#25991;&#20214;&#23548;&#20837;/&#23548;&#20986;</li></ul>
<ul><li>&#36890;&#24120;&#22312; InitGui.py &#25991;&#20214;&#20013;&#23450;&#20041;&#19968;&#20010;&#24037;&#20316;&#21488;&#12290;&#24037;&#20316;&#21488;&#21253;&#25324;&#20854;&#21517;&#31216;&#12289;&#22270;&#26631;&#21450;&#19968;&#31995;&#21015; FreeCAD &#21629;&#20196;&#65288;&#35814;&#19979;&#65289;&#12290;&#26412;&#25991;&#20214;&#20063;&#23450;&#20041; FreeCAD &#21152;&#36733;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#21151;&#33021;&#65288;&#20026;&#20445;&#35777;&#36719;&#20214;&#21551;&#21160;&#36895;&#24230;&#65292;&#36234;&#23569;&#36234;&#22909;&#65289;&#12289;&#24037;&#20316;&#21488;&#21152;&#36733;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#21151;&#33021;&#65288;&#20063;&#20250;&#26159;&#24744;&#30340;&#20027;&#35201;&#24037;&#20316;&#20869;&#23481;&#65289;&#20197;&#21450;&#21462;&#28040;&#36873;&#20013;&#35813;&#24037;&#20316;&#21488;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#21151;&#33021;&#65288;&#20363;&#22914;&#28165;&#29702;&#21151;&#33021;&#65289;&#12290;</li></ul>
<div class="mw-translate-fuzzy">
<p>&#27492;&#22788;&#25551;&#36848;&#30340;&#25991;&#20214;&#32467;&#26500;&#21450;&#20869;&#23481;&#26159;&#21019;&#24314;&#26032;&#24037;&#20316;&#21488;&#30340;&#19968;&#33324;&#26041;&#27861;&#12290;&#24403;&#21019;&#24314; Python &#24037;&#20316;&#21488;&#26102;&#65292;&#20063;&#21487;&#20197;&#23545;&#25991;&#20214;&#32467;&#26500;&#20316;&#20123;&#35768;&#25913;&#21160;&#65292;&#22914;&#27492;&#21019;&#24314;&#30340;&#24037;&#20316;&#21488;&#21487;&#31216;&#20026;&ldquo;&#21629;&#21517;&#31354;&#38388;&#24037;&#20316;&#21488;&rdquo;&#65292;&#21487;&#20351;&#29992; pip &#23433;&#35013;&#12290;&#36825;&#20004;&#31181;&#32467;&#26500;&#37117;&#26159;&#26377;&#25928;&#30340;&#65292;&#22240;&#27492;&#22914;&#20309;&#36873;&#25321;&#21462;&#20915;&#20110;&#24744;&#30340;&#20559;&#22909;&#12290;&#20351;&#29992;&#19968;&#33324;&#26041;&#27861;&#21019;&#24314;&#30340;&#24037;&#20316;&#21488;&#26159;&#22312;&#20840;&#23616;&#21629;&#21517;&#31354;&#38388;&#20013;&#30340;&#65292;&#32780;&ldquo;&#21629;&#21517;&#31354;&#38388;&#24037;&#20316;&#21488;&rdquo;&#26377;&#19987;&#23646;&#30340;&#21629;&#21517;&#31354;&#38388;&#12290;&#35814;&#35265;<a href="#%E7%9B%B8%E5%85%B3">&#30456;&#20851;</a>&#37096;&#20998;&#12290;
</p>
</div>
<p><span id="C++_workbench_structure"></span>
</p>
<h3><span id="C.2B.2B_.E5.B7.A5.E4.BD.9C.E5.8F.B0.E7.9A.84.E7.BB.93.E6.9E.84"></span><span class="mw-headline" id="C++_&#24037;&#20316;&#21488;&#30340;&#32467;&#26500;">C++ &#24037;&#20316;&#21488;&#30340;&#32467;&#26500;</span></h3>
<p>&#22914;&#26524;&#24744;&#29992; Python &#32534;&#20889;&#24037;&#20316;&#21488;&#65292;&#21482;&#38656;&#23558;&#24744;&#30340; Init.py &#21644; InitGui.py &#21644;&#20854;&#23427; Python &#25991;&#20214;&#25918;&#22312;&#19968;&#36215;&#21363;&#21487;&#12290;&#24403;&#20351;&#29992; C++ &#32534;&#20889;&#24037;&#20316;&#21488;&#26102;&#65292;&#24744;&#21017;&#38656;&#35201;&#23567;&#24515;&#34892;&#20107;&#12290;&#39318;&#20808;&#65292;&#38656;&#35201;&#36981;&#24490; FreeCAD &#30340;&#19968;&#26465;&#22522;&#26412;&#21407;&#21017;&#65306;&#23558; App &#37096;&#20998;&#21644; Gui &#37096;&#20998;&#20998;&#31163;&#65288;App &#37096;&#20998;&#21487;&#20197;&#29420;&#31435;&#36816;&#34892;&#22312;&#21629;&#20196;&#34892;&#27169;&#24335;&#19979;&#65292;&#32780; Gui &#37096;&#20998;&#21482;&#26377;&#22312; FreeCAD &#30340; GUI &#27169;&#24335;&#19979;&#25165;&#20250;&#36733;&#20837;&#12290;&#22240;&#27492;&#65292;&#22312;&#20351;&#29992; C++ &#32534;&#20889;&#24037;&#20316;&#21488;&#26102;&#65292;&#24744;&#24456;&#21487;&#33021;&#20250;&#21019;&#24314; App &#21644; Gui &#20004;&#20010;&#27169;&#22359;&#65292;Python &#38656;&#35201;&#35843;&#29992;&#36825;&#20004;&#20010;&#27169;&#22359;&#12290;&#19968;&#20010; FreeCAD &#27169;&#22359;&#65288;App &#27169;&#22359;&#25110; Gui &#27169;&#22359;&#65289;&#19968;&#23450;&#20250;&#21253;&#25324;&#19968;&#20010;&#27169;&#22359;&#21021;&#22987;&#21270;&#25991;&#20214;&#12290;&#20856;&#22411;&#30340; AppMyModuleGui.cpp &#25991;&#20214;&#22914;&#19979;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">extern</span> <span class="s2">"C"</span> <span class="p">{</span>
    <span class="n">void</span> <span class="n">MyModuleGuiExport</span> <span class="n">initMyModuleGui</span><span class="p">()</span>  
    <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="s2">"Cannot load Gui module in console application."</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="o">//</span> <span class="kn">import</span> <span class="nn">other</span> <span class="n">modules</span> <span class="n">this</span> <span class="n">one</span> <span class="n">depends</span> <span class="n">on</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"import PartGui"</span><span class="p">);</span>
            <span class="o">//</span> <span class="n">run</span> <span class="n">some</span> <span class="n">python</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">console</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"print('welcome to my module!')"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">catch</span><span class="p">(</span><span class="n">const</span> <span class="n">Base</span><span class="p">::</span><span class="ne">Exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">what</span><span class="p">());</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="n">Py_InitModule</span><span class="p">(</span><span class="s2">"MyModuleGui"</span><span class="p">,</span> <span class="n">MyModuleGui_Import_methods</span><span class="p">);</span>   <span class="o">/*</span> <span class="n">mod</span> <span class="n">name</span><span class="p">,</span> <span class="n">table</span> <span class="n">ptr</span> <span class="o">*/</span>
        <span class="n">Base</span><span class="p">::</span><span class="n">Console</span><span class="p">()</span><span class="o">.</span><span class="n">Log</span><span class="p">(</span><span class="s2">"Loading GUI of MyModule... done</span><span class="se">\n</span><span class="s2">"</span><span class="p">);</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">the</span> <span class="n">FreeCAD</span> <span class="n">commands</span> <span class="p">(</span><span class="ow">in</span> <span class="n">another</span> <span class="n">cpp</span> <span class="n">file</span><span class="p">)</span>
        <span class="n">CreateMyModuleCommands</span><span class="p">();</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">workbench</span> <span class="ow">and</span> <span class="nb">object</span> <span class="n">definitions</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">Workbench</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">ViewProviderSomeCustomObject</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
    
         <span class="o">//</span> <span class="n">add</span> <span class="n">resources</span> <span class="ow">and</span> <span class="n">reloads</span> <span class="n">the</span> <span class="n">translators</span>
        <span class="n">loadMyModuleResource</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><span id="The_Init.py_file"></span>
</p>
<h3><span id="Init.py_.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="Init.py_&#25991;&#20214;">Init.py &#25991;&#20214;</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="sd">"""FreeCAD init script of XXX module"""</span>

<span class="c1"># ***************************************************************************</span>
<span class="c1"># *   Copyright (c) 2015 John Doe john@doe.com                              *   </span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This file is part of the FreeCAD CAx development system.              *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1"># *   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1"># *   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1"># *   the License, or (at your option) any later version.                   *</span>
<span class="c1"># *   for detail see the LICENSE text file.                                 *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   FreeCAD is distributed in the hope that it will be useful,            *</span>
<span class="c1"># *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1"># *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1"># *   GNU Lesser General Public License for more details.                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1"># *   License along with FreeCAD; if not, write to the Free Software        *</span>
<span class="c1"># *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1"># *   USA                                                                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># ***************************************************************************/</span>

<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addImportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"importOwn"</span><span class="p">)</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addExportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"exportOwn"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"I am executing some stuff here when FreeCAD starts!"</span><span class="p">)</span>
</pre></div>
<p>&#24744;&#30340;&#24037;&#20316;&#21488;&#21487;&#20197;&#20351;&#29992;&#20219;&#19968;&#31181;&#35768;&#21487;&#35777;&#65292;&#20294;&#27880;&#24847;&#65292;&#22914;&#26524;&#24744;&#24819;&#35201;&#23558;&#24037;&#20316;&#21488;&#25972;&#21512;&#20837; FreeCAD &#28304;&#30721;&#24182;&#38543;&#20043;&#19968;&#36215;&#21457;&#34892;&#65292;&#22914;&#19978;&#20363;&#25152;&#31034;&#65292;&#24744;&#38656;&#35201;&#20351;&#29992; LGPL2+ &#35768;&#21487;&#35777;&#12290;&#35814;&#35265; <a href="../zh-cn/Licence.html" class="mw-redirect" title="Licence/zh-cn">&#35768;&#21487;&#35777;</a>&#12290;
</p><p><code>FreeCAD.addImportType()</code> &#21644; <code>addEXportType()</code> &#20989;&#25968;&#29992;&#20110;&#25351;&#23450;&#25991;&#20214;&#31867;&#22411;&#30340;&#21517;&#31216;&#12289;&#25193;&#23637;&#21517;&#65292;&#20197;&#21450;&#36127;&#36131;&#23548;&#20837;&#25110;&#23548;&#20986;&#35813;&#31867;&#22411;&#25991;&#20214;&#30340; Python &#27169;&#22359;&#12290;&#22312;&#19978;&#36848;&#20363;&#23376;&#20013;&#65292;<code>importOwn.py</code> &#27169;&#22359;&#36127;&#36131;&#22788;&#29702; <code>.own</code> &#25991;&#20214;&#12290;&#26356;&#22810;&#20363;&#23376;&#35265; <a href="../index.php?title=Code_snippets/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Code snippets/zh-cn (page does not exist)">&#20195;&#30721;&#29255;&#27573;</a>&#12290;
</p><p><span id="Python_workbenches"></span>
</p>
<h3><span id="Python_.E5.B7.A5.E4.BD.9C.E5.8F.B0"></span><span class="mw-headline" id="Python_&#24037;&#20316;&#21488;">Python &#24037;&#20316;&#21488;</span></h3>
<p>&#36825;&#26159; InitGui.py &#25991;&#20214;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">MyWorkbench</span> <span class="p">(</span><span class="n">Workbench</span><span class="p">):</span>

    <span class="n">MenuText</span> <span class="o">=</span> <span class="s2">"My Workbench"</span>
    <span class="n">ToolTip</span> <span class="o">=</span> <span class="s2">"A description of my workbench"</span>
    <span class="n">Icon</span> <span class="o">=</span> <span class="s2">"""paste here the contents of a 16x16 xpm icon"""</span>

    <span class="k">def</span> <span class="nf">Initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed when the workbench is first activated.</span>
<span class="sd">        It is executed once in a FreeCAD session followed by the Activated function.</span>
<span class="sd">        """</span>
        <span class="kn">import</span> <span class="nn">MyModuleA</span><span class="o">,</span> <span class="nn">MyModuleB</span> <span class="c1"># import here all the needed files that create your FreeCAD commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"MyCommand1"</span><span class="p">,</span> <span class="s2">"MyCommand2"</span><span class="p">]</span> <span class="c1"># a list of command names created in the line above</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendToolbar</span><span class="p">(</span><span class="s2">"My Commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new toolbar with your commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">(</span><span class="s2">"My New Menu"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">([</span><span class="s2">"An existing Menu"</span><span class="p">,</span> <span class="s2">"My submenu"</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># appends a submenu to an existing menu</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the workbench is activated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">Deactivated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the workbench is deactivated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">ContextMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipient</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""This function is executed whenever the user right-clicks on screen"""</span>
        <span class="c1"># "recipient" will be either "view" or "tree"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendContextMenu</span><span class="p">(</span><span class="s2">"My commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># add commands to the context menu</span>

    <span class="k">def</span> <span class="nf">GetClassName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
        <span class="c1"># This function is mandatory if this is a full Python workbench</span>
        <span class="c1"># This is not a template, the returned string should be exactly "Gui::PythonWorkbench"</span>
        <span class="k">return</span> <span class="s2">"Gui::PythonWorkbench"</span>
       
<span class="n">Gui</span><span class="o">.</span><span class="n">addWorkbench</span><span class="p">(</span><span class="n">MyWorkbench</span><span class="p">())</span>
</pre></div>
<p>&#38500;&#27492;&#20043;&#22806;&#65292;&#24744;&#21487;&#20197;&#25353;&#33258;&#24049;&#30340;&#24819;&#27861;&#20462;&#25913;&#36825;&#20010;&#25991;&#20214;&#12290;&#21487;&#20197;&#25226;&#25972;&#20010;&#24037;&#20316;&#21488;&#30340;&#20195;&#30721;&#37117;&#25918;&#22312; InitGui.py &#37324;&#12290;&#19981;&#36807;&#36890;&#24120;&#26356;&#26041;&#20415;&#30340;&#20570;&#27861;&#26159;&#25226;&#24037;&#20316;&#21488;&#30340;&#19981;&#21516;&#21151;&#33021;&#25918;&#22312;&#21333;&#29420;&#30340;&#25991;&#20214;&#20013;&#65292;&#36825;&#26679;&#25991;&#20214;&#20250;&#26356;&#23567;&#65292;&#20063;&#26356;&#23481;&#26131;&#38405;&#35835;&#65292;&#28982;&#21518;&#22312; InitGui.py &#25991;&#20214;&#20013;&#23548;&#20837;&#36825;&#20123;&#25991;&#20214;&#12290;&#24744;&#21487;&#20197;&#25353;&#29031;&#33258;&#24049;&#30340;&#21916;&#22909;&#32452;&#32455;&#36825;&#20123;&#25991;&#20214;&#65292;&#20363;&#22914;&#20026;&#28155;&#21152;&#30340;&#27599;&#20010; FreeCAD &#21629;&#20196;&#20934;&#22791;&#19968;&#20010;&#21333;&#29420;&#30340;&#25991;&#20214;&#12290;
</p><p><span id="Preferences"></span>
</p>
<h4><span id=".E9.A6.96.E9.80.89.E9.A1.B9"></span><span class="mw-headline" id="&#39318;&#36873;&#39033;">&#39318;&#36873;&#39033;</span></h4>
<p>&#24744;&#21487;&#20197;&#20026;&#33258;&#24049;&#30340; Python &#24037;&#20316;&#21488;&#28155;&#21152;&#19968;&#20010;&ldquo;&#39318;&#36873;&#39033;&rdquo;&#39029;&#38754;&#65292;&#36825;&#19968;&#39029;&#38754;&#20250;&#22312; Qt &#36164;&#28304;&#31995;&#32479;&#20013;&#26597;&#25214;&#19968;&#20010;&#20855;&#26377;&#29305;&#23450;&#21517;&#31216;&#30340;&#39318;&#36873;&#39033;&#22270;&#26631;&#12290;&#22914;&#26524;&#24744;&#30340;&#22270;&#26631;&#19981;&#22312;&#36164;&#28304;&#31995;&#32479;&#20013;&#65292;&#25110;&#32773;&#21517;&#31216;&#19981;&#27491;&#30830;&#65292;&#35813;&#22270;&#26631;&#23601;&#19981;&#20250;&#26174;&#31034;&#22312;&#39318;&#36873;&#39033;&#39029;&#38754;&#19978;&#12290;
</p><p>&#28155;&#21152;&#24037;&#20316;&#21488;&#22270;&#26631;&#65306;
</p>
<ul><li>&#39318;&#36873;&#39033;&#22270;&#26631;&#30340;&#21517;&#31216;&#26684;&#24335;&#24517;&#39035;&#20026;&#65306;&ldquo;preferences-&rdquo;+ &#27169;&#22359;&#21517;&#31216; + &ldquo;.svg&rdquo;&#65292;&#20840;&#37096;&#23567;&#20889;</li>
<li>&#21019;&#24314;&#19968;&#20010; qrc &#25991;&#20214;&#65292;&#20854;&#20013;&#21015;&#20986;&#25152;&#26377;&#22270;&#26631;&#30340;&#21517;&#31216;</li>
<li>&#22312;&#20027; *.py &#30446;&#24405;&#19979;&#65292;&#36816;&#34892; pyside-rcc -o myResources.py myqrc.qrc</li>
<li>&#22312; InitGui.py &#20013;&#65292;&#28155;&#21152; import myResource(.py)</li>
<li>&#23558; myResources.py &#21644; myqrc.qrc &#26356;&#26032;&#21040;&#20195;&#30721;&#20179;&#24211;&#65288;git&#65289;&#20013;</li></ul>
<p>&#22914;&#26524;&#28155;&#21152;&#25110;&#26356;&#25913;&#20102;&#22270;&#26631;&#65292;&#24517;&#39035;&#37325;&#22797;&#20197;&#19978;&#27493;&#39588;&#12290; 
</p><p>@kbwbe &#20026; A2Plus &#24037;&#20316;&#21488;&#32534;&#20889;&#20102;&#19968;&#20010;&#20248;&#31168;&#30340;&#33050;&#26412;&#65292;&#29992;&#20110;&#32534;&#35793;&#36164;&#28304;&#12290;&#35265;&#19979;&#12290; 
</p><p>&#28155;&#21152;&#39318;&#36873;&#39033;&#39029;&#38754;&#65306;
</p>
<ul><li>&#38656;&#35201;&#20808;&#32534;&#35793; Qt Designer &#25554;&#20214;&#65292;&#35813;&#25554;&#20214;&#21487;&#20197;&#35753;&#20320;&#36890;&#36807; <a href="../index.php?title=Compile_on_Linux/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Compile on Linux/zh-cn (page does not exist)">Qt Designer</a> &#28155;&#21152;&#39318;&#36873;&#39033;&#35774;&#32622;</li>
<li>&#22312; Qt Designer &#20013;&#21019;&#24314;&#19968;&#20010;&#31354;&#30333;&#30340; widget&#65288;&#19981;&#21253;&#21547;&#25353;&#38062;&#25110;&#20854;&#20182;&#25511;&#20214;&#65289;</li>
<li>&#35774;&#35745;&#20320;&#30340;&#39318;&#36873;&#39033;&#39029;&#38754;&#65292;&#20219;&#20309;&#38656;&#35201;&#20445;&#23384;&#30340;&#35774;&#32622;&#65288;preferences&#65289;&#65292;&#37117;&#24517;&#39035;&#20351;&#29992;&#25554;&#20214;&#20013;&#25552;&#20379;&#30340; Gui::Pref* &#31867;&#22411;&#25511;&#20214;</li>
<li>&#22312;&#36825;&#20123;&#25511;&#20214;&#20013;&#65292;&#19968;&#23450;&#35201;&#22635;&#20889; PrefName&#65288;&#39318;&#36873;&#39033;&#30340;&#20540;&#21517;&#31216;&#65289;&#21644; PrefPath&#65288;&#20363;&#22914; Mod/MyWorkbenchName&#65289;&#65292;&#22914;&#27492;&#65292;&#39318;&#36873;&#39033;&#30340;&#20540;&#23558;&#20250;&#20445;&#23384;&#22312; BaseApp/Preferences/Mod/MyWorkbenchName &#36335;&#24452;&#19979;</li>
<li>&#23558; .ui &#25991;&#20214;&#20445;&#23384;&#22312;&#20320;&#30340;&#24037;&#20316;&#21488;&#30446;&#24405;&#19979;&#65292;&#30830;&#20445; CMake &#21487;&#22788;&#29702;&#35813;&#25991;&#20214;</li>
<li>&#22312;&#24037;&#20316;&#21488;&#20195;&#30721;&#30340;&#26576;&#19968;&#22788;&#65292;&#20363;&#22914;&#22312; InitGui &#25991;&#20214;&#30340; Initialize &#26041;&#27861;&#20013;&#65288;&#20854;&#20182;&#22320;&#26041;&#20063;&#21487;&#20197;&#65289;&#65292;&#28155;&#21152;&#65306;FreeCADGui.addPreferencePage("/path/to/myUiFile.ui", "MyGroup")</li></ul>
<p>&#20854;&#20013;&ldquo;MyGroup&rdquo;&#26159;&#24038;&#20391;&#30340;&#39318;&#36873;&#39033;&#20998;&#32452;&#20043;&#19968;&#12290;FreeCAD &#20250;&#33258;&#21160;&#22312;&#24050;&#30693;&#20301;&#32622;&#26597;&#25214;&#21517;&#20026; preferences-mygroup.svg &#30340;&#22270;&#26631;&#25991;&#20214;&#65288;&#21487;&#36890;&#36807; FreeCADGui.addIconPath() &#26469;&#25193;&#23637;&#26597;&#25214;&#36335;&#24452;&#65289;
</p>
<ul><li>&#30830;&#20445; addPreferencePage() &#26041;&#27861;&#21482;&#34987;&#35843;&#29992;&#19968;&#27425;&#65292;&#21542;&#21017;&#39318;&#36873;&#39033;&#39029;&#38754;&#20250;&#34987;&#37325;&#22797;&#28155;&#21152;</li></ul>
<p><span id="Distribution"></span>
</p>
<h4><span id=".E5.8F.91.E8.A1.8C"></span><span class="mw-headline" id="&#21457;&#34892;">&#21457;&#34892;</span></h4>
<p>&#35201;&#20998;&#21457;&#24744;&#30340; Python &#24037;&#20316;&#21488;&#65292;&#21487;&#20197;&#30452;&#25509;&#25226;&#25991;&#20214;&#25918;&#21040;&#26576;&#20010;&#22320;&#26041;&#65292;&#28982;&#21518;&#35753;&#29992;&#25143;&#19979;&#36733;&#24182;&#25163;&#21160;&#25918;&#20837;&#20182;&#20204;&#30340; Mod &#30446;&#24405;&#65307;&#20134;&#21487;&#23558;&#20195;&#30721;&#25176;&#31649;&#22312;&#22312;&#32447;&#30340; git &#20179;&#24211;&#65288;&#30446;&#21069;&#25903;&#25345; GitHub&#12289;GitLab&#12289;Framagit &#21644; Debian Salsa&#65289;&#65292;&#24182;&#37197;&#32622;&#22909;&#35753; <a href="../index.php?title=Std_AddonMgr/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Std AddonMgr/zh-cn (page does not exist)">&#25554;&#20214;&#31649;&#29702;&#22120;</a> &#33258;&#21160;&#23433;&#35013;&#12290;
&#20851;&#20110;&#22914;&#20309;&#23558;&#24037;&#20316;&#21488;&#21152;&#20837; FreeCAD &#23448;&#26041;&#25554;&#20214;&#21015;&#34920;&#30340;&#35828;&#26126;&#65292;&#35831;&#21442;&#35265; <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD-addons/blob/master/README.md">FreeCAD Addons GitHub &#20179;&#24211;</a>&#12290;&#20351;&#29992;&#25554;&#20214;&#31649;&#29702;&#22120;&#26102;&#65292;&#24212;&#21253;&#21547;&#19968;&#20010; <a href="../Package_Metadata.html" title="Package Metadata">package.xml &#20803;&#25968;&#25454;&#25991;&#20214;</a>&#65292;&#35813;&#25991;&#20214;&#21578;&#35785;&#25554;&#20214;&#31649;&#29702;&#22120;&#22914;&#20309;&#25214;&#21040;&#24037;&#20316;&#21488;&#22270;&#26631;&#65292;&#24182;&#26174;&#31034;&#25551;&#36848;&#12289;&#29256;&#26412;&#21495;&#31561;&#20449;&#24687;&#12290;&#23427;&#36824;&#21487;&#20197;&#29992;&#26469;&#25351;&#23450;&#35813;&#24037;&#20316;&#21488;&#20381;&#36182;&#30340;&#20854;&#20182;&#24037;&#20316;&#21488;&#25110; Python &#21253;&#65292;&#38459;&#27490;&#30340;&#21253;&#65292;&#25110;&#32773;&#38656;&#35201;&#26367;&#20195;&#30340;&#21253;&#12290;
</p><p>&#20851;&#20110;&#22914;&#20309;&#24555;&#36895;&#21019;&#24314;&#22522;&#26412;&#30340; package.xml &#25991;&#20214;&#24182;&#23558;&#24037;&#20316;&#21488;&#28155;&#21152;&#21040;<a href="../Std_AddonMgr.html" title="Std AddonMgr">&#25554;&#20214;&#31649;&#29702;&#22120;</a>&#65292;&#35831;&#35265;&#65306; <a href="../index.php?title=Add_Workbench_to_Addon_Manager/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Add Workbench to Addon Manager/zh-cn (page does not exist)">&#28155;&#21152;&#24037;&#20316;&#21488;&#21040;&#25554;&#20214;&#31649;&#29702;&#22120;</a>&#12290;
</p><p>&#20063;&#21487;&#20197;&#36873;&#25321;&#28155;&#21152;&#19968;&#20010;&#21333;&#29420;&#30340;&#20803;&#25968;&#25454;&#25991;&#20214;&#26469;&#25551;&#36848;&#20320;&#30340; Python &#20381;&#36182;&#39033;&#12290;&#36825;&#20010;&#25991;&#20214;&#21487;&#20197;&#26159;&#21517;&#20026; metadata.txt &#30340;&#25991;&#20214;&#65292;&#29992;&#26469;&#25551;&#36848;&#24037;&#20316;&#21488;&#23545;&#20854;&#20182;&#25554;&#20214;&#12289;&#24037;&#20316;&#21488;&#25110; Python &#27169;&#22359;&#30340;&#22806;&#37096;&#20381;&#36182;&#65307;&#20063;&#21487;&#20197;&#26159;&#19968;&#20010; <a rel="nofollow" class="external text" href="https://pip.pypa.io/en/latest/reference/requirements-file-format/">requirements.txt</a> &#25991;&#20214;&#65292;&#29992;&#26469;&#25551;&#36848;&#20320;&#30340; Python &#20381;&#36182;&#12290;&#27880;&#24847;&#65292;&#22914;&#26524;&#20351;&#29992; requirements.txt &#25991;&#20214;&#65292;&#25554;&#20214;&#31649;&#29702;&#22120;&#20165;&#20250;&#20351;&#29992;&#20854;&#20013;&#25351;&#23450;&#30340;&#21253;&#21517;&#26469;&#36827;&#34892;&#20381;&#36182;&#20851;&#31995;&#35299;&#26512;&#65292;&#32780;&#19981;&#20250;&#25903;&#25345; pip &#30340;&#21629;&#20196;&#34892;&#36873;&#39033;&#12289;&#21253;&#21547;&#36873;&#39033;&#21644;&#29256;&#26412;&#20449;&#24687;&#12290;&#22914;&#26524;&#38656;&#35201; pip &#30340;&#36825;&#20123;&#21151;&#33021;&#65292;&#29992;&#25143;&#21487;&#20197;&#25163;&#21160;&#36816;&#34892; pip &#24182;&#20351;&#29992;&#35813; requirements &#25991;&#20214;&#12290;
</p><p>metadata.txt &#25991;&#20214;&#26159;&#32431;&#25991;&#26412;&#26684;&#24335;&#65292;&#21253;&#21547;&#19977;&#34892;&#21487;&#36873;&#30340;&#20869;&#23481;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span>
<span class="n">pylibs</span><span class="o">=</span>
<span class="n">optionalpylibs</span><span class="o">=</span>
</pre></div>
<p>&#27599;&#19968;&#34892;&#24212;&#21253;&#21547;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#38548;&#30340;&#21015;&#34920;&#65292;&#21015;&#20986;&#35813;&#24037;&#20316;&#21488;&#25152;&#20381;&#36182;&#30340;&#39033;&#30446;&#12290;&#20381;&#36182;&#39033;&#21487;&#20197;&#26159; FreeCAD &#20869;&#37096;&#30340;&#24037;&#20316;&#21488;&#65292;&#20363;&#22914; "FEM"&#65292;&#20063;&#21487;&#20197;&#26159;&#22806;&#37096;&#25554;&#20214;&#65292;&#27604;&#22914; "Curves". &#25152;&#38656;&#21644;&#21487;&#36873;&#30340; Python &#24211;&#24212;&#20351;&#29992;&#23427;&#20204;&#30340;&#26631;&#20934; Python &#21517;&#31216;&#65292;&#23601;&#20687;&#29992; pip install &#23433;&#35013;&#26102;&#25152;&#20351;&#29992;&#30340;&#21517;&#31216;&#19968;&#26679;&#12290;&#20363;&#22914;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span><span class="n">FEM</span><span class="p">,</span><span class="n">Curves</span>
<span class="n">pylibs</span><span class="o">=</span><span class="n">ezdxf</span>
<span class="n">optionalpylibs</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span><span class="n">git</span>
</pre></div>
<p>&#20063;&#21487;&#20197;&#22312;&#25554;&#20214;&#20013;&#21253;&#21547;&#19968;&#20010;&#22312;&#21368;&#36733;&#26102;&#25191;&#34892;&#30340;&#33050;&#26412;&#25991;&#20214;&#65292;&#21517;&#20026; uninstall.py&#65292;&#20301;&#20110;&#25554;&#20214;&#30340;&#39030;&#23618;&#30446;&#24405;&#12290;&#24403;&#29992;&#25143;&#36890;&#36807;&#25554;&#20214;&#31649;&#29702;&#22120;&#21368;&#36733;&#36825;&#19968;&#25554;&#20214;&#26102;&#65292;&#36825;&#20010;&#33050;&#26412;&#20250;&#34987;&#25191;&#34892;&#12290;&#24744;&#21487;&#20197;&#20351;&#29992;&#36825;&#19968;&#33050;&#26412;&#28165;&#29702;&#25554;&#20214;&#23545;&#29992;&#25143;&#31995;&#32479;&#20316;&#20986;&#30340;&#20462;&#25913;&#65292;&#27604;&#22914;&#21487;&#20197;&#20351;&#29992;&#35813;&#25554;&#20214;&#21024;&#38500;&#32531;&#23384;&#25991;&#20214;&#31561;&#65292;&#30830;&#20445;&#25554;&#20214;&#21368;&#36733;&#21518;&#19981;&#20250;&#30041;&#19979;&#27531;&#20313;&#12290;
</p><p>&#20026;&#20102;&#30830;&#20445;&#25554;&#20214;&#33021;&#34987;&#25554;&#20214;&#31649;&#29702;&#22120;&#27491;&#30830;&#35835;&#21462;&#65292;&#21487;&#20197;&#21551;&#29992;&ldquo;&#24320;&#21457;&#32773;&#27169;&#24335;&rdquo;&#12290;&#22312;&#35813;&#27169;&#24335;&#19979;&#65292;&#25554;&#20214;&#31649;&#29702;&#22120;&#20250;&#26816;&#26597;&#25152;&#26377;&#21487;&#29992;&#25554;&#20214;&#65292;&#30830;&#35748;&#36825;&#20123;&#25554;&#20214;&#30340;&#20803;&#25968;&#25454;&#21253;&#21547;&#24517;&#35201;&#30340;&#20803;&#32032;&#12290;&#35201;&#21551;&#29992;&#27492;&#27169;&#24335;&#65292;&#35831;&#36873;&#25321;&#65306;
<b>&#32534;&#36753; &rarr; &#39318;&#36873;&#39033;... &rarr; &#25554;&#20214;&#31649;&#29702;&#22120; &rarr; &#25554;&#20214;&#31649;&#29702;&#22120;&#36873;&#39033; &rarr; &#25554;&#20214;&#24320;&#21457;&#32773;&#27169;&#24335;</b>&#65292;&#35814;&#24773;&#35831;&#21442;&#35265; <a href="../zh-cn/Preferences_Editor.html#Addon_manager_options" title="Preferences Editor/zh-cn">&#39318;&#36873;&#39033;&#32534;&#36753;&#22120;</a>&#12290;
</p><p><span id="C++_workbenches"></span>
</p>
<h3><span id="C.2B.2B_.E5.B7.A5.E4.BD.9C.E5.8F.B0"></span><span class="mw-headline" id="C++_&#24037;&#20316;&#21488;">C++ &#24037;&#20316;&#21488;</span></h3>
<p>&#22914;&#26524;&#24744;&#25171;&#31639;&#29992; C++ &#32534;&#20889;&#24037;&#20316;&#21488;&#65292;&#24744;&#21487;&#33021;&#20063;&#20250;&#24819;&#29992; C++ &#26469;&#32534;&#20889;&#24037;&#20316;&#21488;&#30340;&#23450;&#20041;&#65288;&#36825;&#24182;&#19981;&#26159;&#24517;&#38656;&#30340;&#65292;&#20063;&#21487;&#20197;&#21482;&#29992; C++ &#32534;&#20889;&#24037;&#20855;&#37096;&#20998;&#65292;&#24037;&#20316;&#21488;&#23450;&#20041;&#20173;&#28982;&#29992; Python&#65289;&#12290;&#22914;&#26524;&#20351;&#29992; C++ &#32534;&#20889;&#24037;&#20316;&#21488;&#23450;&#20041;&#65292;InitGui.py &#25991;&#20214;&#20250;&#38750;&#24120;&#31616;&#21333;&#65292;&#21487;&#33021;&#21482;&#21253;&#21547;&#19968;&#34892;&#20195;&#30721;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">MyModuleGui</span>
</pre></div>
<p>MyModule &#26159;&#23436;&#25972;&#30340; C++ &#24037;&#20316;&#21488;&#65292;&#21253;&#25324;&#21629;&#20196;&#21644;&#24037;&#20316;&#21488;&#23450;&#20041;&#12290;
</p><p>&#29992; C++ &#32534;&#20889;&#24037;&#20316;&#21488;&#30340;&#26041;&#24335;&#19982;&#20043;&#31867;&#20284;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;&#20856;&#22411;&#30340; Workbench.cpp &#25991;&#20214;&#31034;&#20363;&#65292;&#36866;&#29992;&#20110;&#27169;&#22359;&#30340; Gui &#37096;&#20998;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">namespace</span> <span class="n">MyModuleGui</span> <span class="p">{</span>
    <span class="k">class</span> <span class="nc">MyModuleGuiExport</span> <span class="n">Workbench</span> <span class="p">:</span> <span class="n">public</span> <span class="n">Gui</span><span class="p">::</span><span class="n">StdWorkbench</span>
    <span class="p">{</span>
        <span class="n">TYPESYSTEM_HEADER</span><span class="p">();</span>

    <span class="n">public</span><span class="p">:</span>
        <span class="n">Workbench</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="o">~</span><span class="n">Workbench</span><span class="p">();</span>

        <span class="n">virtual</span> <span class="n">void</span> <span class="n">activated</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="n">void</span> <span class="n">deactivated</span><span class="p">();</span>

    <span class="n">protected</span><span class="p">:</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">ToolBarItem</span><span class="o">*</span> <span class="n">setupToolBars</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">MenuItem</span><span class="o">*</span>    <span class="n">setupMenuBar</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
<p><span id="Preferences"></span>
</p>
<h4><span id=".E9.A6.96.E9.80.89.E9.A1.B9_2"></span><span class="mw-headline" id="&#39318;&#36873;&#39033;_2">&#39318;&#36873;&#39033;</span></h4>
<p>&#24744;&#20063;&#21487;&#20197;&#20026; C++ &#24037;&#20316;&#21488;&#28155;&#21152;&#39318;&#36873;&#39033;&#39029;&#38754;&#65292;&#27493;&#39588;&#19982; Python &#24037;&#20316;&#21488;&#30456;&#20284;&#12290;
</p><p><span id="Distribution"></span>
</p>
<h4><span id=".E5.8F.91.E8.A1.8C_2"></span><span class="mw-headline" id="&#21457;&#34892;_2">&#21457;&#34892;</span></h4>
<p>&#20998;&#21457; C++ &#24037;&#20316;&#21488;&#26377;&#20004;&#31181;&#26041;&#24335;&#65306;&#21487;&#20197;&#33258;&#34892;&#25176;&#31649;&#19981;&#21516;&#25805;&#20316;&#31995;&#32479;&#30340;&#39044;&#32534;&#35793;&#29256;&#26412;&#65292;&#20134;&#21487;&#30003;&#35831;&#23558;&#24744;&#30340;&#20195;&#30721;&#21512;&#24182;&#21040; FreeCAD &#28304;&#20195;&#30721;&#20013;&#12290;&#22914;&#21069;&#25152;&#36848;&#65292;&#36825;&#38656;&#35201;&#36981;&#23432; LGPL2+ &#35768;&#21487;&#35777;&#65292;&#24182;&#19988;&#24517;&#39035;&#20808;&#22312; <a rel="nofollow" class="external text" href="https://forum.freecad.org">FreeCAD &#35770;&#22363;</a> &#21521;&#31038;&#21306;&#23637;&#31034;&#24744;&#30340;&#24037;&#20316;&#21488;&#65292;&#20197;&#25509;&#21463;&#23457;&#26680;&#12290;
</p><p><span id="FreeCAD_commands"></span>
</p>
<h2><span id="FreeCAD_.E5.91.BD.E4.BB.A4"></span><span class="mw-headline" id="FreeCAD_&#21629;&#20196;">FreeCAD &#21629;&#20196;</span></h2>
<p>FreeCAD &#21629;&#20196;&#26159; FreeCAD &#30028;&#38754;&#30340;&#22522;&#26412;&#26500;&#24314;&#22359;&#12290;&#21516;&#19968;&#20010;&#21629;&#20196;&#21487;&#20197;&#20197;&#24037;&#20855;&#26639;&#25353;&#38062;&#25110;&#33756;&#21333;&#39033;&#30340;&#24418;&#24335;&#20986;&#29616;&#12290;&#21629;&#20196;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340; Python &#31867;&#65292;&#24517;&#39035;&#21253;&#21547;&#20960;&#20010;&#39044;&#23450;&#20041;&#30340;&#23646;&#24615;&#21644;&#20989;&#25968;&#65292;&#29992;&#26469;&#23450;&#20041;&#21629;&#20196;&#30340;&#21517;&#31216;&#12289;&#22270;&#26631;&#65292;&#20197;&#21450;&#28608;&#27963;&#21629;&#20196;&#26102;&#35201;&#25191;&#34892;&#30340;&#25805;&#20316;&#12290;
</p><p><span id="Python_command_definition"></span>
</p>
<h3><span id="Python_.E5.91.BD.E4.BB.A4.E5.AE.9A.E4.B9.89"></span><span class="mw-headline" id="Python_&#21629;&#20196;&#23450;&#20041;">Python &#21629;&#20196;&#23450;&#20041;</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">My_Command_Class</span><span class="p">():</span>
<span class="w">    </span><span class="sd">"""My new command"""</span>

    <span class="k">def</span> <span class="nf">GetResources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"Pixmap"</span>  <span class="p">:</span> <span class="s2">"My_Command_Icon"</span><span class="p">,</span> <span class="c1"># the name of a svg file available in the resources</span>
                <span class="s2">"Accel"</span>   <span class="p">:</span> <span class="s2">"Shift+S"</span><span class="p">,</span> <span class="c1"># a default shortcut (optional)</span>
                <span class="s2">"MenuText"</span><span class="p">:</span> <span class="s2">"My New Command"</span><span class="p">,</span>
                <span class="s2">"ToolTip"</span> <span class="p">:</span> <span class="s2">"What my new command does"</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Do something here"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">IsActive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">"""Here you can define if the command must be active or not (greyed) if certain conditions</span>
<span class="sd">        are met or not. This function is optional."""</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">,</span> <span class="n">My_Command_Class</span><span class="p">())</span>
</pre></div>
<p><span id="C++_command_definition"></span>
</p>
<h3><span id="C.2B.2B_.E5.91.BD.E4.BB.A4.E5.AE.9A.E4.B9.89"></span><span class="mw-headline" id="C++_&#21629;&#20196;&#23450;&#20041;">C++ &#21629;&#20196;&#23450;&#20041;</span></h3>
<p>&#21516;&#26679;&#65292;&#24744;&#20063;&#21487;&#20351;&#29992; C++ &#32534;&#20889;&#21629;&#20196;&#65292;&#36890;&#24120;&#23558;&#20854;&#25918;&#22312; Gui &#27169;&#22359;&#20013;&#30340; Commands.cpp &#25991;&#20214;&#20013;&#12290;&#19968;&#20010;&#20856;&#22411;&#30340; Commands.cpp &#25991;&#20214;&#22914;&#19979;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">DEF_STD_CMD_A</span><span class="p">(</span><span class="n">CmdMyCommand</span><span class="p">);</span>

<span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">CmdMyCommand</span><span class="p">()</span>
  <span class="p">:</span><span class="n">Command</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">sAppModule</span>    <span class="o">=</span> <span class="s2">"MyModule"</span><span class="p">;</span>
  <span class="n">sGroup</span>        <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"MyModule"</span><span class="p">);</span>
  <span class="n">sMenuText</span>     <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Runs my command..."</span><span class="p">);</span>
  <span class="n">sToolTipText</span>  <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sWhatsThis</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sStatusTip</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sPixmap</span>       <span class="o">=</span> <span class="s2">"some_svg_icon_from_my_resource"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">activated</span><span class="p">(</span><span class="nb">int</span> <span class="n">iMsg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">openCommand</span><span class="p">(</span><span class="s2">"My Command"</span><span class="p">);</span>
    <span class="n">doCommand</span><span class="p">(</span><span class="n">Doc</span><span class="p">,</span><span class="s2">"print('Hello, world!')"</span><span class="p">);</span>
    <span class="n">commitCommand</span><span class="p">();</span>
    <span class="n">updateActive</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb">bool</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">isActive</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">getActiveGuiDocument</span><span class="p">()</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CreateMyModuleCommands</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Gui</span><span class="p">::</span><span class="n">CommandManager</span> <span class="o">&amp;</span><span class="n">rcCmdMgr</span> <span class="o">=</span> <span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="o">-&gt;</span><span class="n">commandManager</span><span class="p">();</span>
    <span class="n">rcCmdMgr</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="n">new</span> <span class="n">CmdMyCommand</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
<p><span id='"Compiling"_your_resource_file'></span>
</p>
<h2><span id=".E2.80.9C.E7.BC.96.E8.AF.91.E2.80.9D.E8.B5.84.E6.BA.90.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="&ldquo;&#32534;&#35793;&rdquo;&#36164;&#28304;&#25991;&#20214;">&ldquo;&#32534;&#35793;&rdquo;&#36164;&#28304;&#25991;&#20214;</span></h2>
<p>A2Plus &#24037;&#20316;&#21488;&#30340; compileA2pResources.py &#25991;&#20214;&#65306;
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#***************************************************************************</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Copyright (c) 2019 kbwbe                                              *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Portions of code based on hamish's assembly 2                         *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1">#*   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1">#*   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1">#*   the License, or (at your option) any later version.                   *</span>
<span class="c1">#*   for detail see the LICENSE text file.                                 *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is distributed in the hope that it will be useful,       *</span>
<span class="c1">#*   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1">#*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1">#*   GNU Library General Public License for more details.                  *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1">#*   License along with this program; if not, write to the Free Software   *</span>
<span class="c1">#*   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1">#*   USA                                                                   *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#***************************************************************************</span>

<span class="c1"># This script compiles the A2plus icons for py2 and py3</span>
<span class="c1"># For Linux only</span>
<span class="c1"># Start this file in A2plus main directory</span>
<span class="c1"># Make sure pyside-rcc is installed</span>

<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">glob</span>

<span class="n">qrc_filename</span> <span class="o">=</span> <span class="s1">'temp.qrc'</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>

<span class="n">qrc</span> <span class="o">=</span> <span class="s1">'''&lt;RCC&gt;</span>
<span class="se">\t</span><span class="s1">&lt;qresource prefix="/"&gt;'''</span>
<span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'./icons/*.svg'</span><span class="p">):</span>
    <span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n\t\t</span><span class="s1">&lt;file&gt;</span><span class="si">%s</span><span class="s1">&lt;/file&gt;'</span> <span class="o">%</span> <span class="n">fn</span>
<span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'''</span><span class="se">\n\t</span><span class="s1">&lt;/qresource&gt;</span>
<span class="s1">&lt;/RCC&gt;'''</span>

<span class="nb">print</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">,</span><span class="s1">'w'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -o a2p_Resources2.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -py3 -o a2p_Resources3.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>

<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h2><span class="mw-headline" id="New_Standard_External_Workbench">New Standard External Workbench</span></h2>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>The structure and file content for a workbench described above is the classic way of creating a new workbench. One can use a slight variation in the structure of files when making a new Python workbench, that alternative way is best described as a <b>namespaced workbench</b>, opening up the possibility to use pip to install the workbench. Both structures work, so it is more a question of preference when creating a new workbench. The style and structure for these workbenches reside in a dedicated namespace, instead of being available in the global namespace of FreeCAD.
</p>
</div>
 <div lang="en" dir="ltr" class="mw-content-ltr">
<p>(Add an explanation of <b>dedicated namespace</b>)
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Structure">Structure</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>This structure is also based on the /Mod directory (see <a href="#The_workbench_structure">the workbench structure</a> above) but differs in the use of subdirectories:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">/</span><span class="n">Mod</span><span class="o">/</span>
 <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
     <span class="o">+--</span> <span class="n">freecad</span><span class="o">/</span>
         <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
             <span class="o">+--</span> <span class="n">__init</span><span class="o">.</span><span class="n">py__</span>
             <span class="o">+--</span> <span class="n">init_gui</span><span class="o">.</span><span class="n">py</span>
             <span class="o">+--</span> <span class="n">resources</span><span class="o">/</span>
                 <span class="o">+--</span> <span class="n">icons</span><span class="o">/</span>
                 <span class="o">+--</span> <span class="n">translations</span><span class="o">/</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Starter_Kit">Starter Kit</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>A starter kit to create the structure of an external Python workbench is available on GitHub: <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/freecad.workbench_starterkit">FreeCAD Workbench Starter Kit</a>
</p>
</div>
<p><span id="Related"></span>
</p>
<h2><span id=".E7.9B.B8.E5.85.B3.E9.93.BE.E6.8E.A5"></span><span class="mw-headline" id="&#30456;&#20851;&#38142;&#25509;">&#30456;&#20851;&#38142;&#25509;</span></h2>
<ul><li><a href="../index.php?title=Translating_an_external_workbench/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Translating an external workbench/zh-cn (page does not exist)">&#32763;&#35793;&#22806;&#37096;&#24037;&#20316;&#21488;</a></li>
<li><a rel="nofollow" class="external text" href="https://forum.freecad.org/viewtopic.php?t=47460">&#35770;&#22363;&#35752;&#35770;&#65306;&#21629;&#21517;&#31354;&#38388;&#24037;&#20316;&#21488;</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/FreeCAD/freecad.workbench_starterkit">freecad.workbench_starterkit</a></li></ul>
<p><br>
</p>
<div class="docnav">
    <div><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span> <a href="../zh-cn/Localisation.html" title="Localisation/zh-cn">&#26412;&#22320;&#21270;</a></div>
    <div><a href="../index.php?title=Extra_python_modules/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Extra python modules/zh-cn (page does not exist)">&#20854;&#23427; Python &#27169;&#22359;</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16" class="mw-file-element" data-file-width="64" data-file-height="64"></span></span></div>
    <div><a href="../zh-cn/Online_Help_Toc.html" title="Online Help Toc/zh-cn">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Online_Help_Toc.svg" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="48" data-file-height="48"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: var(--background-color-neutral-subtle, #fefefe);"><span typeof="mw:File"><a href="../index.php?title=Power_user_hub.png&amp;filetimestamp=20200511213015&amp;.html" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24" class="mw-file-element" data-file-width="128" data-file-height="128"></a></span> <a href="../zh-cn/Power_users_hub.html" title="Power users hub/zh-cn">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid var(--border-color-base, #aaaaaa); text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: var(--background-color-neutral-subtle, #fefefe);">
<ul><li><b>FreeCAD scripting:</b> <a href="../index.php?title=Python/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Python/zh-cn (page does not exist)">Python</a>, <a href="../zh-cn/Introduction_to_Python.html" title="Introduction to Python/zh-cn">Introduction to Python</a>, <a href="../zh-cn/Python_scripting_tutorial.html" title="Python scripting tutorial/zh-cn">Python scripting tutorial</a>, <a href="../zh-cn/FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/zh-cn">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="../zh-cn/Builtin_modules.html" title="Builtin modules/zh-cn">Builtin modules</a>, <a href="../index.php?title=Units/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Units/zh-cn (page does not exist)">Units</a>, <a href="../index.php?title=Quantity/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Quantity/zh-cn (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a class="mw-selflink selflink">Workbench creation</a>, <a href="../index.php?title=Gui_Command/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Gui Command/zh-cn (page does not exist)">Gui Commands</a>, <a href="../zh-cn/Command.html" title="Command/zh-cn">Commands</a>, <a href="../index.php?title=Installing_more_workbenches/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Installing more workbenches/zh-cn (page does not exist)">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../zh-cn/Mesh_Scripting.html" title="Mesh Scripting/zh-cn">Mesh Scripting</a>, <a href="../zh-cn/Topological_data_scripting.html" title="Topological data scripting/zh-cn">Topological data scripting</a>, <a href="../index.php?title=Mesh_to_Part/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Mesh to Part/zh-cn (page does not exist)">Mesh to Part</a>, <a href="../index.php?title=PythonOCC/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PythonOCC/zh-cn (page does not exist)">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="../zh-cn/Scripted_objects.html" title="Scripted objects/zh-cn">Scripted objects</a>, <a href="../zh-cn/Viewprovider.html" title="Viewprovider/zh-cn">Viewproviders</a> <small>(<a href="../index.php?title=Custom_icon_in_tree_view/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Custom icon in tree view/zh-cn (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../index.php?title=Scenegraph/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Scenegraph/zh-cn (page does not exist)">Coin (Inventor) scenegraph</a>, <a href="../index.php?title=Pivy/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Pivy/zh-cn (page does not exist)">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../index.php?title=Interface_creation/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Interface creation/zh-cn (page does not exist)">Interface creation</a>, <a href="../index.php?title=Dialog_creation/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation/zh-cn (page does not exist)">Interface creation completely in Python</a> <small>(<a href="../index.php?title=Dialog_creation_with_various_widgets/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation with various widgets/zh-cn (page does not exist)">1</a>, <a href="../index.php?title=Dialog_creation_reading_and_writing_files/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation reading and writing files/zh-cn (page does not exist)">2</a>, <a href="../index.php?title=Dialog_creation_setting_colors/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation setting colors/zh-cn (page does not exist)">3</a>, <a href="../index.php?title=Dialog_creation_image_and_animated_GIF/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation image and animated GIF/zh-cn (page does not exist)">4</a>, <a href="../index.php?title=PySide_usage_snippets/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PySide usage snippets/zh-cn (page does not exist)">5</a>)</small>, <a href="../index.php?title=PySide/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PySide/zh-cn (page does not exist)">PySide</a>, PySide examples <a href="../index.php?title=PySide_Beginner_Examples/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Beginner Examples/zh-cn (page does not exist)">beginner</a>, <a href="../index.php?title=PySide_Intermediate_Examples/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Intermediate Examples/zh-cn (page does not exist)">intermediate</a>, <a href="../index.php?title=PySide_Advanced_Examples/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Advanced Examples/zh-cn (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="../zh-cn/Macros.html" title="Macros/zh-cn">Macros</a>, <a href="../index.php?title=How_to_install_macros/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="How to install macros/zh-cn (page does not exist)">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../zh-cn/Embedding_FreeCAD.html" title="Embedding FreeCAD/zh-cn">Embedding FreeCAD</a>, <a href="../index.php?title=Embedding_FreeCADGui/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Embedding FreeCADGui/zh-cn (page does not exist)">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="../index.php?title=Expressions/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Expressions/zh-cn (page does not exist)">Expressions</a>, <a href="../index.php?title=Code_snippets/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Code snippets/zh-cn (page does not exist)">Code snippets</a>, <a href="../index.php?title=Line_drawing_function/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="Line drawing function/zh-cn (page does not exist)">Line drawing function</a>, <a href="../index.php?title=FreeCAD_vector_math_library/zh-cn&amp;action=edit&amp;redlink=1.html" class="new" title="FreeCAD vector math library/zh-cn (page does not exist)">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="../zh-cn/User_hub.html" title="User hub/zh-cn">User hub</a>, <a href="../zh-cn/Power_users_hub.html" title="Power users hub/zh-cn">Power users hub</a>, <a href="../zh-cn/Developer_hub.html" title="Developer hub/zh-cn">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20251220220316
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc]
CPU time usage: 0.111 seconds
Real time usage: 0.161 seconds
Preprocessor visited node count: 486/1000000
Post&#8208;expand include size: 10736/2097152 bytes
Template argument size: 13089/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 12/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 32653/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   46.374      1 -total
 23.01%   10.671      1 Template:Powerdocnavi/zh-cn
 21.05%    9.760     12 Template:Code
  9.52%    4.417      1 Template:Navigation_menu_2
  7.52%    3.487      1 Template:MenuCommand
  7.24%    3.356      2 Template:Docnav
  6.58%    3.053     10 Template:Incode
  6.36%    2.948      1 Template:VersionMinus
  5.60%    2.596      1 Template:TOCright
  5.40%    2.503      1 Template:VeryImportantMessage
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:388031-0!canonical and timestamp 20251220220316 and revision id 1718690. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>